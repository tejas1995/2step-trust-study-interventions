(()=>{"use strict";var t={d:(n,i)=>{for(var e in i)t.o(i,e)&&!t.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:i[e]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)};t.d({},{o:()=>l});let n="https://tejassrinivasan.pythonanywhere.com/";async function i(t){if(l)console.log("logged (mock)",t);else{t.url_data=globalThis.url_data,console.log("Data"),"study_id"in t.url_data||(t.url_data.study_id="trialrun_studies"),t.url_data.queue_id=globalThis.uid,console.log("logged",t),console.log("Logging to",n+"log");try{return await $.ajax(n+"log",{data:JSON.stringify({project:"2step-trust-study-interventions/"+t.url_data.study_id,uid:globalThis.uid.replace("/","_")+"_"+t.url_data.prolific_id,payload:JSON.stringify(t)}),type:"POST",contentType:"application/json"})}catch(t){console.log(t)}}}let e=null;function o(t,n,i,o,a,l=!0){e&&(clearInterval(e),e=null),i.forEach((t=>t.setAttribute("disabled","true")));let r=document.createElement("div");r.id=`timer_${n.id}`,r.style.fontWeight="bold",r.style.marginTop="10px",n.appendChild(r);let _=t;r.textContent=l?a+` You can make your selection in ${_} second(s).`:a,e=setInterval((()=>{_--,_>=0?r.textContent=l?a+` You can make your selection in ${_} second(s).`:a:(null!==e&&(clearInterval(e),e=null),e=null,n.removeChild(r),i.forEach((t=>t.removeAttribute("disabled"))),o&&o())}),1e3)}const a=t=>new Promise((n=>setTimeout(n,t)));var l=!1;var r=[];let _,s,c,d,u,p=-1,v=null,f=-1,g=-1,b=-1,m=-1,h=0,y=5,x=-1,A=1,w=0,I=0,k=0;var T={},E={};let B,S=-1,N=-1;function O(t,n){if(!t)throw n||"Assertion failed"}function P(t){w+=t,Z&&5==w&&(w+=t),0==w?$("#button_instructions_prev").attr("disabled","true"):$("#button_instructions_prev").removeAttr("disabled"),w>=6?($("#instructions_and_decorations").show(),$("#button_instructions_next").val("Start study")):($("#instructions_and_decorations").hide(),$("#button_instructions_next").val("Next")),7==w&&($("#main_box_instructions").hide(),$("#pre_study_survey").show()),8==w&&($("#pre_study_survey").hide(),$("#main_box_experiment").show(),L()),$("#main_box_instructions").children(":not(input)").each(((t,n)=>{$(n).hide()})),$(`#instructions_${w}`).show()}function C(t){d=Date.now(),f=t,O(1==t||2==t,"Invalid option!"),1==t?($("#button_initial_decision_option1").attr("activedecision","true"),$("#button_initial_decision_option2").removeAttr("activedecision")):($("#button_initial_decision_option1").removeAttr("activedecision"),$("#button_initial_decision_option2").attr("activedecision","true")),$("#initial_user_confidence_div").show(),$("#button_initial_decision_option1").attr("disabled","true"),$("#button_initial_decision_option2").attr("disabled","true"),$("#button_initial_confidence_option1").removeAttr("disabled"),$("#button_initial_confidence_option2").removeAttr("disabled"),$("#button_initial_confidence_option3").removeAttr("disabled")}function D(t){s=Date.now(),b=t,O(1==t||2==t||3==t,"Invalid option!"),1==t?($("#button_initial_confidence_option1").attr("activedecision","true"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").removeAttr("activedecision")):2==t?($("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").attr("activedecision","true"),$("#button_initial_confidence_option3").removeAttr("activedecision")):($("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").attr("activedecision","true")),$("#button_initial_confidence_option1").attr("disabled","true"),$("#button_initial_confidence_option2").attr("disabled","true"),$("#button_initial_confidence_option3").attr("disabled","true"),$("#button_final_decision_option1").removeAttr("disabled"),$("#button_final_decision_option2").removeAttr("disabled"),async function(){console.log("Getting AI assistance...");let t=v.ai_confidence,n=k;if("user_reported"==V&&(n=(y-5)/2.5,console.log("Using user reported trust value: ",y)),T={intervention_applied:!1,trust_level_at_start_of_interaction:n},"none"==U||f==v.ai_prediction)console.log("Not applying any intervention."),t=v.ai_confidence;else if("confidence_manip"==U)if("none"==R||"mitigate_undertrust"==R&&n<H||"mitigate_overtrust"==R&&n>H){if(console.log("Applying AI confidence manipulation intervention."),"fixed"==F){let n=Number(v.ai_confidence.replace("%",""))/100,i=Math.min(1,n+z);i=Math.max(.5,i),t=String((100*i).toFixed(0))+"%";let e=(i-n).toFixed(2);console.log("Actual AI confidence: ",v.ai_confidence,", Confidence shown to user: ",t),T.conf_actual=v.ai_confidence,T.conf_displayed=t,T.conf_change=e,T.intervention_applied=!0}}else console.log("Conditions for applying 'confidence manipulation' intervention not satisfied.");else if("ai_explanation"==U)if("none"==R||"mitigate_undertrust"==R&&n<H||"mitigate_overtrust"==R&&n>H){if(console.log("Applying AI explanation intervention."),"fixed"==F){console.log("Showing explanation");let t=v.ai_explanation?v.ai_explanation:"No explanation provided";$("#ai_explanation_span").html(t),$("#ai_explanation_div").show(),T.explanation_shown=t,T.intervention_applied=!0,o(15,document.getElementById("ai_explanation_div"),[document.getElementById("button_final_decision_option1"),document.getElementById("button_final_decision_option2")],null,"Please read the explanation.")}}else console.log("Conditions for applying 'AI explanation' intervention not satisfied.");else if("ai_contrastive_explanation"==U)if("none"==R||"mitigate_undertrust"==R&&n<H||"mitigate_overtrust"==R&&n>H){if(console.log("Applying AI explanation intervention."),"fixed"==F){console.log("Showing explanation");let t=v.ai_contrastive_explanation?v.ai_contrastive_explanation:"No explanation provided";$("#ai_contrastive_explanation_span").html(t),$("#ai_contrastive_explanation_div").show(),T.explanation_shown=t,T.intervention_applied=!0,o(10,document.getElementById("ai_contrastive_explanation_div"),[document.getElementById("button_final_decision_option1"),document.getElementById("button_final_decision_option2")],null,"Please read the explanation.")}}else console.log("Conditions for applying 'AI explanation' intervention not satisfied.");else if("both_explanation_types"==U){if(O("mitigate_underandovertrust"==R,"Goal for 'both explanation types' intervention should be 'mitigate_underandovertrust'"),n<K){console.log("Applying explanation intervention for undertrust"),console.log("Showing explanation");let t=v.ai_explanation?v.ai_explanation:"No explanation provided";$("#ai_explanation_span").html(t),$("#ai_explanation_div").show(),T.explanation_shown=t,T.intervention_applied=!0,o(15,document.getElementById("ai_explanation_div"),[document.getElementById("button_final_decision_option1"),document.getElementById("button_final_decision_option2")],null,"Please read the explanation.")}else if(n>Q){console.log("Applying contrastive explanation intervention for overtrust");let t=v.ai_contrastive_explanation?v.ai_contrastive_explanation:"No explanation provided";$("#ai_contrastive_explanation_span").html(t),$("#ai_contrastive_explanation_div").show(),T.explanation_shown=t,T.intervention_applied=!0,o(10,document.getElementById("ai_contrastive_explanation_div"),[document.getElementById("button_final_decision_option1"),document.getElementById("button_final_decision_option2")],null,"Please read the explanation.")}}else"ai_thinking"==U?("none"==R||"mitigate_undertrust"==R&&n<H||"mitigate_overtrust"==R&&n>H)&&(console.log("Applying AI thinking intervention."),"fixed"==F&&(console.log("Showing AI thinking"),T.intervention_applied=!0,$("#ai_thinking_div").show(),await a(1e4),$("#ai_thinking_div").hide())):"ai_forced_pause"==U?("none"==R||"mitigate_undertrust"==R&&n<H||"mitigate_overtrust"==R&&n>H)&&(console.log("Applying AI forced pause intervention."),"fixed"==F)&&(console.log("Showing AI forced pause"),T.intervention_applied=!0,o(10,document.getElementById("ai_assistance_div"),[document.getElementById("button_final_decision_option1"),document.getElementById("button_final_decision_option2")],null,"Please take some time to carefully consider the AI's suggestion.")):"both_pause_types"==U&&(O("mitigate_underandovertrust"==R,"Goal for 'both pause types' intervention should be 'mitigate_underandovertrust'"),n<K?(console.log("Applying AI thinking intervention for undertrust"),console.log("Showing AI thinking"),T.intervention_applied=!0,$("#ai_thinking_div").show(),await a(1e4),$("#ai_thinking_div").hide()):n>Q&&(console.log("Applying AI forced pause intervention for overtrust"),console.log("Showing AI forced pause"),T.intervention_applied=!0,o(10,document.getElementById("ai_assistance_div"),[document.getElementById("button_final_decision_option1"),document.getElementById("button_final_decision_option2")],null,"Please take some time to carefully consider the AI's suggestion.")));console.log("AI Assistance Intervention Details: ",T),$("#ai_prediction_span").html("Option "+v.ai_prediction),$("#ai_confidence_span").html(t),$("#ai_assistance_div").show(),$("#final_user_decision_div").show()}()}function j(t){u=Date.now(),g=t,O(1==t||2==t,"Invalid option!"),1==t?($("#button_final_decision_option1").attr("activedecision","true"),$("#button_final_decision_option2").removeAttr("activedecision")):($("#button_final_decision_option1").removeAttr("activedecision"),$("#button_final_decision_option2").attr("activedecision","true")),$("#final_user_confidence_div").show(),$("#button_final_decision_option1").attr("disabled","true"),$("#button_final_decision_option2").attr("disabled","true"),$("#button_final_confidence_option1").removeAttr("disabled"),$("#button_final_confidence_option2").removeAttr("disabled"),$("#button_final_confidence_option3").removeAttr("disabled")}function q(t){c=Date.now(),m=t,O(1==t||2==t||3==t,"Invalid option!"),1==t?($("#button_final_confidence_option1").attr("activedecision","true"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").removeAttr("activedecision")):2==t?($("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").attr("activedecision","true"),$("#button_final_confidence_option3").removeAttr("activedecision")):($("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").attr("activedecision","true")),$("#button_final_confidence_option1").attr("disabled","true"),$("#button_final_confidence_option2").attr("disabled","true"),$("#button_final_confidence_option3").attr("disabled","true"),async function(){let t=v.correct_option,n=t==g,i=v.ai_is_correct,e="Correct answer: <b>Option "+t+"</b>.<br>";e+=n?"You picked Option "+g+", which was <span class='color_correct'><b>correct</b></span>.<br>":"You picked Option "+g+", which was <span class='color_incorrect'><b>incorrect</b></span>.<br>",e+=i?"The AI picked Option "+v.ai_prediction+", which was <span class='color_correct'><b>correct<b></span>.<br>":"The AI picked Option "+v.ai_prediction+", which was <span class='color_incorrect'><b>incorrect</b></span>.<br>",n?(e+="<span class='color_correct'><b>You receive a reward of $0.10.</b></span>",h+=.1):e+="<span class='color_incorrect'><b>You do not receive any reward.</b></span>",e+="<br>",$("#balance").text(`Balance: $${h.toFixed(2)} + $1.0`),$("#result_span").html(e),$("#result_span").show(),Z?$("#button_next").show():$("#user_trust_report_div").show(),function(){if("smoothed_confweighted_trust"==V){let t=Number(v.ai_confidence.replace("%",""))/100,n=v.ai_prediction==v.correct_option?t:-t,i=k;k=X*n+(1-X)*k,E={prev_estimated_trust_level:i,trust_effect:n,new_estimated_trust_level:k},console.log("Old estimated trust level: "+i+", trust effect: "+n+", new estimated trust level: "+k)}}()}()}function L(){if($("#button_initial_decision_option1").removeAttr("activedecision"),$("#button_initial_decision_option2").removeAttr("activedecision"),$("#button_initial_decision_option1").removeAttr("disabled"),$("#button_initial_decision_option2").removeAttr("disabled"),$("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").removeAttr("activedecision"),$("#button_initial_confidence_option1").removeAttr("disabled"),$("#button_initial_confidence_option2").removeAttr("disabled"),$("#button_initial_confidence_option3").removeAttr("disabled"),$("#button_final_decision_option1").removeAttr("activedecision"),$("#button_final_decision_option2").removeAttr("activedecision"),$("#button_final_decision_option1").removeAttr("disabled"),$("#button_final_decision_option2").removeAttr("disabled"),$("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").removeAttr("activedecision"),$("#button_final_confidence_option1").removeAttr("disabled"),$("#button_final_confidence_option2").removeAttr("disabled"),$("#button_final_confidence_option3").removeAttr("disabled"),$("#ai_assistance_div").hide(),$("#ai_explanation_div").hide(),$("#ai_contrastive_explanation_div").hide(),$("#ai_thinking_div").hide(),$("#initial_user_confidence_div").hide(),$("#final_user_decision_div").hide(),$("#final_user_confidence_div").hide(),$("#range_val").removeAttr("disabled"),$("#user_trust_report_div").hide(),$("#button_place_bet").hide(),$("#button_next").hide(),$("#result_span").hide(),-1==p?$("#range_text").text("-"):$("#range_text").text(`Before this interaction, your trust in the AI: ${10*y} / 100.`),$("#range_val").val(y),x=y,p+=1,p>=r.length)return $("#main_box_experiment").hide(),void(l?$("#main_box_end_mock").show():$("#main_box_end").show());if(v=r[p],1==tt&&($("#ai_prediction_span").html("The AI is thinking..."),$("#ai_confidence_span").html(""),async function(){console.log("Preparing LLM assistance...");let t={question:v.question,option1:v.option1,option2:v.option2,correct_option:v.correct_option};try{B=await $.ajax("https://tejassrinivasan.pythonanywhere.com/get_llm_prediction",{data:JSON.stringify({project:"2step-trust-study",model_name:"user_acceptance_model-logisticregression-0.9347testf1",payload:JSON.stringify(t)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}v.ai_prediction=B.llm_predicted_option,v.ai_confidence=B.llm_confidence,v.llm_answer=B.llm_answer,v.ai_explanation=B.llm_explanation,v.ai_contrastive_explanation=B.llm_counterexplanation,v.ai_is_correct=B.llm_is_correct,console.log("LLM prediction result: ",B)}()),$("#question_span").html(v.question),$("#option1_span").html(v.option1),$("#option2_span").html(v.option2),v.hasOwnProperty("reward_ratio")){let[t,n]=v.reward_ratio;t=Number(t),n=Number(n),A=t/n}else A=1;_=Date.now(),$("#progress").text(`Progress: ${p+1} / ${r.length}`),o(10,document.getElementById("initial_user_decision_div"),[document.getElementById("button_initial_decision_option1"),document.getElementById("button_initial_decision_option2")],null,"Please read the question and options closely.")}$("#button_instructions_next").on("click",(()=>P(1))),$("#button_instructions_prev").on("click",(()=>P(-1))),$("#button_start_study").on("click",(()=>{-1==S||-1==N?$("#error_message_survey").show():(i({type:"pre_study_survey",pre_survey_answer1:S,pre_survey_answer2:N}),P(1))})),$("#ai_familiarity_1").on("click",(()=>S=1)),$("#ai_familiarity_2").on("click",(()=>S=2)),$("#ai_familiarity_3").on("click",(()=>S=3)),$("#ai_familiarity_4").on("click",(()=>S=4)),$("#ai_usage_1").on("click",(()=>N=1)),$("#ai_usage_2").on("click",(()=>N=2)),$("#ai_usage_3").on("click",(()=>N=3)),$("#button_next").on("click",(()=>{if(-1!=p){let t={question_i:p,user_balance_post_interaction:h,user_trust_val_before:x,user_trust_val_after:y,initial_user_decision:f,final_user_decision:g,initial_user_confidence:b,final_user_confidence:m};t.times={initial_decision:d-_,initial_confidence:s-d,final_decision:u-s,final_confidence:c-u,trust_decision:Date.now()-c},t.question=v,t.count_exited_page=I,t.intervention_details=T,t.trust_effect_prediction_data=E,i(t),I=0}L()})),$("#range_val").on("input change",(function(){y=$(this).val(),$("#range_text").text(`After this interaction, your current trust in the AI: ${10*y} / 100.`),$("#button_next").show()})),$("#button_initial_decision_option1").on("click",(()=>C(1))),$("#button_initial_decision_option2").on("click",(()=>C(2))),$("#button_initial_confidence_option1").on("click",(()=>D(1))),$("#button_initial_confidence_option2").on("click",(()=>D(2))),$("#button_initial_confidence_option3").on("click",(()=>D(3))),$("#button_final_decision_option1").on("click",(()=>j(1))),$("#button_final_decision_option2").on("click",(()=>j(2))),$("#button_final_confidence_option1").on("click",(()=>q(1))),$("#button_final_confidence_option2").on("click",(()=>q(2))),$("#button_final_confidence_option3").on("click",(()=>q(3)));const M=new URLSearchParams(window.location.search),Y=M.get("start"),G=M.get("uid");if(globalThis.url_data=function(t){const n={};for(const[i,e]of t)n[i]=e;return n}(M.entries()),null!=G){if(globalThis.uid=G,"prolific_random"==globalThis.uid){let t=`${Math.floor(10*Math.random())}`.padStart(3,"0");globalThis.uid=`${M.get("prolific_queue_name")}/${t}`}}else{let t=null;for(;null==t;)t=prompt("Enter your user id. Please get in touch if you were not assigned an id but wish to participate in this experiment.");globalThis.uid=t}let J=null;globalThis.uid.includes("343")||globalThis.uid.includes("434")?J=[7,8,9,17,18,19,27,28,29]:globalThis.uid.includes("735")&&(J=[10,11,12,13,14,25,26,27,28,29]);let R=M.get("intervention_goal");if(null==R&&(R="none"),!["none","mitigate_undertrust","mitigate_overtrust","mitigate_underandovertrust"].includes(R))throw new Error("Invalid AI Assistance Intervention Goal: "+R);let U=M.get("intervention_type");if(null==U&&(U="none"),!["none","dummy","confidence_manip","ai_explanation","ai_contrastive_explanation","both_explanation_types","ai_thinking","ai_forced_pause","both_pause_types"].includes(U))throw new Error("Invalid AI Assistance Intervention: "+U);let F=M.get("intervention_strategy");if(null==F&&(F="dummy"),!["dummy","fixed","adaptive"].includes(F))throw new Error("Invalid AI Assistance Intervention Strategy: "+F);let W=Number(M.get("intervention_threshold"));null==W&&(W=-1);let H=Number(M.get("intervention_trust_threshold"));null==H&&(H=0);let z=Number(M.get("intervention_fixedconfchange"));null==z&&(z=0);let K=Number(M.get("intervention_undertrust_threshold"));null==K&&(K=H);let Q=Number(M.get("intervention_overtrust_threshold"));null==Q&&(Q=H);let V=M.get("user_trust_heuristic");null==V&&(V="user_reported");let X=Number(M.get("smoothing_param"));null==X&&(X=1);let Z="true"==M.get("skip_trust_reporting");null==Z&&(Z=!1);let tt="true"==M.get("use_llm_assistant");null==tt&&(tt=!1),console.log("AIInterventionGoal: ",R),console.log("AIInterventionType: ",U),console.log("AIInterventionStrategy: ",F),console.log("InterventionALDiffThreshold: ",W),console.log("InterventionTrustThreshold: ",H),console.log("InterventionUndertrustThreshold: ",K),console.log("InterventionOvertrustThreshold: ",Q),console.log("InterventionFixedConfChange: ",z),console.log("userTrustHeuristic: ",V),console.log("skip_trust_reporting: ",Z),console.log("useLLMAssistant: ",tt),"mitigate_undertrust"==R?(O(H<=0,"Trust threshold for mitigating undertrust cannot be positive."),O(z>=0,"Confidence change for mitigating undertrust cannot be negative.")):"mitigate_overtrust"==R&&(O(H>=0,"Trust threshold for mitigating overtrust cannot be negative."),O(z<=0,"Confidence change for mitigating overtrust cannot be positive.")),globalThis.url_data.intervention_goal=R,globalThis.url_data.intervention_type=U,globalThis.url_data.intervention_strategy=F,globalThis.url_data.intervention_threshold=W,globalThis.url_data.intervention_fixedconfchange=z,globalThis.url_data.user_trust_heuristic=V,globalThis.url_data.skip_trust_reporting=Z,globalThis.url_data.smoothing_param=X,globalThis.url_data.use_llm_assistant=tt,globalThis.uid.startsWith("demo_paper")&&(l=!0),console.log("Running with UID",globalThis.uid),async function(){return await $.getJSON(`baked_queues/${globalThis.uid}.json?t=${Date.now()}`)}().catch((t=>{console.log("Invalid user id."),console.log(globalThis.uid),window.location.reload()})).then((t=>{r=t,null!=Y&&(p=parseInt(Y)-1,console.log("Starting from",p)),P(0),$("#main_box_instructions").show(),$("#instructions_and_decorations").hide()})),console.log("Starting session with UID:",globalThis.uid);let nt=!1;document.onvisibilitychange=()=>{nt||(I+=1,nt=!0,globalThis.uid.startsWith("demo")||alert("Please don't leave the page. If you do so again, we may restrict paying you."),nt=!1)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWpCdkIsSUFDQXpGLEVBQWFpSCxTQUFTeEIsR0FBaUIsRUFDdkMzSSxRQUFRQyxJQUFJLGdCQUFpQmlELElBR2pDb0IsRUFBa0IsR0FDbEJqRSxFQUFFLDBCQUEwQnNFLE9BQzVCdEUsRUFBRSxpQ0FBaUN3RSxNQUFNLElBRzdDN0UsUUFBUUMsSUFBSSw2QkFBOEJDLFdBQVdFLEtBRXJELElBQUlnSyxJQUFlLEVBQ25CeEksU0FBU3lJLG1CQUFxQixLQUNyQkQsS0FDRHZHLEdBQXFCLEVBQ3JCdUcsSUFBZSxFQUNUbEssV0FBV0UsSUFBS3VKLFdBQVcsU0FDN0JXLE1BQU0sZ0ZBRVZGLElBQWUsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy8uL3NyYy9jb25uZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgREVWTU9ERSB9IGZyb20gJy4vZ2xvYmFscydcbmltcG9ydCB7IE1PQ0tNT0RFIH0gZnJvbSAnLi9tYWluJ1xuXG5sZXQgU0VSVkVSX0xPR19ST09UID0gREVWTU9ERSA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAwL1wiIDogXCJodHRwczovL3RlamFzc3Jpbml2YXNhbi5weXRob25hbnl3aGVyZS5jb20vXCJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRfZGF0YSgpOiBQcm9taXNlPGFueT4ge1xuICAgIC8vIGluY2x1ZGUgdGltZXN0YW1wIHNvIHRoYXQgdGhpbmdzIGRvbid0IGdldCBjYWNoZWRcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgJC5nZXRKU09OKFxuICAgICAgICBgYmFrZWRfcXVldWVzLyR7Z2xvYmFsVGhpcy51aWR9Lmpzb24/dD0ke0RhdGUubm93KCl9YCxcbiAgICApXG4gICAgcmV0dXJuIHJlc3VsdFxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ19kYXRhKGRhdGEpOiBQcm9taXNlPGFueT4ge1xuICAgIGlmIChNT0NLTU9ERSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImxvZ2dlZCAobW9jaylcIiwgZGF0YSlcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZGF0YVtcInVybF9kYXRhXCJdID0gZ2xvYmFsVGhpcy51cmxfZGF0YVxuICAgIGNvbnNvbGUubG9nKFwiRGF0YVwiKVxuICAgIGlmICghKFwic3R1ZHlfaWRcIiBpbiBkYXRhWyd1cmxfZGF0YSddKSkge1xuICAgICAgICBkYXRhWyd1cmxfZGF0YSddW1wic3R1ZHlfaWRcIl0gPSBcInRyaWFscnVuX3N0dWRpZXNcIlxuICAgIH1cbiAgICBkYXRhW1widXJsX2RhdGFcIl1bXCJxdWV1ZV9pZFwiXSA9IGdsb2JhbFRoaXMudWlkXG4gICAgY29uc29sZS5sb2coXCJsb2dnZWRcIiwgZGF0YSlcbiAgICBjb25zb2xlLmxvZyhcIkxvZ2dpbmcgdG9cIiwgU0VSVkVSX0xPR19ST09UICsgXCJsb2dcIilcblxuICAgIHRyeSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICBTRVJWRVJfTE9HX1JPT1QgKyBcImxvZ1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeS1pbnRlcnZlbnRpb25zL1wiICsgZGF0YVsndXJsX2RhdGEnXVsnc3R1ZHlfaWQnXSxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBnbG9iYWxUaGlzLnVpZC5yZXBsYWNlKFwiL1wiLCBcIl9cIikgKyBcIl9cIiArIGRhdGFbJ3VybF9kYXRhJ11bJ3Byb2xpZmljX2lkJ10sXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxufSIsImltcG9ydCB7IEVOQUJMRV9USU1FUiB9IGZyb20gJy4vZ2xvYmFscyc7XG5cbmZ1bmN0aW9uIHBhcmFtc1RvT2JqZWN0KGVudHJpZXMpIHtcbiAgY29uc3QgcmVzdWx0ID0ge31cbiAgLy8gZWFjaCAnZW50cnknIGlzIGEgW2tleSwgdmFsdWVdIHR1cHBsZVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBlbnRyaWVzKSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5sZXQgYWN0aXZlVGltZXI6IFJldHVyblR5cGU8dHlwZW9mIHNldEludGVydmFsPiB8IG51bGwgPSBudWxsOyAvLyBUaW1lciBpbnRlcnZhbFxuXG5mdW5jdGlvbiBzdGFydFRpbWVyKGR1cmF0aW9uLCBzdGVwRGl2LCBidXR0b25zLCBjYWxsYmFjaywgbWVzc2FnZSwgc2hvd1RpbWVSZW1haW5pbmcgPSB0cnVlKSB7XG4gIGlmICghRU5BQkxFX1RJTUVSKSB7XG4gICAgICAvLyBJZiB0aGUgdGltZXIgaXMgZGlzYWJsZWQsIGVuYWJsZSB0aGUgYnV0dG9ucyBpbW1lZGlhdGVseVxuICAgICAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHRpbWVyIHRvIHByZXZlbnQgbXVsdGlwbGUgaW50ZXJ2YWxzXG4gIGlmIChhY3RpdmVUaW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbChhY3RpdmVUaW1lcik7XG4gICAgICBhY3RpdmVUaW1lciA9IG51bGw7XG4gIH1cblxuICAvLyBEaXNhYmxlIGJ1dHRvbnNcbiAgYnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpKTtcbiAgXG4gIC8vIFNob3cgdGltZXIgdmlzdWFsbHlcbiAgbGV0IHRpbWVyRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aW1lckRpc3BsYXkuaWQgPSBgdGltZXJfJHtzdGVwRGl2LmlkfWA7XG4gIHRpbWVyRGlzcGxheS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuICB0aW1lckRpc3BsYXkuc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnO1xuICBzdGVwRGl2LmFwcGVuZENoaWxkKHRpbWVyRGlzcGxheSk7XG5cbiAgbGV0IHJlbWFpbmluZ1RpbWUgPSBkdXJhdGlvbjtcblxuICAvLyBJbml0aWFsIGRpc3BsYXlcbiAgaWYgKHNob3dUaW1lUmVtYWluaW5nKXtcbiAgICB0aW1lckRpc3BsYXkudGV4dENvbnRlbnQgPSBtZXNzYWdlICsgYCBZb3UgY2FuIG1ha2UgeW91ciBzZWxlY3Rpb24gaW4gJHtyZW1haW5pbmdUaW1lfSBzZWNvbmQocykuYDtcbiAgfSBlbHNlIHtcbiAgICB0aW1lckRpc3BsYXkudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICB9XG5cbiAgYWN0aXZlVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICByZW1haW5pbmdUaW1lLS07XG4gICAgICBpZiAocmVtYWluaW5nVGltZSA+PSAwKSB7XG4gICAgICAgICAgaWYgKHNob3dUaW1lUmVtYWluaW5nKSB7XG4gICAgICAgICAgICB0aW1lckRpc3BsYXkudGV4dENvbnRlbnQgPSBtZXNzYWdlICsgYCBZb3UgY2FuIG1ha2UgeW91ciBzZWxlY3Rpb24gaW4gJHtyZW1haW5pbmdUaW1lfSBzZWNvbmQocykuYDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGltZXJEaXNwbGF5LnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICBpZiAoYWN0aXZlVGltZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhY3RpdmVUaW1lcik7IC8vIFN0b3AgdGhlIHRpbWVyXG4gICAgICAgICAgICAgIGFjdGl2ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWN0aXZlVGltZXIgPSBudWxsO1xuXG4gICAgICAgICAgLy8gUmVtb3ZlIHRpbWVyIGRpc3BsYXlcbiAgICAgICAgICBzdGVwRGl2LnJlbW92ZUNoaWxkKHRpbWVyRGlzcGxheSk7XG5cbiAgICAgICAgICAvLyBFbmFibGUgYnV0dG9uc1xuICAgICAgICAgIGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4gYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtcblxuICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgfSwgMTAwMCk7XG59XG5cbmNvbnN0IHdhaXQgPSAobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59O1xuXG5leHBvcnQgeyBwYXJhbXNUb09iamVjdCwgc3RhcnRUaW1lciwgd2FpdCB9OyIsImltcG9ydCB7IERFVk1PREUgfSBmcm9tIFwiLi9nbG9iYWxzXCJcbmV4cG9ydCB2YXIgVUlEOiBzdHJpbmdcbmV4cG9ydCB2YXIgTU9DS01PREU6IGJvb2xlYW4gPSBmYWxzZVxuaW1wb3J0IHsgbG9hZF9kYXRhLCBsb2dfZGF0YSB9IGZyb20gJy4vY29ubmVjdG9yJ1xuaW1wb3J0IHsgcGFyYW1zVG9PYmplY3QsIHN0YXJ0VGltZXIsIHdhaXQgfSBmcm9tIFwiLi91dGlsc1wiXG5pbXBvcnQgeyBwYXJzZUpTT04gfSBmcm9tIFwianF1ZXJ5XCJcbi8vaW1wb3J0IHsgZ2V0X3VzZXJfdHJ1c3RfZWZmZWN0LCBnZXRfYWRqdXN0ZWRfYWlfY29uZmlkZW5jZX0gZnJvbSBcIi4vcnVuX3VzZXJfbW9kZWxzXCJcblxubGV0IFVTRVJfTU9ERUxTX1JPT1QgPSBcImh0dHBzOi8vdGVqYXNzcmluaXZhc2FuLnB5dGhvbmFueXdoZXJlLmNvbS9cIlxubGV0IHVzZXJfZGVjaXNpb25fbW9kZWwgPSBcInVzZXJfYWNjZXB0YW5jZV9tb2RlbC1sb2dpc3RpY3JlZ3Jlc3Npb24tMC45MzQ3dGVzdGYxXCJcbmxldCB0cnVzdF9lZmZlY3RfbW9kZWwgPSBcInRydXN0X2VmZmVjdF9tb2RlbC1zdm1fbGluZWFyLTAuNDY0NHRlc3RtYWUtMC45MDk1dGVzdHRlZGFcIlxuXG52YXIgZGF0YTogYW55W10gPSBbXVxubGV0IHF1ZXN0aW9uX2kgPSAtMVxubGV0IHF1ZXN0aW9uOiBhbnkgPSBudWxsXG5sZXQgaW5pdGlhbF91c2VyX2RlY2lzaW9uOiBudW1iZXIgPSAtMVxubGV0IGZpbmFsX3VzZXJfZGVjaXNpb246IG51bWJlciA9IC0xXG5sZXQgaW5pdGlhbF91c2VyX2NvbmZpZGVuY2U6IG51bWJlciA9IC0xXG5sZXQgZmluYWxfdXNlcl9jb25maWRlbmNlOiBudW1iZXIgPSAtMVxubGV0IGJhbGFuY2UgPSAwXG5cbmxldCB1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsOiBudW1iZXIgPSA1XG5sZXQgcHJldl91c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsOiBudW1iZXIgPSAtMVxuXG5sZXQgYmV0X3ZhbF9yYXRpbzogbnVtYmVyID0gMVxubGV0IHRpbWVfcXVlc3Rpb25fc3RhcnQ6IG51bWJlclxubGV0IHRpbWVfZmluYWxfZGVjaXNpb25fc3RhcnQ6IG51bWJlclxubGV0IHRpbWVfdHJ1c3RfZGVjaXNpb25fc3RhcnQ6IG51bWJlclxubGV0IHRpbWVfaW5pdGlhbF9jb25maWRlbmNlX3N0YXJ0OiBudW1iZXJcbmxldCB0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQ6IG51bWJlclxubGV0IGluc3RydWN0aW9uX2k6IG51bWJlciA9IDBcbmxldCBjb3VudF9leGl0ZWRfcGFnZTogbnVtYmVyID0gMFxuXG5sZXQgaW50ZXJ2ZW50aW9uX2NvbmRpdGlvbl9zYXRpc2ZpZWQ6IGJvb2xlYW4gPSBmYWxzZVxubGV0IGludGVydmVudGlvbl9hcHBsaWVkOiBib29sZWFuID0gZmFsc2VcblxubGV0IHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWw6IG51bWJlciA9IDBcblxudmFyIGFsbF91c2VyX2ludGVyYWN0aW9ucyA9IFtdXG52YXIgaW50ZXJ2ZW50aW9uX2RldGFpbHMgPSB7fVxudmFyIHRydXN0X2VmZmVjdF9wcmVkaWN0aW9uX2RhdGEgPSB7fVxubGV0IGZpbmRuZXdjb25mX3Jlc3VsdDogYW55XG5sZXQgbGxtX3ByZWRpY3Rpb25fcmVzdWx0OiBhbnlcblxubGV0IHByZV9zdXJ2ZXlfYW5zd2VyMSA9IC0xXG5sZXQgcHJlX3N1cnZleV9hbnN3ZXIyID0gLTFcblxuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG1lc3NhZ2UgfHwgXCJBc3NlcnRpb24gZmFpbGVkXCI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuZXh0X2luc3RydWN0aW9ucyhpbmNyZW1lbnQ6IG51bWJlcikge1xuICAgIGluc3RydWN0aW9uX2kgKz0gaW5jcmVtZW50XG4gICAgaWYgKHNraXBfdHJ1c3RfcmVwb3J0aW5nICYmIGluc3RydWN0aW9uX2kgPT0gNSkge1xuICAgICAgICBpbnN0cnVjdGlvbl9pICs9IGluY3JlbWVudFxuICAgIH1cblxuICAgIGlmIChpbnN0cnVjdGlvbl9pID09IDApIHtcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX3ByZXZcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgIH1cbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA+PSA2KSB7XG4gICAgICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5zaG93KClcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikudmFsKFwiU3RhcnQgc3R1ZHlcIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2luc3RydWN0aW9uc19hbmRfZGVjb3JhdGlvbnNcIikuaGlkZSgpXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnZhbChcIk5leHRcIilcbiAgICB9XG4gICAgaWYgKGluc3RydWN0aW9uX2kgPT0gNykge1xuICAgICAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5oaWRlKClcbiAgICAgICAgJChcIiNwcmVfc3R1ZHlfc3VydmV5XCIpLnNob3coKVxuICAgIH1cbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA9PSA4KSB7XG4gICAgICAgICQoXCIjcHJlX3N0dWR5X3N1cnZleVwiKS5oaWRlKClcbiAgICAgICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLnNob3coKVxuICAgICAgICBuZXh0X3F1ZXN0aW9uKClcbiAgICB9XG5cbiAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5jaGlsZHJlbihcIjpub3QoaW5wdXQpXCIpLmVhY2goKF8sIGVsKSA9PiB7XG4gICAgICAgICQoZWwpLmhpZGUoKVxuICAgIH0pXG4gICAgJChgI2luc3RydWN0aW9uc18ke2luc3RydWN0aW9uX2l9YCkuc2hvdygpXG59XG4kKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5vbihcImNsaWNrXCIsICgpID0+IG5leHRfaW5zdHJ1Y3Rpb25zKCsxKSlcbiQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbmV4dF9pbnN0cnVjdGlvbnMoLTEpKVxuJChcIiNidXR0b25fc3RhcnRfc3R1ZHlcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKHByZV9zdXJ2ZXlfYW5zd2VyMSA9PSAtMSB8fCBwcmVfc3VydmV5X2Fuc3dlcjIgPT0gLTEpIHtcbiAgICAgICAgJChcIiNlcnJvcl9tZXNzYWdlX3N1cnZleVwiKS5zaG93KClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBsb2dnaW5nX2RhdGEgPSB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJwcmVfc3R1ZHlfc3VydmV5XCIsXG4gICAgICAgICAgICBcInByZV9zdXJ2ZXlfYW5zd2VyMVwiOiBwcmVfc3VydmV5X2Fuc3dlcjEsXG4gICAgICAgICAgICBcInByZV9zdXJ2ZXlfYW5zd2VyMlwiOiBwcmVfc3VydmV5X2Fuc3dlcjJcbiAgICAgICAgfVxuICAgICAgICBsb2dfZGF0YShsb2dnaW5nX2RhdGEpXG4gICAgICAgIG5leHRfaW5zdHJ1Y3Rpb25zKCsxKVxuICAgIH1cbn0pXG5cbiQoXCIjYWlfZmFtaWxpYXJpdHlfMVwiKS5vbihcImNsaWNrXCIsICgpID0+IHByZV9zdXJ2ZXlfYW5zd2VyMSA9IDEpXG4kKFwiI2FpX2ZhbWlsaWFyaXR5XzJcIikub24oXCJjbGlja1wiLCAoKSA9PiBwcmVfc3VydmV5X2Fuc3dlcjEgPSAyKVxuJChcIiNhaV9mYW1pbGlhcml0eV8zXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gcHJlX3N1cnZleV9hbnN3ZXIxID0gMylcbiQoXCIjYWlfZmFtaWxpYXJpdHlfNFwiKS5vbihcImNsaWNrXCIsICgpID0+IHByZV9zdXJ2ZXlfYW5zd2VyMSA9IDQpXG4kKFwiI2FpX3VzYWdlXzFcIikub24oXCJjbGlja1wiLCAoKSA9PiBwcmVfc3VydmV5X2Fuc3dlcjIgPSAxKVxuJChcIiNhaV91c2FnZV8yXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gcHJlX3N1cnZleV9hbnN3ZXIyID0gMilcbiQoXCIjYWlfdXNhZ2VfM1wiKS5vbihcImNsaWNrXCIsICgpID0+IHByZV9zdXJ2ZXlfYW5zd2VyMiA9IDMpXG5cbiQoXCIjYnV0dG9uX25leHRcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaWYgKHF1ZXN0aW9uX2kgIT0gLTEpIHtcbiAgICAgICAgbGV0IGxvZ2dlZF9kYXRhID0ge1xuICAgICAgICAgICAgXCJxdWVzdGlvbl9pXCI6IHF1ZXN0aW9uX2ksXG4gICAgICAgICAgICBcInVzZXJfYmFsYW5jZV9wb3N0X2ludGVyYWN0aW9uXCI6IGJhbGFuY2UsXG4gICAgICAgICAgICBcInVzZXJfdHJ1c3RfdmFsX2JlZm9yZVwiOiBwcmV2X3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICBcInVzZXJfdHJ1c3RfdmFsX2FmdGVyXCI6IHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICBcImluaXRpYWxfdXNlcl9kZWNpc2lvblwiOiBpbml0aWFsX3VzZXJfZGVjaXNpb24sXG4gICAgICAgICAgICBcImZpbmFsX3VzZXJfZGVjaXNpb25cIjogZmluYWxfdXNlcl9kZWNpc2lvbixcbiAgICAgICAgICAgIFwiaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VcIjogaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICBcImZpbmFsX3VzZXJfY29uZmlkZW5jZVwiOiBmaW5hbF91c2VyX2NvbmZpZGVuY2UsXG4gICAgICAgIH1cblxuICAgICAgICBsb2dnZWRfZGF0YVsndGltZXMnXSA9IHtcbiAgICAgICAgICAgIFwiaW5pdGlhbF9kZWNpc2lvblwiOiB0aW1lX2luaXRpYWxfY29uZmlkZW5jZV9zdGFydCAtIHRpbWVfcXVlc3Rpb25fc3RhcnQsXG4gICAgICAgICAgICBcImluaXRpYWxfY29uZmlkZW5jZVwiOiB0aW1lX2ZpbmFsX2RlY2lzaW9uX3N0YXJ0IC0gdGltZV9pbml0aWFsX2NvbmZpZGVuY2Vfc3RhcnQsXG4gICAgICAgICAgICBcImZpbmFsX2RlY2lzaW9uXCI6IHRpbWVfZmluYWxfY29uZmlkZW5jZV9zdGFydCAtIHRpbWVfZmluYWxfZGVjaXNpb25fc3RhcnQsXG4gICAgICAgICAgICBcImZpbmFsX2NvbmZpZGVuY2VcIjogdGltZV90cnVzdF9kZWNpc2lvbl9zdGFydCAtIHRpbWVfZmluYWxfY29uZmlkZW5jZV9zdGFydCxcbiAgICAgICAgICAgIFwidHJ1c3RfZGVjaXNpb25cIjogRGF0ZS5ub3coKSAtIHRpbWVfdHJ1c3RfZGVjaXNpb25fc3RhcnQsXG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VkX2RhdGFbJ3F1ZXN0aW9uJ10gPSBxdWVzdGlvblxuICAgICAgICBsb2dnZWRfZGF0YVsnY291bnRfZXhpdGVkX3BhZ2UnXSA9IGNvdW50X2V4aXRlZF9wYWdlXG4gICAgICAgIGxvZ2dlZF9kYXRhWydpbnRlcnZlbnRpb25fZGV0YWlscyddID0gaW50ZXJ2ZW50aW9uX2RldGFpbHNcbiAgICAgICAgbG9nZ2VkX2RhdGFbJ3RydXN0X2VmZmVjdF9wcmVkaWN0aW9uX2RhdGEnXSA9IHRydXN0X2VmZmVjdF9wcmVkaWN0aW9uX2RhdGFcbiAgICAgICAgbG9nX2RhdGEobG9nZ2VkX2RhdGEpXG4gICAgICAgIGNvdW50X2V4aXRlZF9wYWdlID0gMFxuXG4gICAgfVxuICAgIG5leHRfcXVlc3Rpb24oKVxufSk7XG5cbiQoJyNyYW5nZV92YWwnKS5vbignaW5wdXQgY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgPSAoJCh0aGlzKS52YWwoKSEgYXMgbnVtYmVyKVxuICAgICQoXCIjcmFuZ2VfdGV4dFwiKS50ZXh0KGBBZnRlciB0aGlzIGludGVyYWN0aW9uLCB5b3VyIGN1cnJlbnQgdHJ1c3QgaW4gdGhlIEFJOiAke3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgKiAxMH0gLyAxMDAuYClcbiAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLnNob3coKVxufSk7XG5cbmZ1bmN0aW9uIG1ha2VfaW5pdGlhbF91c2VyX2RlY2lzaW9uKG9wdGlvbikge1xuICAgIHRpbWVfaW5pdGlhbF9jb25maWRlbmNlX3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgIGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9IG9wdGlvblxuICAgIGFzc2VydChvcHRpb24gPT0gMSB8fCBvcHRpb24gPT0gMiwgXCJJbnZhbGlkIG9wdGlvbiFcIilcbiAgICBpZiAob3B0aW9uID09IDEpIHtcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICB9XG4gICAgJChcIiNpbml0aWFsX3VzZXJfY29uZmlkZW5jZV9kaXZcIikuc2hvdygpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjJcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxufVxuJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbWFrZV9pbml0aWFsX3VzZXJfZGVjaXNpb24oMSkpXG4kKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjJcIikub24oXCJjbGlja1wiLCAoKSA9PiBtYWtlX2luaXRpYWxfdXNlcl9kZWNpc2lvbigyKSlcblxuZnVuY3Rpb24gZ2V0X2luaXRpYWxfdXNlcl9jb25maWRlbmNlKGNvbmZfbGV2ZWwpIHtcbiAgICB0aW1lX2ZpbmFsX2RlY2lzaW9uX3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgIGluaXRpYWxfdXNlcl9jb25maWRlbmNlID0gY29uZl9sZXZlbFxuICAgIGFzc2VydChjb25mX2xldmVsID09IDEgfHwgY29uZl9sZXZlbCA9PSAyIHx8IGNvbmZfbGV2ZWwgPT0gMywgXCJJbnZhbGlkIG9wdGlvbiFcIilcbiAgICBpZiAoY29uZl9sZXZlbCA9PSAxKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSBpZiAoY29uZl9sZXZlbCA9PSAyKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgIH1cblxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIikgICAgXG5cbiAgICBnZXRfYWlfYXNzaXN0YW5jZSgpXG59XG4kKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5vbihcImNsaWNrXCIsICgpID0+IGdldF9pbml0aWFsX3VzZXJfY29uZmlkZW5jZSgxKSlcbiQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZ2V0X2luaXRpYWxfdXNlcl9jb25maWRlbmNlKDIpKVxuJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikub24oXCJjbGlja1wiLCAoKSA9PiBnZXRfaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UoMykpXG5cblxuXG5hc3luYyBmdW5jdGlvbiBnZXRfdXNlcl9kZWNpc2lvbl9wcm9iKCkge1xuICAgIC8vIFByZXBhcmUgaW5wdXRzIGZvciB0aGUgdXNlciBkZWNpc2lvbiBtb2RlbFxuICAgIGxldCB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50ID0gTnVtYmVyKGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKVxuICAgIGxldCB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSA9IGluaXRpYWxfdXNlcl9jb25maWRlbmNlXG4gICAgbGV0IGFpX2NvbmZpZGVuY2UgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXS5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDBcbiAgICBsZXQgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbFxuICAgIGlmICh1c2VyVHJ1c3RIZXVyaXN0aWMgPT0gXCJ1c2VyX3JlcG9ydGVkXCIpIHtcbiAgICAgICAgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgLSA1KSAvIDIuNVxuICAgIH1cbiAgICBsZXQgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMgPSB7XG4gICAgICAgIFwidXNlcl9haV9pbml0aWFsX2FncmVlbWVudFwiOiB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50LFxuICAgICAgICBcInVzZXJfaW5pdGlhbF9jb25maWRlbmNlXCI6IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlLFxuICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgXCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdDogYW55XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZ2V0X3VzZXJfZGVjaXNpb25fcHJvYlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lOiB1c2VyX2RlY2lzaW9uX21vZGVsLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeSh1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFwidXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHNcIjogdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMsIFxuICAgICAgICBcInVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kXCI6IHJlc3VsdFtcInByZWRfcHJvYnNcIl1bMF1bMV1cbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGV4YW1pbmVfZWZmZWN0X29mX3RydXN0X29uX2RlY2lzaW9uX21ha2luZygpIHtcbiAgICAvLyBQcmVwYXJlIGlucHV0IHZhcmlhYmxlcyBmb3IgdXNlciBkZWNpc2lvbiBtb2RlbFxuICAgIGxldCB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50ID0gTnVtYmVyKGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKVxuICAgIGxldCB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSA9IGluaXRpYWxfdXNlcl9jb25maWRlbmNlXG4gICAgbGV0IGFpX2NvbmZpZGVuY2UgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXS5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDBcbiAgICBsZXQgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbFxuICAgIGlmICh1c2VyVHJ1c3RIZXVyaXN0aWMgPT0gXCJ1c2VyX3JlcG9ydGVkXCIpIHtcbiAgICAgICAgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgLSA1KSAvIDIuNVxuICAgIH1cbiAgICBsZXQgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMgPSB7XG4gICAgICAgIFwidXNlcl9haV9pbml0aWFsX2FncmVlbWVudFwiOiB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50LFxuICAgICAgICBcInVzZXJfaW5pdGlhbF9jb25maWRlbmNlXCI6IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlLFxuICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgXCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiVXNlciBkZWNpc2lvbiBtb2RlbCBpbnB1dHM6IFwiLCB1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cylcblxuICAgIGxldCBhbGRpZmZfcmVzdWx0OiBhbnlcbiAgICB0cnkge1xuICAgICAgICBhbGRpZmZfcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZXhhbWluZV9lZmZlY3Rfb2ZfdHJ1c3Rfb25fZGVjaXNpb25fbWFraW5nXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBcIjJzdGVwLXRydXN0LXN0dWR5XCIsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU6IHVzZXJfZGVjaXNpb25fbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiFcIilcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG5cbiAgICByZXR1cm4gYWxkaWZmX3Jlc3VsdFxufVxuXG5hc3luYyBmdW5jdGlvbiBmaW5kX2Jlc3RfYWljb25mX3RvX2Rpc3BsYXkodXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdCkge1xuICAgIC8vIFByZXBhcmUgaW5wdXQgdmFyaWFibGVzIGZvciB1c2VyIGRlY2lzaW9uIG1vZGVsXG4gICAgbGV0IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQgPSBOdW1iZXIoaW5pdGlhbF91c2VyX2RlY2lzaW9uID09IHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0pXG4gICAgbGV0IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlID0gaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VcbiAgICBsZXQgYWlfY29uZmlkZW5jZSA9IE51bWJlcihxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMFxuICAgIGxldCB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPSB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsXG4gICAgaWYgKHVzZXJUcnVzdEhldXJpc3RpYyA9PSBcInVzZXJfcmVwb3J0ZWRcIikge1xuICAgICAgICB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPSAodXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCAtIDUpIC8gMi41XG4gICAgfVxuICAgIGxldCBmaW5kbmV3Y29uZl9pbnB1dF92YXJpYWJsZXMgPSB7XG4gICAgICAgIFwidXNlcl9haV9pbml0aWFsX2FncmVlbWVudFwiOiB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50LFxuICAgICAgICBcInVzZXJfaW5pdGlhbF9jb25maWRlbmNlXCI6IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlLFxuICAgICAgICBcInVzZXJfY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgIFwidGltZXN0ZXBcIjogcXVlc3Rpb25faSxcbiAgICAgICAgXCJ1c2VyX2FjY2VwdGFuY2VfbGlrZWxpaG9vZF9uZXV0cmFsX3RydXN0XCI6IHVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kX25ldXRyYWxfdHJ1c3QsXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGZpbmRuZXdjb25mX3Jlc3VsdCA9IGF3YWl0ICQuYWpheChcbiAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImZpbmRfYmVzdF9haWNvbmZfdG9fZGlzcGxheVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lOiB1c2VyX2RlY2lzaW9uX21vZGVsLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShmaW5kbmV3Y29uZl9pbnB1dF92YXJpYWJsZXMpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIVwiKVxuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cblxuICAgIHJldHVybiBmaW5kbmV3Y29uZl9yZXN1bHRcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZV9sbG1fYXNzaXN0YW5jZSgpIHtcbiAgICBjb25zb2xlLmxvZyhcIlByZXBhcmluZyBMTE0gYXNzaXN0YW5jZS4uLlwiKVxuICAgIGxldCBsbG1faW5wdXRzID0ge1xuICAgICAgICBcInF1ZXN0aW9uXCI6IHF1ZXN0aW9uIVtcInF1ZXN0aW9uXCJdLFxuICAgICAgICBcIm9wdGlvbjFcIjogcXVlc3Rpb24hW1wib3B0aW9uMVwiXSxcbiAgICAgICAgXCJvcHRpb24yXCI6IHF1ZXN0aW9uIVtcIm9wdGlvbjJcIl0sXG4gICAgICAgIFwiY29ycmVjdF9vcHRpb25cIjogcXVlc3Rpb24hW1wiY29ycmVjdF9vcHRpb25cIl0sXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGxsbV9wcmVkaWN0aW9uX3Jlc3VsdCA9IGF3YWl0ICQuYWpheChcbiAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImdldF9sbG1fcHJlZGljdGlvblwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lOiB1c2VyX2RlY2lzaW9uX21vZGVsLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShsbG1faW5wdXRzKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiFcIilcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG4gICAgcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSA9IGxsbV9wcmVkaWN0aW9uX3Jlc3VsdFtcImxsbV9wcmVkaWN0ZWRfb3B0aW9uXCJdXG4gICAgcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXSA9IGxsbV9wcmVkaWN0aW9uX3Jlc3VsdFtcImxsbV9jb25maWRlbmNlXCJdXG4gICAgcXVlc3Rpb24hW1wibGxtX2Fuc3dlclwiXSA9IGxsbV9wcmVkaWN0aW9uX3Jlc3VsdFtcImxsbV9hbnN3ZXJcIl1cbiAgICBxdWVzdGlvbiFbXCJhaV9leHBsYW5hdGlvblwiXSA9IGxsbV9wcmVkaWN0aW9uX3Jlc3VsdFtcImxsbV9leHBsYW5hdGlvblwiXVxuICAgIHF1ZXN0aW9uIVtcImFpX2NvbnRyYXN0aXZlX2V4cGxhbmF0aW9uXCJdID0gbGxtX3ByZWRpY3Rpb25fcmVzdWx0W1wibGxtX2NvdW50ZXJleHBsYW5hdGlvblwiXVxuICAgIHF1ZXN0aW9uIVtcImFpX2lzX2NvcnJlY3RcIl0gPSBsbG1fcHJlZGljdGlvbl9yZXN1bHRbXCJsbG1faXNfY29ycmVjdFwiXVxuICAgIGNvbnNvbGUubG9nKFwiTExNIHByZWRpY3Rpb24gcmVzdWx0OiBcIiwgbGxtX3ByZWRpY3Rpb25fcmVzdWx0KVxuICAgIHJldHVybiBmaW5kbmV3Y29uZl9yZXN1bHRcbn1cbiAgICBcblxuYXN5bmMgZnVuY3Rpb24gZ2V0X2FpX2Fzc2lzdGFuY2UoKSB7XG4gICAgY29uc29sZS5sb2coXCJHZXR0aW5nIEFJIGFzc2lzdGFuY2UuLi5cIilcblxuICAgIGxldCBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSA9IHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl1cbiAgICBsZXQgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbFxuICAgIGlmICh1c2VyVHJ1c3RIZXVyaXN0aWMgPT0gXCJ1c2VyX3JlcG9ydGVkXCIpIHtcbiAgICAgICAgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgLSA1KSAvIDIuNVxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIHVzZXIgcmVwb3J0ZWQgdHJ1c3QgdmFsdWU6IFwiLCB1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsKVxuICAgIH1cbiAgICBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHtcbiAgICAgICAgXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiOiBmYWxzZSwgXG4gICAgICAgIFwidHJ1c3RfbGV2ZWxfYXRfc3RhcnRfb2ZfaW50ZXJhY3Rpb25cIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsXG4gICAgXG4gICAgfVxuXG4gICAgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcIm5vbmVcIiB8fCAoaW5pdGlhbF91c2VyX2RlY2lzaW9uID09IHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0pKSB7XG4gICAgICAgIC8vIE5vIGludGVydmVudGlvbiwganVzdCBzaG93IHRoZSBBSSBhc3Npc3RhbmNlIHRoYXQgaXMgYWxyZWFkeSBwb3B1bGF0ZWQgaW4gdGhlIHNwYW5cbiAgICAgICAgY29uc29sZS5sb2coXCJOb3QgYXBwbHlpbmcgYW55IGludGVydmVudGlvbi5cIilcbiAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgfVxuICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcImNvbmZpZGVuY2VfbWFuaXBcIikge1xuICAgICAgICAvLyBNb2RpZnkgQUkgY29uZmlkZW5jZVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIChBSUludGVydmVudGlvbkdvYWwgPT0gXCJub25lXCIpIHx8IFxuICAgICAgICAgICAgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm1pdGlnYXRlX3VuZGVydHJ1c3RcIiAmJiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPCBJbnRlcnZlbnRpb25UcnVzdFRocmVzaG9sZCkgfHxcbiAgICAgICAgICAgIChBSUludGVydmVudGlvbkdvYWwgPT0gXCJtaXRpZ2F0ZV9vdmVydHJ1c3RcIiAmJiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPiBJbnRlcnZlbnRpb25UcnVzdFRocmVzaG9sZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwcGx5aW5nIEFJIGNvbmZpZGVuY2UgbWFuaXB1bGF0aW9uIGludGVydmVudGlvbi5cIilcbiAgICAgICAgICAgIGlmIChBSUludGVydmVudGlvblN0cmF0ZWd5ID09IFwiZml4ZWRcIikge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBJbnRlcnZlbnRpb25GaXhlZENvbmZDaGFuZ2UgdG8gQUkncyBjb25maWRlbmNlXG4gICAgICAgICAgICAgICAgLy8gKEludGVydmVudGlvbkZpeGVkQ29uZkNoYW5nZSBjYW4gYmUgbmVnYXRpdmUpXG4gICAgICAgICAgICAgICAgbGV0IGFpX2NvbmZpZGVuY2UgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXS5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDBcbiAgICAgICAgICAgICAgICBsZXQgbmV3X2NvbmZpZGVuY2UgPSBNYXRoLm1pbigxLCBhaV9jb25maWRlbmNlICsgSW50ZXJ2ZW50aW9uRml4ZWRDb25mQ2hhbmdlKVxuICAgICAgICAgICAgICAgIG5ld19jb25maWRlbmNlID0gTWF0aC5tYXgoMC41LCBuZXdfY29uZmlkZW5jZSlcbiAgICAgICAgICAgICAgICBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSA9IFN0cmluZygoIG5ld19jb25maWRlbmNlICogMTAwKS50b0ZpeGVkKDApKSArIFwiJVwiXG4gICAgICAgICAgICAgICAgbGV0IGNvbmZpZGVuY2VfY2hhbmdlID0gKG5ld19jb25maWRlbmNlIC0gYWlfY29uZmlkZW5jZSkudG9GaXhlZCgyKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWN0dWFsIEFJIGNvbmZpZGVuY2U6IFwiLCBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLCBcIiwgQ29uZmlkZW5jZSBzaG93biB0byB1c2VyOiBcIiwgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UpXG5cbiAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImNvbmZfYWN0dWFsXCJdID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiY29uZl9kaXNwbGF5ZWRcIl0gPSBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZVxuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiY29uZl9jaGFuZ2VcIl0gPSBjb25maWRlbmNlX2NoYW5nZVxuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIl0gPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBSUludGVydmVudGlvblN0cmF0ZWd5ID09IFwiYWRhcHRpdmVcIikge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBhZGFwdGl2ZSBzdHJhdGVneVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb25kaXRpb25zIGZvciBhcHBseWluZyAnY29uZmlkZW5jZSBtYW5pcHVsYXRpb24nIGludGVydmVudGlvbiBub3Qgc2F0aXNmaWVkLlwiKVxuICAgICAgICB9XG5cbiAgICB9IFxuICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcImFpX2V4cGxhbmF0aW9uXCIpIHtcbiAgICAgICAgLy8gQWRkIEFJIGV4cGxhbmF0aW9uXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm5vbmVcIikgfHxcbiAgICAgICAgICAgIChBSUludGVydmVudGlvbkdvYWwgPT0gXCJtaXRpZ2F0ZV91bmRlcnRydXN0XCIgJiYgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsIDwgSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGQpIHx8XG4gICAgICAgICAgICAoQUlJbnRlcnZlbnRpb25Hb2FsID09IFwibWl0aWdhdGVfb3ZlcnRydXN0XCIgJiYgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID4gSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGQpXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcHBseWluZyBBSSBleHBsYW5hdGlvbiBpbnRlcnZlbnRpb24uXCIpXG4gICAgICAgICAgICBpZiAoQUlJbnRlcnZlbnRpb25TdHJhdGVneSA9PSBcImZpeGVkXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNob3dpbmcgZXhwbGFuYXRpb25cIilcbiAgICAgICAgICAgICAgICBsZXQgZXhwbGFuYXRpb25fc2hvd246IHN0cmluZyA9ICFxdWVzdGlvbiFbXCJhaV9leHBsYW5hdGlvblwiXSA/IFwiTm8gZXhwbGFuYXRpb24gcHJvdmlkZWRcIiA6IHF1ZXN0aW9uIVtcImFpX2V4cGxhbmF0aW9uXCJdXG4gICAgICAgICAgICAgICAgJChcIiNhaV9leHBsYW5hdGlvbl9zcGFuXCIpLmh0bWwoZXhwbGFuYXRpb25fc2hvd24pXG4gICAgICAgICAgICAgICAgJChcIiNhaV9leHBsYW5hdGlvbl9kaXZcIikuc2hvdygpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJleHBsYW5hdGlvbl9zaG93blwiXSA9IGV4cGxhbmF0aW9uX3Nob3duXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFpX2V4cGxhbmF0aW9uX2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWlfZXhwbGFuYXRpb25fZGl2XCIpXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9ucyA9IFtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKSxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lcigxNSwgYWlfZXhwbGFuYXRpb25fZGl2LCBidXR0b25zLCBudWxsLCBcIlBsZWFzZSByZWFkIHRoZSBleHBsYW5hdGlvbi5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPT0gXCJhZGFwdGl2ZVwiKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGFkYXB0aXZlIHN0cmF0ZWd5XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29uZGl0aW9ucyBmb3IgYXBwbHlpbmcgJ0FJIGV4cGxhbmF0aW9uJyBpbnRlcnZlbnRpb24gbm90IHNhdGlzZmllZC5cIilcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcImFpX2NvbnRyYXN0aXZlX2V4cGxhbmF0aW9uXCIpIHtcbiAgICAgICAgLy8gQWRkIEFJIGV4cGxhbmF0aW9uXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm5vbmVcIikgfHxcbiAgICAgICAgICAgIChBSUludGVydmVudGlvbkdvYWwgPT0gXCJtaXRpZ2F0ZV91bmRlcnRydXN0XCIgJiYgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsIDwgSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGQpIHx8XG4gICAgICAgICAgICAoQUlJbnRlcnZlbnRpb25Hb2FsID09IFwibWl0aWdhdGVfb3ZlcnRydXN0XCIgJiYgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID4gSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGQpXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcHBseWluZyBBSSBleHBsYW5hdGlvbiBpbnRlcnZlbnRpb24uXCIpXG4gICAgICAgICAgICBpZiAoQUlJbnRlcnZlbnRpb25TdHJhdGVneSA9PSBcImZpeGVkXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNob3dpbmcgZXhwbGFuYXRpb25cIilcbiAgICAgICAgICAgICAgICBsZXQgZXhwbGFuYXRpb25fc2hvd246IHN0cmluZyA9ICFxdWVzdGlvbiFbXCJhaV9jb250cmFzdGl2ZV9leHBsYW5hdGlvblwiXSA/IFwiTm8gZXhwbGFuYXRpb24gcHJvdmlkZWRcIiA6IHF1ZXN0aW9uIVtcImFpX2NvbnRyYXN0aXZlX2V4cGxhbmF0aW9uXCJdXG4gICAgICAgICAgICAgICAgJChcIiNhaV9jb250cmFzdGl2ZV9leHBsYW5hdGlvbl9zcGFuXCIpLmh0bWwoZXhwbGFuYXRpb25fc2hvd24pXG4gICAgICAgICAgICAgICAgJChcIiNhaV9jb250cmFzdGl2ZV9leHBsYW5hdGlvbl9kaXZcIikuc2hvdygpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJleHBsYW5hdGlvbl9zaG93blwiXSA9IGV4cGxhbmF0aW9uX3Nob3duXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFpX2NvbnRyYXN0aXZlX2V4cGxhbmF0aW9uX2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWlfY29udHJhc3RpdmVfZXhwbGFuYXRpb25fZGl2XCIpXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9ucyA9IFtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKSxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lcigxMCwgYWlfY29udHJhc3RpdmVfZXhwbGFuYXRpb25fZGl2LCBidXR0b25zLCBudWxsLCBcIlBsZWFzZSByZWFkIHRoZSBleHBsYW5hdGlvbi5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPT0gXCJhZGFwdGl2ZVwiKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGFkYXB0aXZlIHN0cmF0ZWd5XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29uZGl0aW9ucyBmb3IgYXBwbHlpbmcgJ0FJIGV4cGxhbmF0aW9uJyBpbnRlcnZlbnRpb24gbm90IHNhdGlzZmllZC5cIilcbiAgICAgICAgfVxuXG4gICAgfSBcbiAgICBlbHNlIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJib3RoX2V4cGxhbmF0aW9uX3R5cGVzXCIpIHtcbiAgICAgICAgYXNzZXJ0IChBSUludGVydmVudGlvbkdvYWwgPT0gXCJtaXRpZ2F0ZV91bmRlcmFuZG92ZXJ0cnVzdFwiLCBcIkdvYWwgZm9yICdib3RoIGV4cGxhbmF0aW9uIHR5cGVzJyBpbnRlcnZlbnRpb24gc2hvdWxkIGJlICdtaXRpZ2F0ZV91bmRlcmFuZG92ZXJ0cnVzdCdcIilcbiAgICAgICAgaWYgKHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCA8IEludGVydmVudGlvblVuZGVydHJ1c3RUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBwbHlpbmcgZXhwbGFuYXRpb24gaW50ZXJ2ZW50aW9uIGZvciB1bmRlcnRydXN0XCIpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNob3dpbmcgZXhwbGFuYXRpb25cIilcbiAgICAgICAgICAgIGxldCBleHBsYW5hdGlvbl9zaG93bjogc3RyaW5nID0gIXF1ZXN0aW9uIVtcImFpX2V4cGxhbmF0aW9uXCJdID8gXCJObyBleHBsYW5hdGlvbiBwcm92aWRlZFwiIDogcXVlc3Rpb24hW1wiYWlfZXhwbGFuYXRpb25cIl1cbiAgICAgICAgICAgICQoXCIjYWlfZXhwbGFuYXRpb25fc3BhblwiKS5odG1sKGV4cGxhbmF0aW9uX3Nob3duKVxuICAgICAgICAgICAgJChcIiNhaV9leHBsYW5hdGlvbl9kaXZcIikuc2hvdygpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiZXhwbGFuYXRpb25fc2hvd25cIl0gPSBleHBsYW5hdGlvbl9zaG93blxuICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcblxuICAgICAgICAgICAgY29uc3QgYWlfZXhwbGFuYXRpb25fZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhaV9leHBsYW5hdGlvbl9kaXZcIilcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLFxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgc3RhcnRUaW1lcigxNSwgYWlfZXhwbGFuYXRpb25fZGl2LCBidXR0b25zLCBudWxsLCBcIlBsZWFzZSByZWFkIHRoZSBleHBsYW5hdGlvbi5cIilcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPiBJbnRlcnZlbnRpb25PdmVydHJ1c3RUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBwbHlpbmcgY29udHJhc3RpdmUgZXhwbGFuYXRpb24gaW50ZXJ2ZW50aW9uIGZvciBvdmVydHJ1c3RcIilcbiAgICAgICAgICAgIGxldCBleHBsYW5hdGlvbl9zaG93bjogc3RyaW5nID0gIXF1ZXN0aW9uIVtcImFpX2NvbnRyYXN0aXZlX2V4cGxhbmF0aW9uXCJdID8gXCJObyBleHBsYW5hdGlvbiBwcm92aWRlZFwiIDogcXVlc3Rpb24hW1wiYWlfY29udHJhc3RpdmVfZXhwbGFuYXRpb25cIl1cbiAgICAgICAgICAgICQoXCIjYWlfY29udHJhc3RpdmVfZXhwbGFuYXRpb25fc3BhblwiKS5odG1sKGV4cGxhbmF0aW9uX3Nob3duKVxuICAgICAgICAgICAgJChcIiNhaV9jb250cmFzdGl2ZV9leHBsYW5hdGlvbl9kaXZcIikuc2hvdygpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiZXhwbGFuYXRpb25fc2hvd25cIl0gPSBleHBsYW5hdGlvbl9zaG93blxuICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcblxuICAgICAgICAgICAgY29uc3QgYWlfY29udHJhc3RpdmVfZXhwbGFuYXRpb25fZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhaV9jb250cmFzdGl2ZV9leHBsYW5hdGlvbl9kaXZcIilcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLFxuICAgICAgICAgICAgXVxuICAgICAgICAgICAgc3RhcnRUaW1lcigxMCwgYWlfY29udHJhc3RpdmVfZXhwbGFuYXRpb25fZGl2LCBidXR0b25zLCBudWxsLCBcIlBsZWFzZSByZWFkIHRoZSBleHBsYW5hdGlvbi5cIilcblxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcImFpX3RoaW5raW5nXCIpIHtcbiAgICAgICAgLy8gQWRkIEFJIHRoaW5raW5nXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIChBSUludGVydmVudGlvbkdvYWwgPT0gXCJub25lXCIpIHx8XG4gICAgICAgICAgICAoQUlJbnRlcnZlbnRpb25Hb2FsID09IFwibWl0aWdhdGVfdW5kZXJ0cnVzdFwiICYmIHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCA8IEludGVydmVudGlvblRydXN0VGhyZXNob2xkKSB8fFxuICAgICAgICAgICAgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm1pdGlnYXRlX292ZXJ0cnVzdFwiICYmIHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCA+IEludGVydmVudGlvblRydXN0VGhyZXNob2xkKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBwbHlpbmcgQUkgdGhpbmtpbmcgaW50ZXJ2ZW50aW9uLlwiKVxuICAgICAgICAgICAgaWYgKEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPT0gXCJmaXhlZFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTaG93aW5nIEFJIHRoaW5raW5nXCIpXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcblxuICAgICAgICAgICAgICAgICQoXCIjYWlfdGhpbmtpbmdfZGl2XCIpLnNob3coKVxuICAgICAgICAgICAgICAgIGF3YWl0IHdhaXQoMTAwMDApXG4gICAgICAgICAgICAgICAgJChcIiNhaV90aGlua2luZ19kaXZcIikuaGlkZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBSUludGVydmVudGlvblN0cmF0ZWd5ID09IFwiYWRhcHRpdmVcIikge1xuICAgICAgICAgICAgICAgIC8vVE9ETzogSW1wbGVtZW50IGFkYXB0aXZlIHN0cmF0ZWd5XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwiYWlfZm9yY2VkX3BhdXNlXCIpIHtcbiAgICAgICAgLy8gQWRkIEFJIGZvcmNlZCBwYXVzZVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoQUlJbnRlcnZlbnRpb25Hb2FsID09IFwibm9uZVwiKSB8fFxuICAgICAgICAgICAgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm1pdGlnYXRlX3VuZGVydHJ1c3RcIiAmJiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPCBJbnRlcnZlbnRpb25UcnVzdFRocmVzaG9sZCkgfHxcbiAgICAgICAgICAgIChBSUludGVydmVudGlvbkdvYWwgPT0gXCJtaXRpZ2F0ZV9vdmVydHJ1c3RcIiAmJiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPiBJbnRlcnZlbnRpb25UcnVzdFRocmVzaG9sZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFwcGx5aW5nIEFJIGZvcmNlZCBwYXVzZSBpbnRlcnZlbnRpb24uXCIpXG4gICAgICAgICAgICBpZiAoQUlJbnRlcnZlbnRpb25TdHJhdGVneSA9PSBcImZpeGVkXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNob3dpbmcgQUkgZm9yY2VkIHBhdXNlXCIpXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFpX2Fzc2lzdGFuY2VfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhaV9hc3Npc3RhbmNlX2RpdlwiKVxuICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIiksXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIiksXG4gICAgICAgICAgICAgICAgXSAgICBcbiAgICAgICAgICAgICAgICBzdGFydFRpbWVyKDEwLCBhaV9hc3Npc3RhbmNlX2RpdiwgYnV0dG9ucywgbnVsbCwgXCJQbGVhc2UgdGFrZSBzb21lIHRpbWUgdG8gY2FyZWZ1bGx5IGNvbnNpZGVyIHRoZSBBSSdzIHN1Z2dlc3Rpb24uXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBSUludGVydmVudGlvblN0cmF0ZWd5ID09IFwiYWRhcHRpdmVcIikge1xuICAgICAgICAgICAgICAgIC8vVE9ETzogSW1wbGVtZW50IGFkYXB0aXZlIHN0cmF0ZWd5XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IFxuICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcImJvdGhfcGF1c2VfdHlwZXNcIikge1xuICAgICAgICBhc3NlcnQgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm1pdGlnYXRlX3VuZGVyYW5kb3ZlcnRydXN0XCIsIFwiR29hbCBmb3IgJ2JvdGggcGF1c2UgdHlwZXMnIGludGVydmVudGlvbiBzaG91bGQgYmUgJ21pdGlnYXRlX3VuZGVyYW5kb3ZlcnRydXN0J1wiKVxuICAgICAgICBpZiAodXNlcl9jdXJyZW50X3RydXN0X2xldmVsIDwgSW50ZXJ2ZW50aW9uVW5kZXJ0cnVzdFRocmVzaG9sZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBcHBseWluZyBBSSB0aGlua2luZyBpbnRlcnZlbnRpb24gZm9yIHVuZGVydHJ1c3RcIilcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2hvd2luZyBBSSB0aGlua2luZ1wiKVxuICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcbiAgICAgICAgICAgICQoXCIjYWlfdGhpbmtpbmdfZGl2XCIpLnNob3coKVxuICAgICAgICAgICAgYXdhaXQgd2FpdCgxMDAwMClcbiAgICAgICAgICAgICQoXCIjYWlfdGhpbmtpbmdfZGl2XCIpLmhpZGUoKVxuICAgICAgICB9IFxuICAgICAgICBlbHNlIGlmICh1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPiBJbnRlcnZlbnRpb25PdmVydHJ1c3RUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXBwbHlpbmcgQUkgZm9yY2VkIHBhdXNlIGludGVydmVudGlvbiBmb3Igb3ZlcnRydXN0XCIpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNob3dpbmcgQUkgZm9yY2VkIHBhdXNlXCIpXG4gICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImludGVydmVudGlvbl9hcHBsaWVkXCJdID0gdHJ1ZVxuXG4gICAgICAgICAgICBjb25zdCBhaV9hc3Npc3RhbmNlX2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWlfYXNzaXN0YW5jZV9kaXZcIilcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLFxuICAgICAgICAgICAgXSAgICBcbiAgICAgICAgICAgIHN0YXJ0VGltZXIoMTAsIGFpX2Fzc2lzdGFuY2VfZGl2LCBidXR0b25zLCBudWxsLCBcIlBsZWFzZSB0YWtlIHNvbWUgdGltZSB0byBjYXJlZnVsbHkgY29uc2lkZXIgdGhlIEFJJ3Mgc3VnZ2VzdGlvbi5cIilcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuICAgIC8vaW50ZXJ2ZW50aW9uX2RldGFpbHNbJ2FjdHVhbF9haV9jb25maWRlbmNlJ10gPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgLy9pbnRlcnZlbnRpb25fZGV0YWlsc1snZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UnXSA9IGRpc3BsYXllZF9haV9jb25maWRlbmNlXG4gICAgY29uc29sZS5sb2coXCJBSSBBc3Npc3RhbmNlIEludGVydmVudGlvbiBEZXRhaWxzOiBcIiwgaW50ZXJ2ZW50aW9uX2RldGFpbHMpXG5cbiAgICAkKFwiI2FpX3ByZWRpY3Rpb25fc3BhblwiKS5odG1sKFwiT3B0aW9uIFwiICsgcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSlcbiAgICAkKFwiI2FpX2NvbmZpZGVuY2Vfc3BhblwiKS5odG1sKGRpc3BsYXllZF9haV9jb25maWRlbmNlKVxuXG4gICAgJChcIiNhaV9hc3Npc3RhbmNlX2RpdlwiKS5zaG93KClcbiAgICAkKFwiI2ZpbmFsX3VzZXJfZGVjaXNpb25fZGl2XCIpLnNob3coKVxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRfdHJ1c3RfZWZmZWN0KCkge1xuICAgIC8vIEdldCB0cnVzdCBlZmZlY3QgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICBsZXQgaW5pdGlhbF91c2VyX2NvcnJlY3RuZXNzID0gTnVtYmVyKGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJjb3JyZWN0X29wdGlvblwiXSlcbiAgICBsZXQgYWlfY29ycmVjdG5lc3MgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSA9PSBxdWVzdGlvbiFbXCJjb3JyZWN0X29wdGlvblwiXSlcbiAgICBsZXQgZmluYWxfdXNlcl9jb3JyZWN0bmVzcyA9IE51bWJlcihmaW5hbF91c2VyX2RlY2lzaW9uID09IHF1ZXN0aW9uIVtcImNvcnJlY3Rfb3B0aW9uXCJdKVxuICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgbGV0IHRydXN0X2VmZmVjdF9pbnB1dHMgPSB7XG4gICAgICAgIFwiaW5pdGlhbF91c2VyX2NvcnJlY3RuZXNzXCI6IGluaXRpYWxfdXNlcl9jb3JyZWN0bmVzcyxcbiAgICAgICAgXCJhaV9jb3JyZWN0bmVzc1wiOiBhaV9jb3JyZWN0bmVzcyxcbiAgICAgICAgXCJmaW5hbF91c2VyX2NvcnJlY3RuZXNzXCI6IGZpbmFsX3VzZXJfY29ycmVjdG5lc3MsXG4gICAgICAgIFwiYWlfY29uZmlkZW5jZVwiOiBhaV9jb25maWRlbmNlLFxuICAgICAgICBcInVzZXJfY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsLFxuICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiVHJ1c3QgZWZmZWN0IGlucHV0czogXCIsIHRydXN0X2VmZmVjdF9pbnB1dHMpXG4gICAgLy9sZXQgdHJ1c3RfZWZmZWN0ID0gZ2V0X3VzZXJfdHJ1c3RfZWZmZWN0KHRydXN0X2VmZmVjdF9pbnB1dHMpXG4gICAgbGV0IHJlc3VsdDogYW55XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZ2V0X3RydXN0X2VmZmVjdFwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lOiB0cnVzdF9lZmZlY3RfbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KHRydXN0X2VmZmVjdF9pbnB1dHMpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIVwiKVxuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiVHJ1c3QgZWZmZWN0IHByZWRpY3Rpb24gcmVzdWx0OiBcIiwgcmVzdWx0KVxuICAgIGxldCB0cnVzdF9lZmZlY3QgPSBhd2FpdCByZXN1bHRbXCJ0cnVzdF9lZmZlY3RcIl1cblxuICAgIHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWwgPSB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsICsgdHJ1c3RfZWZmZWN0XG4gICAgdHJ1c3RfZWZmZWN0X3ByZWRpY3Rpb25fZGF0YSA9IHtcbiAgICAgICAgXCJtb2RlbF9pbnB1dHNcIjogdHJ1c3RfZWZmZWN0X2lucHV0cyxcbiAgICAgICAgXCJwcmVkaWN0ZWRfdHJ1c3RfZWZmZWN0XCI6IHRydXN0X2VmZmVjdCxcbiAgICAgICAgXCJ1c2VyX25ld190cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsLFxuICAgIH1cbiAgICByZXR1cm4gdHJ1c3RfZWZmZWN0X3ByZWRpY3Rpb25fZGF0YVxufVxuXG5mdW5jdGlvbiBtYWtlX2ZpbmFsX3VzZXJfZGVjaXNpb24ob3B0aW9uKSB7XG4gICAgdGltZV9maW5hbF9jb25maWRlbmNlX3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgIGZpbmFsX3VzZXJfZGVjaXNpb24gPSBvcHRpb25cbiAgICBhc3NlcnQob3B0aW9uID09IDEgfHwgb3B0aW9uID09IDIsIFwiSW52YWxpZCBvcHRpb24hXCIpXG4gICAgaWYgKG9wdGlvbiA9PSAxKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgIH1cbiAgICAkKFwiI2ZpbmFsX3VzZXJfY29uZmlkZW5jZV9kaXZcIikuc2hvdygpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG59XG4kKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbWFrZV9maW5hbF91c2VyX2RlY2lzaW9uKDEpKVxuJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5vbihcImNsaWNrXCIsICgpID0+IG1ha2VfZmluYWxfdXNlcl9kZWNpc2lvbigyKSlcblxuZnVuY3Rpb24gZ2V0X2ZpbmFsX3VzZXJfY29uZmlkZW5jZShjb25mX2xldmVsKSB7XG4gICAgdGltZV90cnVzdF9kZWNpc2lvbl9zdGFydCA9IERhdGUubm93KClcbiAgICBmaW5hbF91c2VyX2NvbmZpZGVuY2UgPSBjb25mX2xldmVsXG4gICAgYXNzZXJ0KGNvbmZfbGV2ZWwgPT0gMSB8fCBjb25mX2xldmVsID09IDIgfHwgY29uZl9sZXZlbCA9PSAzLCBcIkludmFsaWQgb3B0aW9uIVwiKVxuICAgIGlmIChjb25mX2xldmVsID09IDEpIHtcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgfSBlbHNlIGlmIChjb25mX2xldmVsID09IDIpIHtcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjJcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgfVxuXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjJcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgc2hvd19yZXN1bHQoKVxufVxuJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZ2V0X2ZpbmFsX3VzZXJfY29uZmlkZW5jZSgxKSlcbiQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5vbihcImNsaWNrXCIsICgpID0+IGdldF9maW5hbF91c2VyX2NvbmZpZGVuY2UoMikpXG4kKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikub24oXCJjbGlja1wiLCAoKSA9PiBnZXRfZmluYWxfdXNlcl9jb25maWRlbmNlKDMpKVxuXG5cbmFzeW5jIGZ1bmN0aW9uIHNob3dfcmVzdWx0KCkge1xuXG4gICAgbGV0IGNvcnJlY3Rfb3B0aW9uOiBudW1iZXIgPSBxdWVzdGlvbiFbXCJjb3JyZWN0X29wdGlvblwiXVxuICAgIGxldCB1c2VyX2lzX2NvcnJlY3Q6IGJvb2xlYW4gPSBjb3JyZWN0X29wdGlvbiA9PSBmaW5hbF91c2VyX2RlY2lzaW9uXG5cbiAgICBsZXQgYWlfaXNfY29ycmVjdDogYm9vbGVhbiA9IHF1ZXN0aW9uIVtcImFpX2lzX2NvcnJlY3RcIl1cbiAgICBsZXQgbWVzc2FnZSA9IFwiQ29ycmVjdCBhbnN3ZXI6IDxiPk9wdGlvbiBcIiArIGNvcnJlY3Rfb3B0aW9uICsgXCI8L2I+Ljxicj5cIlxuICAgIGlmICh1c2VyX2lzX2NvcnJlY3QpIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIllvdSBwaWNrZWQgT3B0aW9uIFwiICsgZmluYWxfdXNlcl9kZWNpc2lvbiArIFwiLCB3aGljaCB3YXMgPHNwYW4gY2xhc3M9J2NvbG9yX2NvcnJlY3QnPjxiPmNvcnJlY3Q8L2I+PC9zcGFuPi48YnI+XCJcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCJZb3UgcGlja2VkIE9wdGlvbiBcIiArIGZpbmFsX3VzZXJfZGVjaXNpb24gKyBcIiwgd2hpY2ggd2FzIDxzcGFuIGNsYXNzPSdjb2xvcl9pbmNvcnJlY3QnPjxiPmluY29ycmVjdDwvYj48L3NwYW4+Ljxicj5cIlxuICAgIH1cbiAgICBpZiAoYWlfaXNfY29ycmVjdCkge1xuICAgICAgICBtZXNzYWdlICs9IFwiVGhlIEFJIHBpY2tlZCBPcHRpb24gXCIgKyBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdICsgXCIsIHdoaWNoIHdhcyA8c3BhbiBjbGFzcz0nY29sb3JfY29ycmVjdCc+PGI+Y29ycmVjdDxiPjwvc3Bhbj4uPGJyPlwiXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXNzYWdlICs9IFwiVGhlIEFJIHBpY2tlZCBPcHRpb24gXCIgKyBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdICsgXCIsIHdoaWNoIHdhcyA8c3BhbiBjbGFzcz0nY29sb3JfaW5jb3JyZWN0Jz48Yj5pbmNvcnJlY3Q8L2I+PC9zcGFuPi48YnI+XCJcbiAgICB9XG4gICAgaWYgKHVzZXJfaXNfY29ycmVjdCkge1xuICAgICAgICBtZXNzYWdlICs9IFwiPHNwYW4gY2xhc3M9J2NvbG9yX2NvcnJlY3QnPjxiPllvdSByZWNlaXZlIGEgcmV3YXJkIG9mICQwLjEwLjwvYj48L3NwYW4+XCJcbiAgICAgICAgYmFsYW5jZSArPSAwLjFcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCI8c3BhbiBjbGFzcz0nY29sb3JfaW5jb3JyZWN0Jz48Yj5Zb3UgZG8gbm90IHJlY2VpdmUgYW55IHJld2FyZC48L2I+PC9zcGFuPlwiXG4gICAgfVxuXG4gICAgbWVzc2FnZSArPSBcIjxicj5cIlxuICAgIC8vaWYgKHN1Y2Nlc3MpIHtcbiAgICAvLyAgICBtZXNzYWdlICs9IGBZb3UgZ2FpbiAkJHsoYmV0X3ZhbCpiZXRfdmFsX3JhdGlvKS50b0ZpeGVkKDIpfS5gXG4gICAgLy8gICAgYmFsYW5jZSArPSBiZXRfdmFsKmJldF92YWxfcmF0aW9cbiAgICAvL30gZWxzZSB7XG4gICAgLy8gICAgbWVzc2FnZSArPSBgWW91IGxvc2UgJCR7KGJldF92YWwvMS4wKS50b0ZpeGVkKDIpfS5gXG4gICAgLy8gICAgYmFsYW5jZSAtPSBiZXRfdmFsLzEuMFxuICAgIC8vICAgIGJhbGFuY2UgPSBNYXRoLm1heCgwLCBiYWxhbmNlKVxuICAgIC8vfVxuICAgICQoXCIjYmFsYW5jZVwiKS50ZXh0KGBCYWxhbmNlOiAkJHtiYWxhbmNlLnRvRml4ZWQoMil9ICsgJDEuMGApXG4gICAgJChcIiNyZXN1bHRfc3BhblwiKS5odG1sKG1lc3NhZ2UpXG4gICAgLy8kKFwiI2J1dHRvbl9uZXh0XCIpLnNob3coKVxuICAgICQoXCIjcmVzdWx0X3NwYW5cIikuc2hvdygpXG4gICAgLy8kKFwiI2J1dHRvbl9wbGFjZV9iZXRcIikuaGlkZSgpXG4gICAgaWYgKHNraXBfdHJ1c3RfcmVwb3J0aW5nKSAgIHtcbiAgICAgICAgJChcIiNidXR0b25fbmV4dFwiKS5zaG93KClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgICQoXCIjdXNlcl90cnVzdF9yZXBvcnRfZGl2XCIpLnNob3coKVxuICAgIH1cblxuICAgIC8vdHJ1c3RfZWZmZWN0X3ByZWRpY3Rpb25fZGF0YSA9IGF3YWl0IGdldF90cnVzdF9lZmZlY3QoKVxuICAgIHVwZGF0ZV91c2VyX3RydXN0X2xldmVsX2VzdGltYXRlKClcblxuICAgIC8vJCgnI3JhbmdlX3ZhbCcpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbn1cblxuZnVuY3Rpb24gdXBkYXRlX3VzZXJfdHJ1c3RfbGV2ZWxfZXN0aW1hdGUoKSB7XG4gICAgaWYgKHVzZXJUcnVzdEhldXJpc3RpYyA9PSBcInNtb290aGVkX2NvbmZ3ZWlnaHRlZF90cnVzdFwiKSB7XG4gICAgICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgICAgIGxldCB0cnVzdF9lZmZlY3QgPSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdID09IHF1ZXN0aW9uIVtcImNvcnJlY3Rfb3B0aW9uXCJdID8gYWlfY29uZmlkZW5jZSA6IC1haV9jb25maWRlbmNlXG4gICAgICAgIGxldCBwcmV2X2VzdGltYXRlZF90cnVzdF9sZXZlbCA9IHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWxcbiAgICAgICAgdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbCA9IHNtb290aGluZ1BhcmFtICogdHJ1c3RfZWZmZWN0ICsgKDEtc21vb3RoaW5nUGFyYW0pICogdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbFxuICAgICAgICB0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhID0ge1xuICAgICAgICAgICAgXCJwcmV2X2VzdGltYXRlZF90cnVzdF9sZXZlbFwiOiBwcmV2X2VzdGltYXRlZF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgIFwidHJ1c3RfZWZmZWN0XCI6IHRydXN0X2VmZmVjdCxcbiAgICAgICAgICAgIFwibmV3X2VzdGltYXRlZF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsLFxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiT2xkIGVzdGltYXRlZCB0cnVzdCBsZXZlbDogXCIgKyBwcmV2X2VzdGltYXRlZF90cnVzdF9sZXZlbCArIFwiLCB0cnVzdCBlZmZlY3Q6IFwiICsgdHJ1c3RfZWZmZWN0ICsgXCIsIG5ldyBlc3RpbWF0ZWQgdHJ1c3QgbGV2ZWw6IFwiICsgdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbClcbiAgICB9XG59XG5cbi8vJChcIiNidXR0b25fcGxhY2VfYmV0XCIpLm9uKFwiY2xpY2tcIiwgc2hvd19yZXN1bHQpXG5cbmZ1bmN0aW9uIHN0YXJ0X3RpbWVyX2Zvcl9pbml0aWFsX2RlY2lzaW9uKCkge1xuICAgIGNvbnN0IGluaXRpYWxfdXNlcl9kZWNpc2lvbl9kaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluaXRpYWxfdXNlcl9kZWNpc2lvbl9kaXZcIilcbiAgICBjb25zdCBidXR0b25zID0gW1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIiksXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMlwiKSxcbiAgICBdXG4gICAgc3RhcnRUaW1lcigxMCwgaW5pdGlhbF91c2VyX2RlY2lzaW9uX2RpdiwgYnV0dG9ucywgbnVsbCwgXCJQbGVhc2UgcmVhZCB0aGUgcXVlc3Rpb24gYW5kIG9wdGlvbnMgY2xvc2VseS5cIilcbn1cblxuZnVuY3Rpb24gbmV4dF9xdWVzdGlvbigpIHtcbiAgICAvLyByZXN0b3JlIHByZXZpb3VzIHN0YXRlIG9mIFVJXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG5cbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG5cbiAgICAkKFwiI2FpX2Fzc2lzdGFuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjYWlfZXhwbGFuYXRpb25fZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjYWlfY29udHJhc3RpdmVfZXhwbGFuYXRpb25fZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjYWlfdGhpbmtpbmdfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjZmluYWxfdXNlcl9kZWNpc2lvbl9kaXZcIikuaGlkZSgpXG4gICAgJChcIiNmaW5hbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoJyNyYW5nZV92YWwnKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI3VzZXJfdHJ1c3RfcmVwb3J0X2RpdlwiKS5oaWRlKClcbiAgICAkKFwiI2J1dHRvbl9wbGFjZV9iZXRcIikuaGlkZSgpXG4gICAgJChcIiNidXR0b25fbmV4dFwiKS5oaWRlKClcbiAgICAkKFwiI3Jlc3VsdF9zcGFuXCIpLmhpZGUoKVxuICAgIGlmIChxdWVzdGlvbl9pID09IC0xKSB7XG4gICAgICAgICQoXCIjcmFuZ2VfdGV4dFwiKS50ZXh0KFwiLVwiKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJChcIiNyYW5nZV90ZXh0XCIpLnRleHQoYEJlZm9yZSB0aGlzIGludGVyYWN0aW9uLCB5b3VyIHRydXN0IGluIHRoZSBBSTogJHt1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsICogMTB9IC8gMTAwLmApXG4gICAgfVxuICAgICQoXCIjcmFuZ2VfdmFsXCIpLnZhbCh1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsKVxuICAgIHByZXZfdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCA9IHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWxcbiAgICBcbiAgICBxdWVzdGlvbl9pICs9IDFcbiAgICBpZiAocXVlc3Rpb25faSA+PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAkKFwiI21haW5fYm94X2V4cGVyaW1lbnRcIikuaGlkZSgpXG4gICAgICAgIGlmIChNT0NLTU9ERSkge1xuICAgICAgICAgICAgJChcIiNtYWluX2JveF9lbmRfbW9ja1wiKS5zaG93KClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoXCIjbWFpbl9ib3hfZW5kXCIpLnNob3coKVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICBxdWVzdGlvbiA9IGRhdGFbcXVlc3Rpb25faV1cbiAgICBpZiAodXNlTExNQXNzaXN0YW50ID09IHRydWUpIHtcbiAgICAgICAgJChcIiNhaV9wcmVkaWN0aW9uX3NwYW5cIikuaHRtbChcIlRoZSBBSSBpcyB0aGlua2luZy4uLlwiKVxuICAgICAgICAkKFwiI2FpX2NvbmZpZGVuY2Vfc3BhblwiKS5odG1sKFwiXCIpXG4gICAgICAgIHByZXBhcmVfbGxtX2Fzc2lzdGFuY2UoKVxuICAgIH1cbiAgICBcbiAgICAkKFwiI3F1ZXN0aW9uX3NwYW5cIikuaHRtbChxdWVzdGlvbiFbXCJxdWVzdGlvblwiXSlcbiAgICAkKFwiI29wdGlvbjFfc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcIm9wdGlvbjFcIl0pXG4gICAgJChcIiNvcHRpb24yX3NwYW5cIikuaHRtbChxdWVzdGlvbiFbXCJvcHRpb24yXCJdKVxuICAgIC8vJChcIiNhaV9wcmVkaWN0aW9uX3NwYW5cIikuaHRtbChcIk9wdGlvbiBcIiArIHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0pXG4gICAgLy8kKFwiI2FpX2NvbmZpZGVuY2Vfc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0pXG5cbiAgICAvLyBzZXQgYmV0IHZhbHVlIHJhdGlvXG4gICAgaWYocXVlc3Rpb24uaGFzT3duUHJvcGVydHkoXCJyZXdhcmRfcmF0aW9cIikpIHtcbiAgICAgICAgbGV0IFtyYXRpbzEsIHJhdGlvMl0gPSBxdWVzdGlvbltcInJld2FyZF9yYXRpb1wiXVxuICAgICAgICByYXRpbzEgPSBOdW1iZXIocmF0aW8xKVxuICAgICAgICByYXRpbzIgPSBOdW1iZXIocmF0aW8yKVxuICAgICAgICBiZXRfdmFsX3JhdGlvID0gcmF0aW8xL3JhdGlvMlxuICAgIH0gZWxzZSB7XG4gICAgICAgIGJldF92YWxfcmF0aW8gPSAxXG4gICAgfVxuXG4gICAgdGltZV9xdWVzdGlvbl9zdGFydCA9IERhdGUubm93KClcbiAgICAkKFwiI3Byb2dyZXNzXCIpLnRleHQoYFByb2dyZXNzOiAke3F1ZXN0aW9uX2kgKyAxfSAvICR7ZGF0YS5sZW5ndGh9YClcblxuICAgIHN0YXJ0X3RpbWVyX2Zvcl9pbml0aWFsX2RlY2lzaW9uKClcbn1cblxuLy8gZ2V0IHVzZXIgaWQgYW5kIGxvYWQgcXVldWVcbi8vIHRyeSB0byBzZWUgaWYgc3RhcnQgb3ZlcnJpZGUgd2FzIHBhc3NlZFxuY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbmNvbnN0IHN0YXJ0T3ZlcnJpZGUgPSB1cmxQYXJhbXMuZ2V0KCdzdGFydCcpO1xuY29uc3QgVUlERnJvbVVSTCA9IHVybFBhcmFtcy5nZXQoXCJ1aWRcIilcbmdsb2JhbFRoaXMudXJsX2RhdGEgPSBwYXJhbXNUb09iamVjdCh1cmxQYXJhbXMuZW50cmllcygpKVxuXG5pZiAoVUlERnJvbVVSTCAhPSBudWxsKSB7XG4gICAgZ2xvYmFsVGhpcy51aWQgPSBVSURGcm9tVVJMIGFzIHN0cmluZ1xuICAgIGlmIChnbG9iYWxUaGlzLnVpZCA9PSBcInByb2xpZmljX3JhbmRvbVwiKSB7XG4gICAgICAgIGxldCBxdWV1ZV9pZCA9IGAke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKX1gLnBhZFN0YXJ0KDMsIFwiMFwiKVxuICAgICAgICBnbG9iYWxUaGlzLnVpZCA9IGAke3VybFBhcmFtcy5nZXQoXCJwcm9saWZpY19xdWV1ZV9uYW1lXCIpfS8ke3F1ZXVlX2lkfWBcbiAgICB9XG59IGVsc2UgaWYgKERFVk1PREUpIHtcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFwiZGVtb1wiXG59IGVsc2Uge1xuICAgIGxldCBVSURfbWF5YmU6IGFueSA9IG51bGxcbiAgICB3aGlsZSAoVUlEX21heWJlID09IG51bGwpIHtcbiAgICAgICAgVUlEX21heWJlID0gcHJvbXB0KFwiRW50ZXIgeW91ciB1c2VyIGlkLiBQbGVhc2UgZ2V0IGluIHRvdWNoIGlmIHlvdSB3ZXJlIG5vdCBhc3NpZ25lZCBhbiBpZCBidXQgd2lzaCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGlzIGV4cGVyaW1lbnQuXCIpXG4gICAgfVxuICAgIGdsb2JhbFRoaXMudWlkID0gVUlEX21heWJlIVxufVxuXG5sZXQgaW50ZXJ2ZW50aW9uX2FsbG93ZWRfdGltZXN0ZXBzOiBudW1iZXJbXSA9IFtdXG5pZiAoZ2xvYmFsVGhpcy51aWQuaW5jbHVkZXMoXCIzNDNcIikpIHtcbiAgICBpbnRlcnZlbnRpb25fYWxsb3dlZF90aW1lc3RlcHMgPSBbNywgOCwgOSwgMTcsIDE4LCAxOSwgMjcsIDI4LCAyOV1cbn0gZWxzZSBpZiAoZ2xvYmFsVGhpcy51aWQuaW5jbHVkZXMoXCI0MzRcIikpIHtcbiAgICBpbnRlcnZlbnRpb25fYWxsb3dlZF90aW1lc3RlcHMgPSBbNywgOCwgOSwgMTcsIDE4LCAxOSwgMjcsIDI4LCAyOV1cbn0gZWxzZSBpZiAoZ2xvYmFsVGhpcy51aWQuaW5jbHVkZXMoXCI3MzVcIikpIHtcbiAgICBpbnRlcnZlbnRpb25fYWxsb3dlZF90aW1lc3RlcHMgPSBbMTAsIDExLCAxMiwgMTMsIDE0LCAyNSwgMjYsIDI3LCAyOCwgMjldXG59XG5cbi8vY29uc3QgdmFsaWRBSUludGVydmVudGlvbnMgPSBbXCJub25lXCIsIFwiZHVtbXlcIiwgXCJjb25maWRlbmNlX2luZmxhdGlvblwiLCBcImNvbmZpZGVuY2VfaW5mbGF0aW9uX2ZpeGVkXCIsIFwiY29uZmlkZW5jZV9kZWZsYXRpb25cIl1cbi8vbGV0IEFJSW50ZXJ2ZW50aW9uVHlwZSA9IHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fdHlwZVwiKVxuLy9sZXQgSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkID0gTnVtYmVyKHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fdGhyZXNob2xkXCIpKVxuLy9sZXQgSW50ZXJ2ZW50aW9uRml4ZWRDb25mSW5jcmVhc2UgPSBOdW1iZXIodXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl9maXhlZGNvbmZpbmNyZWFzZVwiKSlcbmNvbnN0IHZhbGlkSW50ZXJ2ZW50aW9uR29hbHMgPSBbXCJub25lXCIsIFwibWl0aWdhdGVfdW5kZXJ0cnVzdFwiLCBcIm1pdGlnYXRlX292ZXJ0cnVzdFwiLCBcIm1pdGlnYXRlX3VuZGVyYW5kb3ZlcnRydXN0XCJdXG5sZXQgQUlJbnRlcnZlbnRpb25Hb2FsID0gdXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl9nb2FsXCIpXG5pZiAoQUlJbnRlcnZlbnRpb25Hb2FsID09IG51bGwpIHtBSUludGVydmVudGlvbkdvYWwgPSBcIm5vbmVcIn1cbmlmICghdmFsaWRJbnRlcnZlbnRpb25Hb2Fscy5pbmNsdWRlcyhBSUludGVydmVudGlvbkdvYWwhKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQUkgQXNzaXN0YW5jZSBJbnRlcnZlbnRpb24gR29hbDogXCIgKyBBSUludGVydmVudGlvbkdvYWwpXG59XG5cbmNvbnN0IHZhbGlkSW50ZXJ2ZW50aW9uVHlwZXMgPSBbXCJub25lXCIsIFwiZHVtbXlcIiwgXCJjb25maWRlbmNlX21hbmlwXCIsIFwiYWlfZXhwbGFuYXRpb25cIiwgXCJhaV9jb250cmFzdGl2ZV9leHBsYW5hdGlvblwiLCBcImJvdGhfZXhwbGFuYXRpb25fdHlwZXNcIiwgXCJhaV90aGlua2luZ1wiLCBcImFpX2ZvcmNlZF9wYXVzZVwiLCBcImJvdGhfcGF1c2VfdHlwZXNcIl1cbmxldCBBSUludGVydmVudGlvblR5cGUgPSB1cmxQYXJhbXMuZ2V0KFwiaW50ZXJ2ZW50aW9uX3R5cGVcIilcbmlmIChBSUludGVydmVudGlvblR5cGUgPT0gbnVsbCkge0FJSW50ZXJ2ZW50aW9uVHlwZSA9IFwibm9uZVwifSBcbmlmICghdmFsaWRJbnRlcnZlbnRpb25UeXBlcy5pbmNsdWRlcyhBSUludGVydmVudGlvblR5cGUhKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQUkgQXNzaXN0YW5jZSBJbnRlcnZlbnRpb246IFwiICsgQUlJbnRlcnZlbnRpb25UeXBlKVxufVxuXG5jb25zdCB2YWxpZEludGVydmVudGlvblN0cmF0ZWdpZXMgPSBbXCJkdW1teVwiLCBcImZpeGVkXCIsIFwiYWRhcHRpdmVcIl1cbmxldCBBSUludGVydmVudGlvblN0cmF0ZWd5ID0gdXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl9zdHJhdGVneVwiKVxuaWYgKEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPT0gbnVsbCkge0FJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPSBcImR1bW15XCJ9XG5pZiAoIXZhbGlkSW50ZXJ2ZW50aW9uU3RyYXRlZ2llcy5pbmNsdWRlcyhBSUludGVydmVudGlvblN0cmF0ZWd5ISkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEFJIEFzc2lzdGFuY2UgSW50ZXJ2ZW50aW9uIFN0cmF0ZWd5OiBcIiArIEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kpXG59XG5cbi8vIEludGVydmVudGlvbi1zcGVjaWZpYyBwYXJhbWV0ZXJzXG5sZXQgSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkID0gTnVtYmVyKHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fdGhyZXNob2xkXCIpKVxuaWYgKEludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZCA9PSBudWxsKSB7SW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkID0gLTF9XG5sZXQgSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGQgPSBOdW1iZXIodXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl90cnVzdF90aHJlc2hvbGRcIikpXG5pZiAoSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGQgPT0gbnVsbCkge0ludGVydmVudGlvblRydXN0VGhyZXNob2xkID0gMH1cbmxldCBJbnRlcnZlbnRpb25GaXhlZENvbmZDaGFuZ2UgPSBOdW1iZXIodXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl9maXhlZGNvbmZjaGFuZ2VcIikpXG5pZiAoSW50ZXJ2ZW50aW9uRml4ZWRDb25mQ2hhbmdlID09IG51bGwpIHtJbnRlcnZlbnRpb25GaXhlZENvbmZDaGFuZ2UgPSAwfVxubGV0IEludGVydmVudGlvblVuZGVydHJ1c3RUaHJlc2hvbGQgPSBOdW1iZXIodXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl91bmRlcnRydXN0X3RocmVzaG9sZFwiKSlcbmlmIChJbnRlcnZlbnRpb25VbmRlcnRydXN0VGhyZXNob2xkID09IG51bGwpIHtJbnRlcnZlbnRpb25VbmRlcnRydXN0VGhyZXNob2xkID0gSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGR9XG5sZXQgSW50ZXJ2ZW50aW9uT3ZlcnRydXN0VGhyZXNob2xkID0gTnVtYmVyKHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fb3ZlcnRydXN0X3RocmVzaG9sZFwiKSlcbmlmIChJbnRlcnZlbnRpb25PdmVydHJ1c3RUaHJlc2hvbGQgPT0gbnVsbCkge0ludGVydmVudGlvbk92ZXJ0cnVzdFRocmVzaG9sZCA9IEludGVydmVudGlvblRydXN0VGhyZXNob2xkfVxuXG5sZXQgdXNlclRydXN0SGV1cmlzdGljID0gdXJsUGFyYW1zLmdldChcInVzZXJfdHJ1c3RfaGV1cmlzdGljXCIpXG5pZiAodXNlclRydXN0SGV1cmlzdGljID09IG51bGwpIHt1c2VyVHJ1c3RIZXVyaXN0aWMgPSBcInVzZXJfcmVwb3J0ZWRcIn1cbmxldCBzbW9vdGhpbmdQYXJhbSA9IE51bWJlcih1cmxQYXJhbXMuZ2V0KFwic21vb3RoaW5nX3BhcmFtXCIpKVxuaWYgKHNtb290aGluZ1BhcmFtID09IG51bGwpIHtzbW9vdGhpbmdQYXJhbSA9IDF9XG5cbmxldCBza2lwX3RydXN0X3JlcG9ydGluZyA9IHVybFBhcmFtcy5nZXQoXCJza2lwX3RydXN0X3JlcG9ydGluZ1wiKSA9PSBcInRydWVcIlxuaWYgKHNraXBfdHJ1c3RfcmVwb3J0aW5nID09IG51bGwpIHtza2lwX3RydXN0X3JlcG9ydGluZyA9IGZhbHNlfVxuXG5sZXQgdXNlTExNQXNzaXN0YW50ID0gdXJsUGFyYW1zLmdldChcInVzZV9sbG1fYXNzaXN0YW50XCIpID09IFwidHJ1ZVwiXG5pZiAodXNlTExNQXNzaXN0YW50ID09IG51bGwpIHt1c2VMTE1Bc3Npc3RhbnQgPSBmYWxzZX1cblxuY29uc29sZS5sb2coXCJBSUludGVydmVudGlvbkdvYWw6IFwiLCBBSUludGVydmVudGlvbkdvYWwpXG5jb25zb2xlLmxvZyhcIkFJSW50ZXJ2ZW50aW9uVHlwZTogXCIsIEFJSW50ZXJ2ZW50aW9uVHlwZSlcbmNvbnNvbGUubG9nKFwiQUlJbnRlcnZlbnRpb25TdHJhdGVneTogXCIsIEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kpXG5jb25zb2xlLmxvZyhcIkludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZDogXCIsIEludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZClcbmNvbnNvbGUubG9nKFwiSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGQ6IFwiLCBJbnRlcnZlbnRpb25UcnVzdFRocmVzaG9sZClcbmNvbnNvbGUubG9nKFwiSW50ZXJ2ZW50aW9uVW5kZXJ0cnVzdFRocmVzaG9sZDogXCIsIEludGVydmVudGlvblVuZGVydHJ1c3RUaHJlc2hvbGQpXG5jb25zb2xlLmxvZyhcIkludGVydmVudGlvbk92ZXJ0cnVzdFRocmVzaG9sZDogXCIsIEludGVydmVudGlvbk92ZXJ0cnVzdFRocmVzaG9sZClcbmNvbnNvbGUubG9nKFwiSW50ZXJ2ZW50aW9uRml4ZWRDb25mQ2hhbmdlOiBcIiwgSW50ZXJ2ZW50aW9uRml4ZWRDb25mQ2hhbmdlKVxuY29uc29sZS5sb2coXCJ1c2VyVHJ1c3RIZXVyaXN0aWM6IFwiLCB1c2VyVHJ1c3RIZXVyaXN0aWMpXG5jb25zb2xlLmxvZyhcInNraXBfdHJ1c3RfcmVwb3J0aW5nOiBcIiwgc2tpcF90cnVzdF9yZXBvcnRpbmcpXG5jb25zb2xlLmxvZyhcInVzZUxMTUFzc2lzdGFudDogXCIsIHVzZUxMTUFzc2lzdGFudClcblxuaWYgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm1pdGlnYXRlX3VuZGVydHJ1c3RcIikge1xuICAgIGFzc2VydChJbnRlcnZlbnRpb25UcnVzdFRocmVzaG9sZCA8PSAwLCBcIlRydXN0IHRocmVzaG9sZCBmb3IgbWl0aWdhdGluZyB1bmRlcnRydXN0IGNhbm5vdCBiZSBwb3NpdGl2ZS5cIilcbiAgICBhc3NlcnQoSW50ZXJ2ZW50aW9uRml4ZWRDb25mQ2hhbmdlID49IDAsIFwiQ29uZmlkZW5jZSBjaGFuZ2UgZm9yIG1pdGlnYXRpbmcgdW5kZXJ0cnVzdCBjYW5ub3QgYmUgbmVnYXRpdmUuXCIpXG59IGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm1pdGlnYXRlX292ZXJ0cnVzdFwiKSB7XG4gICAgYXNzZXJ0KEludGVydmVudGlvblRydXN0VGhyZXNob2xkID49IDAsIFwiVHJ1c3QgdGhyZXNob2xkIGZvciBtaXRpZ2F0aW5nIG92ZXJ0cnVzdCBjYW5ub3QgYmUgbmVnYXRpdmUuXCIpXG4gICAgYXNzZXJ0KEludGVydmVudGlvbkZpeGVkQ29uZkNoYW5nZSA8PSAwLCBcIkNvbmZpZGVuY2UgY2hhbmdlIGZvciBtaXRpZ2F0aW5nIG92ZXJ0cnVzdCBjYW5ub3QgYmUgcG9zaXRpdmUuXCIpXG59XG5cbmdsb2JhbFRoaXMudXJsX2RhdGFbXCJpbnRlcnZlbnRpb25fZ29hbFwiXSA9IEFJSW50ZXJ2ZW50aW9uR29hbFxuZ2xvYmFsVGhpcy51cmxfZGF0YVtcImludGVydmVudGlvbl90eXBlXCJdID0gQUlJbnRlcnZlbnRpb25UeXBlXG5nbG9iYWxUaGlzLnVybF9kYXRhW1wiaW50ZXJ2ZW50aW9uX3N0cmF0ZWd5XCJdID0gQUlJbnRlcnZlbnRpb25TdHJhdGVneVxuZ2xvYmFsVGhpcy51cmxfZGF0YVtcImludGVydmVudGlvbl90aHJlc2hvbGRcIl0gPSBJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGRcbmdsb2JhbFRoaXMudXJsX2RhdGFbXCJpbnRlcnZlbnRpb25fZml4ZWRjb25mY2hhbmdlXCJdID0gSW50ZXJ2ZW50aW9uRml4ZWRDb25mQ2hhbmdlXG5nbG9iYWxUaGlzLnVybF9kYXRhW1widXNlcl90cnVzdF9oZXVyaXN0aWNcIl0gPSB1c2VyVHJ1c3RIZXVyaXN0aWNcbmdsb2JhbFRoaXMudXJsX2RhdGFbXCJza2lwX3RydXN0X3JlcG9ydGluZ1wiXSA9IHNraXBfdHJ1c3RfcmVwb3J0aW5nXG5nbG9iYWxUaGlzLnVybF9kYXRhW1wic21vb3RoaW5nX3BhcmFtXCJdID0gc21vb3RoaW5nUGFyYW1cbmdsb2JhbFRoaXMudXJsX2RhdGFbXCJ1c2VfbGxtX2Fzc2lzdGFudFwiXSA9IHVzZUxMTUFzc2lzdGFudFxuXG4vLyB2ZXJzaW9uIGZvciBwYXBlclxuaWYgKGdsb2JhbFRoaXMudWlkLnN0YXJ0c1dpdGgoXCJkZW1vX3BhcGVyXCIpKSB7XG4gICAgTU9DS01PREUgPSB0cnVlXG59IGVsc2Uge1xuXG59XG5jb25zb2xlLmxvZyhcIlJ1bm5pbmcgd2l0aCBVSURcIiwgZ2xvYmFsVGhpcy51aWQpXG5sb2FkX2RhdGEoKS5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgLy9hbGVydChcIkludmFsaWQgdXNlciBpZC5cIilcbiAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgdXNlciBpZC5cIilcbiAgICBjb25zb2xlLmxvZyhnbG9iYWxUaGlzLnVpZCEpXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG59XG4pLnRoZW4oKG5ld19kYXRhKSA9PiB7XG4gICAgZGF0YSA9IG5ld19kYXRhXG4gICAgaWYgKHN0YXJ0T3ZlcnJpZGUgIT0gbnVsbCkge1xuICAgICAgICBxdWVzdGlvbl9pID0gcGFyc2VJbnQoc3RhcnRPdmVycmlkZSkgLSAxXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgZnJvbVwiLCBxdWVzdGlvbl9pKVxuICAgIH1cbiAgICAvLyBuZXh0X3F1ZXN0aW9uKClcbiAgICBuZXh0X2luc3RydWN0aW9ucygwKVxuICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLnNob3coKVxuICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5oaWRlKClcbn0pXG5cbmNvbnNvbGUubG9nKFwiU3RhcnRpbmcgc2Vzc2lvbiB3aXRoIFVJRDpcIiwgZ2xvYmFsVGhpcy51aWQhKVxuXG5sZXQgYWxlcnRfYWN0aXZlID0gZmFsc2VcbmRvY3VtZW50Lm9udmlzaWJpbGl0eWNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAoIWFsZXJ0X2FjdGl2ZSkge1xuICAgICAgICBjb3VudF9leGl0ZWRfcGFnZSArPSAxXG4gICAgICAgIGFsZXJ0X2FjdGl2ZSA9IHRydWVcbiAgICAgICAgaWYgKCEoZ2xvYmFsVGhpcy51aWQhLnN0YXJ0c1dpdGgoXCJkZW1vXCIpKSAmJiAhKERFVk1PREUpKSB7XG4gICAgICAgICAgICBhbGVydChcIlBsZWFzZSBkb24ndCBsZWF2ZSB0aGUgcGFnZS4gSWYgeW91IGRvIHNvIGFnYWluLCB3ZSBtYXkgcmVzdHJpY3QgcGF5aW5nIHlvdS5cIilcbiAgICAgICAgfVxuICAgICAgICBhbGVydF9hY3RpdmUgPSBmYWxzZVxuICAgIH1cbn0iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTRVJWRVJfTE9HX1JPT1QiLCJhc3luYyIsImxvZ19kYXRhIiwiZGF0YSIsIk1PQ0tNT0RFIiwiY29uc29sZSIsImxvZyIsImdsb2JhbFRoaXMiLCJ1cmxfZGF0YSIsInVpZCIsIiQiLCJhamF4IiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2plY3QiLCJyZXBsYWNlIiwicGF5bG9hZCIsInR5cGUiLCJjb250ZW50VHlwZSIsImUiLCJhY3RpdmVUaW1lciIsInN0YXJ0VGltZXIiLCJkdXJhdGlvbiIsInN0ZXBEaXYiLCJidXR0b25zIiwiY2FsbGJhY2siLCJtZXNzYWdlIiwic2hvd1RpbWVSZW1haW5pbmciLCJjbGVhckludGVydmFsIiwiZm9yRWFjaCIsImJ1dHRvbiIsInNldEF0dHJpYnV0ZSIsInRpbWVyRGlzcGxheSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlkIiwic3R5bGUiLCJmb250V2VpZ2h0IiwibWFyZ2luVG9wIiwiYXBwZW5kQ2hpbGQiLCJyZW1haW5pbmdUaW1lIiwidGV4dENvbnRlbnQiLCJzZXRJbnRlcnZhbCIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwid2FpdCIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwidGltZV9xdWVzdGlvbl9zdGFydCIsInRpbWVfZmluYWxfZGVjaXNpb25fc3RhcnQiLCJ0aW1lX3RydXN0X2RlY2lzaW9uX3N0YXJ0IiwidGltZV9pbml0aWFsX2NvbmZpZGVuY2Vfc3RhcnQiLCJ0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQiLCJxdWVzdGlvbl9pIiwicXVlc3Rpb24iLCJpbml0aWFsX3VzZXJfZGVjaXNpb24iLCJmaW5hbF91c2VyX2RlY2lzaW9uIiwiaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UiLCJmaW5hbF91c2VyX2NvbmZpZGVuY2UiLCJiYWxhbmNlIiwidXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCIsInByZXZfdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCIsImJldF92YWxfcmF0aW8iLCJpbnN0cnVjdGlvbl9pIiwiY291bnRfZXhpdGVkX3BhZ2UiLCJ1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsIiwiaW50ZXJ2ZW50aW9uX2RldGFpbHMiLCJ0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhIiwibGxtX3ByZWRpY3Rpb25fcmVzdWx0IiwicHJlX3N1cnZleV9hbnN3ZXIxIiwicHJlX3N1cnZleV9hbnN3ZXIyIiwiYXNzZXJ0IiwiY29uZGl0aW9uIiwibmV4dF9pbnN0cnVjdGlvbnMiLCJpbmNyZW1lbnQiLCJza2lwX3RydXN0X3JlcG9ydGluZyIsImF0dHIiLCJyZW1vdmVBdHRyIiwic2hvdyIsInZhbCIsImhpZGUiLCJuZXh0X3F1ZXN0aW9uIiwiY2hpbGRyZW4iLCJlYWNoIiwiXyIsImVsIiwibWFrZV9pbml0aWFsX3VzZXJfZGVjaXNpb24iLCJvcHRpb24iLCJEYXRlIiwibm93IiwiZ2V0X2luaXRpYWxfdXNlcl9jb25maWRlbmNlIiwiY29uZl9sZXZlbCIsImRpc3BsYXllZF9haV9jb25maWRlbmNlIiwidXNlcl9jdXJyZW50X3RydXN0X2xldmVsIiwidXNlclRydXN0SGV1cmlzdGljIiwiQUlJbnRlcnZlbnRpb25UeXBlIiwiQUlJbnRlcnZlbnRpb25Hb2FsIiwiSW50ZXJ2ZW50aW9uVHJ1c3RUaHJlc2hvbGQiLCJBSUludGVydmVudGlvblN0cmF0ZWd5IiwiYWlfY29uZmlkZW5jZSIsIk51bWJlciIsIm5ld19jb25maWRlbmNlIiwiTWF0aCIsIm1pbiIsIkludGVydmVudGlvbkZpeGVkQ29uZkNoYW5nZSIsIm1heCIsIlN0cmluZyIsInRvRml4ZWQiLCJjb25maWRlbmNlX2NoYW5nZSIsImV4cGxhbmF0aW9uX3Nob3duIiwiaHRtbCIsImdldEVsZW1lbnRCeUlkIiwiSW50ZXJ2ZW50aW9uVW5kZXJ0cnVzdFRocmVzaG9sZCIsIkludGVydmVudGlvbk92ZXJ0cnVzdFRocmVzaG9sZCIsImdldF9haV9hc3Npc3RhbmNlIiwibWFrZV9maW5hbF91c2VyX2RlY2lzaW9uIiwiZ2V0X2ZpbmFsX3VzZXJfY29uZmlkZW5jZSIsImNvcnJlY3Rfb3B0aW9uIiwidXNlcl9pc19jb3JyZWN0IiwiYWlfaXNfY29ycmVjdCIsInRleHQiLCJ0cnVzdF9lZmZlY3QiLCJwcmV2X2VzdGltYXRlZF90cnVzdF9sZXZlbCIsInNtb290aGluZ1BhcmFtIiwidXBkYXRlX3VzZXJfdHJ1c3RfbGV2ZWxfZXN0aW1hdGUiLCJzaG93X3Jlc3VsdCIsImxlbmd0aCIsInVzZUxMTUFzc2lzdGFudCIsImxsbV9pbnB1dHMiLCJVU0VSX01PREVMU19ST09UIiwibW9kZWxfbmFtZSIsInByZXBhcmVfbGxtX2Fzc2lzdGFuY2UiLCJyYXRpbzEiLCJyYXRpbzIiLCJvbiIsImxvZ2dlZF9kYXRhIiwidGhpcyIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3RhcnRPdmVycmlkZSIsIlVJREZyb21VUkwiLCJlbnRyaWVzIiwicmVzdWx0IiwidmFsdWUiLCJwYXJhbXNUb09iamVjdCIsInF1ZXVlX2lkIiwiZmxvb3IiLCJyYW5kb20iLCJwYWRTdGFydCIsIlVJRF9tYXliZSIsInByb21wdCIsImludGVydmVudGlvbl9hbGxvd2VkX3RpbWVzdGVwcyIsImluY2x1ZGVzIiwiRXJyb3IiLCJJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGQiLCJzdGFydHNXaXRoIiwiZ2V0SlNPTiIsImxvYWRfZGF0YSIsImNhdGNoIiwiX2Vycm9yIiwicmVsb2FkIiwidGhlbiIsIm5ld19kYXRhIiwicGFyc2VJbnQiLCJhbGVydF9hY3RpdmUiLCJvbnZpc2liaWxpdHljaGFuZ2UiLCJhbGVydCJdLCJzb3VyY2VSb290IjoiIn0=