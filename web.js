(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{o:()=>i});let e="https://tejassrinivasan.pythonanywhere.com/";var i=!1;let n="https://tejassrinivasan.pythonanywhere.com/",o="user_acceptance_model-logisticregression-0.9347testf1";var a=[];let c,_,r,l,s,d=-1,u=null,p=-1,f=-1,b=-1,v=-1,h=0,g=5,m=-1,w=1,y=0,A=0,k=!1,x=0;var T={},I={};let O;function N(t,e){if(!t)throw e||"Assertion failed"}function S(t){y+=t,0==y?$("#button_instructions_prev").attr("disabled","true"):$("#button_instructions_prev").removeAttr("disabled"),y>=6?($("#instructions_and_decorations").show(),$("#button_instructions_next").val("Start study")):($("#instructions_and_decorations").hide(),$("#button_instructions_next").val("Next")),7==y&&($("#main_box_instructions").hide(),$("#main_box_experiment").show(),q()),$("#main_box_instructions").children(":not(input)").each(((t,e)=>{$(e).hide()})),$(`#instructions_${y}`).show()}function j(t){l=Date.now(),p=t,N(1==t||2==t,"Invalid option!"),1==t?($("#button_initial_decision_option1").attr("activedecision","true"),$("#button_initial_decision_option2").removeAttr("activedecision")):($("#button_initial_decision_option1").removeAttr("activedecision"),$("#button_initial_decision_option2").attr("activedecision","true")),$("#initial_user_confidence_div").show(),$("#button_initial_decision_option1").attr("disabled","true"),$("#button_initial_decision_option2").attr("disabled","true"),$("#button_initial_confidence_option1").removeAttr("disabled"),$("#button_initial_confidence_option2").removeAttr("disabled"),$("#button_initial_confidence_option3").removeAttr("disabled")}function D(t){_=Date.now(),b=t,N(1==t||2==t||3==t,"Invalid option!"),1==t?($("#button_initial_confidence_option1").attr("activedecision","true"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").removeAttr("activedecision")):2==t?($("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").attr("activedecision","true"),$("#button_initial_confidence_option3").removeAttr("activedecision")):($("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").attr("activedecision","true")),$("#button_initial_confidence_option1").attr("disabled","true"),$("#button_initial_confidence_option2").attr("disabled","true"),$("#button_initial_confidence_option3").attr("disabled","true"),$("#button_final_decision_option1").removeAttr("disabled"),$("#button_final_decision_option2").removeAttr("disabled"),async function(){console.log("Getting AI assistance..."),T={};let t=u.ai_confidence,e=x;if(C&&(e=(g-5)/2.5,console.log("Using user reported trust value: ",g)),"none"==L)t=u.ai_confidence,T={};else if("mitigate_undertrust"==L)if(e<0){let e=await P(),i=e.al_diff;console.log("User's likelihood of going with the AI's prediction: ",e.actual_trust.acceptance_likelihood),console.log("User's likelihood of going with the AI's prediction with neutral trust: ",e.neutral_trust.acceptance_likelihood),console.log("Acceptance Likelihood Diff: ",i);let n=e.neutral_trust.acceptance_likelihood;if(T.acceptance_likelihood_results=e,k=!1,i>=G&&(k=!0),T.intervention_condition_satisfied=k,"fixed"==B)if("confidence_manip"==Y){let i=Number(u.ai_confidence.replace("%",""))/100,n=Math.min(1,i+W);t=String((100*n).toFixed(0))+"%";let o=(n-i).toFixed(2);T.conf_actual=u.ai_confidence,T.conf_new=t,T.conf_inflation=o,T["acceptance_likelihood-actualconf_actualtrust"]=e.actual_trust.acceptance_likelihood,T["acceptance_likelihood-actualconf_neutraltrust"]=e.neutral_trust.acceptance_likelihood,T.intervention_applied=!0}else"ai_explanation"==Y?T.intervention_applied=!0:"none"==Y&&(T.intervention_applied=!1);else if("adaptive"==B&&k)if("confidence_manip"==Y){O=await R(n),t=String((100*O.new_conf_to_display).toFixed(0))+"%";let i=Number(u.ai_confidence.replace("%",""))/100,o=(O.new_conf_to_display-i).toFixed(2);T.findnewconf_results=O,T.conf_actual=u.ai_confidence,T.conf_new=t,T.conf_inflation=o,T["acceptance_likelihood-actualconf_actualtrust"]=e.actual_trust.acceptance_likelihood,T["acceptance_likelihood-actualconf_neutraltrust"]=e.neutral_trust.acceptance_likelihood,T["acceptance_likelihood-newconf_actualtrust"]=O.new_conf_acceptance_likelihood,T.intervention_applied=!0}else"ai_explanation"==Y?T.intervention_applied=!0:"none"==Y&&(T.intervention_applied=!1)}else t=u.ai_confidence,T.intervention_applied=!1;else if("mitigate_overtrust"==L)if(e>0){let e=await P(),i=e.al_diff;console.log("User's likelihood of going with the AI's prediction: ",e.actual_trust.acceptance_likelihood),console.log("User's likelihood of going with the AI's prediction with neutral trust: ",e.neutral_trust.acceptance_likelihood),console.log("Acceptance Likelihood Diff: ",i);let n=e.neutral_trust.acceptance_likelihood;if(T.acceptance_likelihood_results=e,k=!1,i>=G&&(k=!0),T.intervention_condition_satisfied=k,"fixed"==B)if("confidence_manip"==Y){let i=Number(u.ai_confidence.replace("%",""))/100,n=Math.max(.5,Math.min(1,i-W));t=String((100*n).toFixed(0))+"%",T.conf_actual=u.ai_confidence,T.conf_new=t,T["acceptance_likelihood-actualconf_actualtrust"]=e.actual_trust.acceptance_likelihood,T["acceptance_likelihood-actualconf_neutraltrust"]=e.neutral_trust.acceptance_likelihood,T.intervention_applied=!0}else"ai_explanation"==Y?T.intervention_applied=!0:"none"==Y&&(T.intervention_applied=!1);else"adaptive"==B&&k&&("confidence_manip"==Y?(O=await R(n),t=String((100*O.new_conf_to_display).toFixed(0))+"%",T.findnewconf_results=O,T.conf_actual=u.ai_confidence,T.conf_new=t,T["acceptance_likelihood-actualconf_actualtrust"]=e.actual_trust.acceptance_likelihood,T["acceptance_likelihood-actualconf_neutraltrust"]=e.neutral_trust.acceptance_likelihood,T["acceptance_likelihood-newconf_actualtrust"]=O.new_conf_acceptance_likelihood,T.intervention_applied=!0):"ai_explanation"==Y?T.intervention_applied=!0:"none"==Y&&(T.intervention_applied=!1))}else t=u.ai_confidence,T={intervention_applied:!1};T.trust_level_at_start_of_interaction=e,console.log("AI Assistance Intervention Details: ",T),$("#ai_prediction_span").html("Option "+u.ai_prediction),$("#ai_confidence_span").html(t),$("#ai_assistance_div").show(),$("#final_user_decision_div").show()}()}async function P(){let t=Number(p==u.ai_prediction),e=b,i=Number(u.ai_confidence.replace("%",""))/100,a=x;C&&(a=(g-5)/2.5);let c,_={user_ai_initial_agreement:t,user_initial_confidence:e,ai_confidence:i,user_current_trust_level:a,timestep:d};console.log("User decision model inputs: ",_);try{c=await $.ajax(n+"examine_effect_of_trust_on_decision_making",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}return c}async function R(t){let e=Number(p==u.ai_prediction),i=b,a=(Number(u.ai_confidence.replace("%","")),x);C&&(a=(g-5)/2.5);let c={user_ai_initial_agreement:e,user_initial_confidence:i,user_current_trust_level:a,timestep:d,user_acceptance_likelihood_neutral_trust:t};try{O=await $.ajax(n+"find_best_aiconf_to_display",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(c)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}return O}function J(t){s=Date.now(),f=t,N(1==t||2==t,"Invalid option!"),1==t?($("#button_final_decision_option1").attr("activedecision","true"),$("#button_final_decision_option2").removeAttr("activedecision")):($("#button_final_decision_option1").removeAttr("activedecision"),$("#button_final_decision_option2").attr("activedecision","true")),$("#final_user_confidence_div").show(),$("#button_final_decision_option1").attr("disabled","true"),$("#button_final_decision_option2").attr("disabled","true"),$("#button_final_confidence_option1").removeAttr("disabled"),$("#button_final_confidence_option2").removeAttr("disabled"),$("#button_final_confidence_option3").removeAttr("disabled")}function U(t){r=Date.now(),v=t,N(1==t||2==t||3==t,"Invalid option!"),1==t?($("#button_final_confidence_option1").attr("activedecision","true"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").removeAttr("activedecision")):2==t?($("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").attr("activedecision","true"),$("#button_final_confidence_option3").removeAttr("activedecision")):($("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").attr("activedecision","true")),$("#button_final_confidence_option1").attr("disabled","true"),$("#button_final_confidence_option2").attr("disabled","true"),$("#button_final_confidence_option3").attr("disabled","true"),async function(){let t=u.correct_option,e=t==f,i=u.ai_is_correct,o="Correct answer: <b>Option "+t+"</b>.<br>";o+=e?"You picked Option "+f+", which was <span class='color_correct'><b>correct</b></span>.<br>":"You picked Option "+f+", which was <span class='color_incorrect'><b>incorrect</b></span>.<br>",o+=i?"The AI picked Option "+u.ai_prediction+", which was <span class='color_correct'><b>correct<b></span>.<br>":"The AI picked Option "+u.ai_prediction+", which was <span class='color_incorrect'><b>incorrect</b></span>.<br>",e?(o+="<span class='color_correct'><b>You receive a reward of $0.10.</b></span>",h+=.1):o+="<span class='color_incorrect'><b>You do not receive any reward.</b></span>",o+="<br>",$("#balance").text(`Balance: $${h.toFixed(2)} + $1.0`),$("#result_span").html(o),$("#result_span").show(),z?$("#button_next").show():$("#user_trust_report_div").show(),I=await async function(){let t,e={initial_user_correctness:Number(p==u.correct_option),ai_correctness:Number(u.ai_prediction==u.correct_option),final_user_correctness:Number(f==u.correct_option),ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:x,timestep:d};console.log("Trust effect inputs: ",e);try{t=await $.ajax(n+"get_trust_effect",{data:JSON.stringify({project:"2step-trust-study",model_name:"trust_effect_model-svm_linear-0.4644testmae-0.9095testteda",payload:JSON.stringify(e)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}console.log("Trust effect prediction result: ",t);let i=await t.trust_effect;return x+=i,I={model_inputs:e,predicted_trust_effect:i,user_new_trust_level:x}}()}()}function q(){if($("#button_initial_decision_option1").removeAttr("activedecision"),$("#button_initial_decision_option2").removeAttr("activedecision"),$("#button_initial_decision_option1").removeAttr("disabled"),$("#button_initial_decision_option2").removeAttr("disabled"),$("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").removeAttr("activedecision"),$("#button_initial_confidence_option1").removeAttr("disabled"),$("#button_initial_confidence_option2").removeAttr("disabled"),$("#button_initial_confidence_option3").removeAttr("disabled"),$("#button_final_decision_option1").removeAttr("activedecision"),$("#button_final_decision_option2").removeAttr("activedecision"),$("#button_final_decision_option1").removeAttr("disabled"),$("#button_final_decision_option2").removeAttr("disabled"),$("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").removeAttr("activedecision"),$("#button_final_confidence_option1").removeAttr("disabled"),$("#button_final_confidence_option2").removeAttr("disabled"),$("#button_final_confidence_option3").removeAttr("disabled"),$("#ai_assistance_div").hide(),$("#initial_user_confidence_div").hide(),$("#final_user_decision_div").hide(),$("#final_user_confidence_div").hide(),$("#range_val").removeAttr("disabled"),$("#user_trust_report_div").hide(),$("#button_place_bet").hide(),$("#button_next").hide(),$("#result_span").hide(),-1==d?$("#range_text").text("-"):$("#range_text").text(`Before this interaction, your trust in the AI: ${10*g} / 100.`),$("#range_val").val(g),m=g,d+=1,d>=a.length)return $("#main_box_experiment").hide(),void(i?$("#main_box_end_mock").show():$("#main_box_end").show());if(u=a[d],$("#question_span").html(u.question),$("#option1_span").html(u.option1),$("#option2_span").html(u.option2),u.hasOwnProperty("reward_ratio")){let[t,e]=u.reward_ratio;t=Number(t),e=Number(e),w=t/e}else w=1;c=Date.now(),$("#progress").text(`Progress: ${d+1} / ${a.length}`)}$("#button_instructions_next").on("click",(()=>S(1))),$("#button_instructions_prev").on("click",(()=>S(-1))),$("#button_next").on("click",(()=>{if(-1!=d){let t={question_i:d,user_balance_post_interaction:h,user_trust_val_before:m,user_trust_val_after:g,initial_user_decision:p,final_user_decision:f,initial_user_confidence:b,final_user_confidence:v};t.times={initial_decision:l-c,initial_confidence:_-l,final_decision:s-_,final_confidence:r-s,trust_decision:Date.now()-r},t.question=u,t.count_exited_page=A,t.intervention_details=T,t.trust_effect_prediction_data=I,async function(t){if(i)console.log("logged (mock)",t);else{t.url_data=globalThis.url_data,console.log("Data"),"study_id"in t.url_data||(t.url_data.study_id="trialrun_studies"),t.url_data.queue_id=globalThis.uid,console.log("logged",t),console.log("Logging to",e+"log");try{return await $.ajax(e+"log",{data:JSON.stringify({project:"2step-trust-study-interventions/"+t.url_data.study_id,uid:globalThis.uid.replace("/","_")+"_"+t.url_data.prolific_id,payload:JSON.stringify(t)}),type:"POST",contentType:"application/json"})}catch(t){console.log(t)}}}(t),A=0}q()})),$("#range_val").on("input change",(function(){g=$(this).val(),$("#range_text").text(`After this interaction, your current trust in the AI: ${10*g} / 100.`),$("#button_next").show()})),$("#button_initial_decision_option1").on("click",(()=>j(1))),$("#button_initial_decision_option2").on("click",(()=>j(2))),$("#button_initial_confidence_option1").on("click",(()=>D(1))),$("#button_initial_confidence_option2").on("click",(()=>D(2))),$("#button_initial_confidence_option3").on("click",(()=>D(3))),$("#button_final_decision_option1").on("click",(()=>J(1))),$("#button_final_decision_option2").on("click",(()=>J(2))),$("#button_final_confidence_option1").on("click",(()=>U(1))),$("#button_final_confidence_option2").on("click",(()=>U(2))),$("#button_final_confidence_option3").on("click",(()=>U(3)));const E=new URLSearchParams(window.location.search),F=E.get("start"),M=E.get("uid");if(globalThis.url_data=function(t){const e={};for(const[i,n]of t)e[i]=n;return e}(E.entries()),null!=M){if(globalThis.uid=M,"prolific_random"==globalThis.uid){let t=`${Math.floor(10*Math.random())}`.padStart(3,"0");globalThis.uid=`${E.get("prolific_queue_name")}/${t}`}}else{let t=null;for(;null==t;)t=prompt("Enter your user id. Please get in touch if you were not assigned an id but wish to participate in this experiment.");globalThis.uid=t}let L=E.get("intervention_goal");if(null==L&&(L="none"),!["none","mitigate_undertrust","mitigate_overtrust"].includes(L))throw new Error("Invalid AI Assistance Intervention Goal: "+L);let Y=E.get("intervention_type");if(null==Y&&(Y="none"),!["none","dummy","confidence_manip","ai_explanation"].includes(Y))throw new Error("Invalid AI Assistance Intervention: "+Y);let B=E.get("intervention_strategy");if(null==B&&(B="dummy"),!["dummy","fixed","adaptive"].includes(B))throw new Error("Invalid AI Assistance Intervention Strategy: "+B);let G=Number(E.get("intervention_threshold"));null==G&&(G=-1);let W=Number(E.get("intervention_fixedconfchange"));null==W&&(W=0);let C="true"==E.get("use_user_reported_trust_level");null==C&&(C=!1);let z="true"==E.get("skip_trust_reporting");null==z&&(z=!1),globalThis.url_data.intervention_goal=L,globalThis.url_data.intervention_type=Y,globalThis.url_data.intervention_strategy=B,globalThis.url_data.intervention_threshold=G,globalThis.url_data.intervention_fixedconfchange=W,globalThis.url_data.use_user_reported_trust_level=C,globalThis.uid.startsWith("demo_paper")&&(i=!0),console.log("Running with UID",globalThis.uid),async function(){return await $.getJSON(`baked_queues/${globalThis.uid}.json?t=${Date.now()}`)}().catch((t=>{console.log("Invalid user id."),console.log(globalThis.uid),window.location.reload()})).then((t=>{a=t,null!=F&&(d=parseInt(F)-1,console.log("Starting from",d)),S(0),$("#main_box_instructions").show(),$("#instructions_and_decorations").hide()})),console.log("Starting session with UID:",globalThis.uid);let H=!1;document.onvisibilitychange=()=>{H||(A+=1,H=!0,globalThis.uid.startsWith("demo")||alert("Please don't leave the page. If you do so again, we may restrict paying you."),H=!1)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQTRCLGtCQUFJckQsRUFDM0NvRCxXQUFXQyxTQUE0QixrQkFBSTlDLEVBQzNDNkMsV0FBV0MsU0FBZ0Msc0JBQUkvQyxFQUMvQzhDLFdBQVdDLFNBQWlDLHVCQUFJaEQsRUFDaEQrQyxXQUFXQyxTQUF1Qyw2QkFBSXZDLEVBQ3REc0MsV0FBV0MsU0FBd0MsOEJBQUl0RCxFQUduRHFELFdBQVdFLElBQUlxQixXQUFXLGdCQUMxQmpJLEdBQVcsR0FJZmlELFFBQVFDLElBQUksbUJBQW9Cd0QsV0FBV0UsS0RydkJwQzVELGlCQUtILGFBSG1CakIsRUFBRW1HLFFBQ2pCLGdCQUFnQnhCLFdBQVdFLGNBQWNoRSxLQUFLQyxRQUd0RCxDQ2d2QkFzRixHQUFZQyxPQUFPQyxJQUVmcEYsUUFBUUMsSUFBSSxvQkFDWkQsUUFBUUMsSUFBSXdELFdBQVdFLEtBQ3ZCSyxPQUFPQyxTQUFTb0IsUUFBUSxJQUUxQkMsTUFBTUMsSUFDSnJJLEVBQU9xSSxFQUNjLE1BQWpCcEIsSUFDQTNHLEVBQWFnSSxTQUFTckIsR0FBaUIsRUFDdkNuRSxRQUFRQyxJQUFJLGdCQUFpQnpDLElBR2pDb0IsRUFBa0IsR0FDbEJFLEVBQUUsMEJBQTBCRyxPQUM1QkgsRUFBRSxpQ0FBaUNLLE1BQU0sSUFHN0NhLFFBQVFDLElBQUksNkJBQThCd0QsV0FBV0UsS0FFckQsSUFBSThCLEdBQWUsRUFDbkJDLFNBQVNDLG1CQUFxQixLQUNyQkYsSUFDRHRILEdBQXFCLEVBQ3JCc0gsR0FBZSxFQUNUaEMsV0FBV0UsSUFBS3FCLFdBQVcsU0FDN0JZLE1BQU0sZ0ZBRVZILEdBQWUsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy8uL3NyYy9jb25uZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgREVWTU9ERSB9IGZyb20gJy4vZ2xvYmFscydcbmltcG9ydCB7IE1PQ0tNT0RFIH0gZnJvbSAnLi9tYWluJ1xuXG5sZXQgU0VSVkVSX0xPR19ST09UID0gREVWTU9ERSA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAwL1wiIDogXCJodHRwczovL3RlamFzc3Jpbml2YXNhbi5weXRob25hbnl3aGVyZS5jb20vXCJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRfZGF0YSgpOiBQcm9taXNlPGFueT4ge1xuICAgIC8vIGluY2x1ZGUgdGltZXN0YW1wIHNvIHRoYXQgdGhpbmdzIGRvbid0IGdldCBjYWNoZWRcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgJC5nZXRKU09OKFxuICAgICAgICBgYmFrZWRfcXVldWVzLyR7Z2xvYmFsVGhpcy51aWR9Lmpzb24/dD0ke0RhdGUubm93KCl9YCxcbiAgICApXG4gICAgcmV0dXJuIHJlc3VsdFxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ19kYXRhKGRhdGEpOiBQcm9taXNlPGFueT4ge1xuICAgIGlmIChNT0NLTU9ERSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImxvZ2dlZCAobW9jaylcIiwgZGF0YSlcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZGF0YVtcInVybF9kYXRhXCJdID0gZ2xvYmFsVGhpcy51cmxfZGF0YVxuICAgIGNvbnNvbGUubG9nKFwiRGF0YVwiKVxuICAgIGlmICghKFwic3R1ZHlfaWRcIiBpbiBkYXRhWyd1cmxfZGF0YSddKSkge1xuICAgICAgICBkYXRhWyd1cmxfZGF0YSddW1wic3R1ZHlfaWRcIl0gPSBcInRyaWFscnVuX3N0dWRpZXNcIlxuICAgIH1cbiAgICBkYXRhW1widXJsX2RhdGFcIl1bXCJxdWV1ZV9pZFwiXSA9IGdsb2JhbFRoaXMudWlkXG4gICAgY29uc29sZS5sb2coXCJsb2dnZWRcIiwgZGF0YSlcbiAgICBjb25zb2xlLmxvZyhcIkxvZ2dpbmcgdG9cIiwgU0VSVkVSX0xPR19ST09UICsgXCJsb2dcIilcblxuICAgIHRyeSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICBTRVJWRVJfTE9HX1JPT1QgKyBcImxvZ1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeS1pbnRlcnZlbnRpb25zL1wiICsgZGF0YVsndXJsX2RhdGEnXVsnc3R1ZHlfaWQnXSxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBnbG9iYWxUaGlzLnVpZC5yZXBsYWNlKFwiL1wiLCBcIl9cIikgKyBcIl9cIiArIGRhdGFbJ3VybF9kYXRhJ11bJ3Byb2xpZmljX2lkJ10sXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxufSIsImltcG9ydCB7IERFVk1PREUgfSBmcm9tIFwiLi9nbG9iYWxzXCJcbmV4cG9ydCB2YXIgVUlEOiBzdHJpbmdcbmV4cG9ydCB2YXIgTU9DS01PREU6IGJvb2xlYW4gPSBmYWxzZVxuaW1wb3J0IHsgbG9hZF9kYXRhLCBsb2dfZGF0YSB9IGZyb20gJy4vY29ubmVjdG9yJ1xuaW1wb3J0IHsgcGFyYW1zVG9PYmplY3QgfSBmcm9tIFwiLi91dGlsc1wiXG4vL2ltcG9ydCB7IGdldF91c2VyX3RydXN0X2VmZmVjdCwgZ2V0X2FkanVzdGVkX2FpX2NvbmZpZGVuY2V9IGZyb20gXCIuL3J1bl91c2VyX21vZGVsc1wiXG5cbmxldCBVU0VSX01PREVMU19ST09UID0gXCJodHRwczovL3RlamFzc3Jpbml2YXNhbi5weXRob25hbnl3aGVyZS5jb20vXCJcbmxldCB1c2VyX2RlY2lzaW9uX21vZGVsID0gXCJ1c2VyX2FjY2VwdGFuY2VfbW9kZWwtbG9naXN0aWNyZWdyZXNzaW9uLTAuOTM0N3Rlc3RmMVwiXG5sZXQgdHJ1c3RfZWZmZWN0X21vZGVsID0gXCJ0cnVzdF9lZmZlY3RfbW9kZWwtc3ZtX2xpbmVhci0wLjQ2NDR0ZXN0bWFlLTAuOTA5NXRlc3R0ZWRhXCJcblxudmFyIGRhdGE6IGFueVtdID0gW11cbmxldCBxdWVzdGlvbl9pID0gLTFcbmxldCBxdWVzdGlvbjogYW55ID0gbnVsbFxubGV0IGluaXRpYWxfdXNlcl9kZWNpc2lvbjogbnVtYmVyID0gLTFcbmxldCBmaW5hbF91c2VyX2RlY2lzaW9uOiBudW1iZXIgPSAtMVxubGV0IGluaXRpYWxfdXNlcl9jb25maWRlbmNlOiBudW1iZXIgPSAtMVxubGV0IGZpbmFsX3VzZXJfY29uZmlkZW5jZTogbnVtYmVyID0gLTFcbmxldCBiYWxhbmNlID0gMFxuXG5sZXQgdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbDogbnVtYmVyID0gNVxubGV0IHByZXZfdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbDogbnVtYmVyID0gLTFcblxubGV0IGJldF92YWxfcmF0aW86IG51bWJlciA9IDFcbmxldCB0aW1lX3F1ZXN0aW9uX3N0YXJ0OiBudW1iZXJcbmxldCB0aW1lX2ZpbmFsX2RlY2lzaW9uX3N0YXJ0OiBudW1iZXJcbmxldCB0aW1lX3RydXN0X2RlY2lzaW9uX3N0YXJ0OiBudW1iZXJcbmxldCB0aW1lX2luaXRpYWxfY29uZmlkZW5jZV9zdGFydDogbnVtYmVyXG5sZXQgdGltZV9maW5hbF9jb25maWRlbmNlX3N0YXJ0OiBudW1iZXJcbmxldCBpbnN0cnVjdGlvbl9pOiBudW1iZXIgPSAwXG5sZXQgY291bnRfZXhpdGVkX3BhZ2U6IG51bWJlciA9IDBcblxubGV0IGludGVydmVudGlvbl9jb25kaXRpb25fc2F0aXNmaWVkOiBib29sZWFuID0gZmFsc2VcbmxldCBpbnRlcnZlbnRpb25fYXBwbGllZDogYm9vbGVhbiA9IGZhbHNlXG5cbmxldCB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsOiBudW1iZXIgPSAwXG5cbnZhciBhbGxfdXNlcl9pbnRlcmFjdGlvbnMgPSBbXVxudmFyIGludGVydmVudGlvbl9kZXRhaWxzID0ge31cbnZhciB0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhID0ge31cbmxldCBmaW5kbmV3Y29uZl9yZXN1bHQ6IGFueVxuXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbWVzc2FnZSB8fCBcIkFzc2VydGlvbiBmYWlsZWRcIjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5leHRfaW5zdHJ1Y3Rpb25zKGluY3JlbWVudDogbnVtYmVyKSB7XG4gICAgaW5zdHJ1Y3Rpb25faSArPSBpbmNyZW1lbnRcblxuICAgIGlmIChpbnN0cnVjdGlvbl9pID09IDApIHtcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX3ByZXZcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgIH1cbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA+PSA2KSB7XG4gICAgICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5zaG93KClcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikudmFsKFwiU3RhcnQgc3R1ZHlcIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2luc3RydWN0aW9uc19hbmRfZGVjb3JhdGlvbnNcIikuaGlkZSgpXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnZhbChcIk5leHRcIilcbiAgICB9XG4gICAgaWYgKGluc3RydWN0aW9uX2kgPT0gNykge1xuICAgICAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5oaWRlKClcbiAgICAgICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLnNob3coKVxuICAgICAgICBuZXh0X3F1ZXN0aW9uKClcbiAgICB9XG5cbiAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5jaGlsZHJlbihcIjpub3QoaW5wdXQpXCIpLmVhY2goKF8sIGVsKSA9PiB7XG4gICAgICAgICQoZWwpLmhpZGUoKVxuICAgIH0pXG4gICAgJChgI2luc3RydWN0aW9uc18ke2luc3RydWN0aW9uX2l9YCkuc2hvdygpXG59XG4kKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5vbihcImNsaWNrXCIsICgpID0+IG5leHRfaW5zdHJ1Y3Rpb25zKCsxKSlcbiQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbmV4dF9pbnN0cnVjdGlvbnMoLTEpKVxuXG4kKFwiI2J1dHRvbl9uZXh0XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGlmIChxdWVzdGlvbl9pICE9IC0xKSB7XG4gICAgICAgIGxldCBsb2dnZWRfZGF0YSA9IHtcbiAgICAgICAgICAgIFwicXVlc3Rpb25faVwiOiBxdWVzdGlvbl9pLFxuICAgICAgICAgICAgXCJ1c2VyX2JhbGFuY2VfcG9zdF9pbnRlcmFjdGlvblwiOiBiYWxhbmNlLFxuICAgICAgICAgICAgXCJ1c2VyX3RydXN0X3ZhbF9iZWZvcmVcIjogcHJldl91c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsLFxuICAgICAgICAgICAgXCJ1c2VyX3RydXN0X3ZhbF9hZnRlclwiOiB1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsLFxuICAgICAgICAgICAgXCJpbml0aWFsX3VzZXJfZGVjaXNpb25cIjogaW5pdGlhbF91c2VyX2RlY2lzaW9uLFxuICAgICAgICAgICAgXCJmaW5hbF91c2VyX2RlY2lzaW9uXCI6IGZpbmFsX3VzZXJfZGVjaXNpb24sXG4gICAgICAgICAgICBcImluaXRpYWxfdXNlcl9jb25maWRlbmNlXCI6IGluaXRpYWxfdXNlcl9jb25maWRlbmNlLFxuICAgICAgICAgICAgXCJmaW5hbF91c2VyX2NvbmZpZGVuY2VcIjogZmluYWxfdXNlcl9jb25maWRlbmNlLFxuICAgICAgICB9XG5cbiAgICAgICAgbG9nZ2VkX2RhdGFbJ3RpbWVzJ10gPSB7XG4gICAgICAgICAgICBcImluaXRpYWxfZGVjaXNpb25cIjogdGltZV9pbml0aWFsX2NvbmZpZGVuY2Vfc3RhcnQgLSB0aW1lX3F1ZXN0aW9uX3N0YXJ0LFxuICAgICAgICAgICAgXCJpbml0aWFsX2NvbmZpZGVuY2VcIjogdGltZV9maW5hbF9kZWNpc2lvbl9zdGFydCAtIHRpbWVfaW5pdGlhbF9jb25maWRlbmNlX3N0YXJ0LFxuICAgICAgICAgICAgXCJmaW5hbF9kZWNpc2lvblwiOiB0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQgLSB0aW1lX2ZpbmFsX2RlY2lzaW9uX3N0YXJ0LFxuICAgICAgICAgICAgXCJmaW5hbF9jb25maWRlbmNlXCI6IHRpbWVfdHJ1c3RfZGVjaXNpb25fc3RhcnQgLSB0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQsXG4gICAgICAgICAgICBcInRydXN0X2RlY2lzaW9uXCI6IERhdGUubm93KCkgLSB0aW1lX3RydXN0X2RlY2lzaW9uX3N0YXJ0LFxuICAgICAgICB9XG4gICAgICAgIGxvZ2dlZF9kYXRhWydxdWVzdGlvbiddID0gcXVlc3Rpb25cbiAgICAgICAgbG9nZ2VkX2RhdGFbJ2NvdW50X2V4aXRlZF9wYWdlJ10gPSBjb3VudF9leGl0ZWRfcGFnZVxuICAgICAgICBsb2dnZWRfZGF0YVsnaW50ZXJ2ZW50aW9uX2RldGFpbHMnXSA9IGludGVydmVudGlvbl9kZXRhaWxzXG4gICAgICAgIGxvZ2dlZF9kYXRhWyd0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhJ10gPSB0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhXG4gICAgICAgIGxvZ19kYXRhKGxvZ2dlZF9kYXRhKVxuICAgICAgICBjb3VudF9leGl0ZWRfcGFnZSA9IDBcblxuICAgIH1cbiAgICBuZXh0X3F1ZXN0aW9uKClcbn0pO1xuXG4kKCcjcmFuZ2VfdmFsJykub24oJ2lucHV0IGNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICB1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsID0gKCQodGhpcykudmFsKCkhIGFzIG51bWJlcilcbiAgICAkKFwiI3JhbmdlX3RleHRcIikudGV4dChgQWZ0ZXIgdGhpcyBpbnRlcmFjdGlvbiwgeW91ciBjdXJyZW50IHRydXN0IGluIHRoZSBBSTogJHt1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsICogMTB9IC8gMTAwLmApXG4gICAgJChcIiNidXR0b25fbmV4dFwiKS5zaG93KClcbn0pO1xuXG5mdW5jdGlvbiBtYWtlX2luaXRpYWxfdXNlcl9kZWNpc2lvbihvcHRpb24pIHtcbiAgICB0aW1lX2luaXRpYWxfY29uZmlkZW5jZV9zdGFydCA9IERhdGUubm93KClcbiAgICBpbml0aWFsX3VzZXJfZGVjaXNpb24gPSBvcHRpb25cbiAgICBhc3NlcnQob3B0aW9uID09IDEgfHwgb3B0aW9uID09IDIsIFwiSW52YWxpZCBvcHRpb24hXCIpXG4gICAgaWYgKG9wdGlvbiA9PSAxKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgfVxuICAgICQoXCIjaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLnNob3coKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbn1cbiQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5vbihcImNsaWNrXCIsICgpID0+IG1ha2VfaW5pdGlhbF91c2VyX2RlY2lzaW9uKDEpKVxuJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbWFrZV9pbml0aWFsX3VzZXJfZGVjaXNpb24oMikpXG5cbmZ1bmN0aW9uIGdldF9pbml0aWFsX3VzZXJfY29uZmlkZW5jZShjb25mX2xldmVsKSB7XG4gICAgdGltZV9maW5hbF9kZWNpc2lvbl9zdGFydCA9IERhdGUubm93KClcbiAgICBpbml0aWFsX3VzZXJfY29uZmlkZW5jZSA9IGNvbmZfbGV2ZWxcbiAgICBhc3NlcnQoY29uZl9sZXZlbCA9PSAxIHx8IGNvbmZfbGV2ZWwgPT0gMiB8fCBjb25mX2xldmVsID09IDMsIFwiSW52YWxpZCBvcHRpb24hXCIpXG4gICAgaWYgKGNvbmZfbGV2ZWwgPT0gMSkge1xuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICB9IGVsc2UgaWYgKGNvbmZfbGV2ZWwgPT0gMikge1xuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICB9XG5cbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpICAgIFxuXG4gICAgZ2V0X2FpX2Fzc2lzdGFuY2UoKVxufVxuJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikub24oXCJjbGlja1wiLCAoKSA9PiBnZXRfaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UoMSkpXG4kKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5vbihcImNsaWNrXCIsICgpID0+IGdldF9pbml0aWFsX3VzZXJfY29uZmlkZW5jZSgyKSlcbiQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZ2V0X2luaXRpYWxfdXNlcl9jb25maWRlbmNlKDMpKVxuXG5cblxuYXN5bmMgZnVuY3Rpb24gZ2V0X3VzZXJfZGVjaXNpb25fcHJvYigpIHtcbiAgICAvLyBQcmVwYXJlIGlucHV0cyBmb3IgdGhlIHVzZXIgZGVjaXNpb24gbW9kZWxcbiAgICBsZXQgdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCA9IE51bWJlcihpbml0aWFsX3VzZXJfZGVjaXNpb24gPT0gcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSlcbiAgICBsZXQgdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UgPSBpbml0aWFsX3VzZXJfY29uZmlkZW5jZVxuICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgbGV0IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCA9IHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWxcbiAgICBpZiAodXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwpIHtcbiAgICAgICAgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgLSA1KSAvIDIuNVxuICAgIH1cbiAgICBsZXQgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMgPSB7XG4gICAgICAgIFwidXNlcl9haV9pbml0aWFsX2FncmVlbWVudFwiOiB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50LFxuICAgICAgICBcInVzZXJfaW5pdGlhbF9jb25maWRlbmNlXCI6IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlLFxuICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgXCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdDogYW55XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZ2V0X3VzZXJfZGVjaXNpb25fcHJvYlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lOiB1c2VyX2RlY2lzaW9uX21vZGVsLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeSh1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFwidXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHNcIjogdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMsIFxuICAgICAgICBcInVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kXCI6IHJlc3VsdFtcInByZWRfcHJvYnNcIl1bMF1bMV1cbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGV4YW1pbmVfZWZmZWN0X29mX3RydXN0X29uX2RlY2lzaW9uX21ha2luZygpIHtcbiAgICAvLyBQcmVwYXJlIGlucHV0IHZhcmlhYmxlcyBmb3IgdXNlciBkZWNpc2lvbiBtb2RlbFxuICAgIGxldCB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50ID0gTnVtYmVyKGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKVxuICAgIGxldCB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSA9IGluaXRpYWxfdXNlcl9jb25maWRlbmNlXG4gICAgbGV0IGFpX2NvbmZpZGVuY2UgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXS5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDBcbiAgICBsZXQgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbFxuICAgIGlmICh1c2VVc2VyUmVwb3J0ZWRUcnVzdFZhbCkge1xuICAgICAgICB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPSAodXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCAtIDUpIC8gMi41XG4gICAgfVxuICAgIGxldCB1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyA9IHtcbiAgICAgICAgXCJ1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50XCI6IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQsXG4gICAgICAgIFwidXNlcl9pbml0aWFsX2NvbmZpZGVuY2VcIjogdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UsXG4gICAgICAgIFwiYWlfY29uZmlkZW5jZVwiOiBhaV9jb25maWRlbmNlLFxuICAgICAgICBcInVzZXJfY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgIFwidGltZXN0ZXBcIjogcXVlc3Rpb25faSxcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJVc2VyIGRlY2lzaW9uIG1vZGVsIGlucHV0czogXCIsIHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzKVxuXG4gICAgbGV0IGFsZGlmZl9yZXN1bHQ6IGFueVxuICAgIHRyeSB7XG4gICAgICAgIGFsZGlmZl9yZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICBVU0VSX01PREVMU19ST09UICsgXCJleGFtaW5lX2VmZmVjdF9vZl90cnVzdF9vbl9kZWNpc2lvbl9tYWtpbmdcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwiMnN0ZXAtdHJ1c3Qtc3R1ZHlcIixcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdXNlcl9kZWNpc2lvbl9tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkodXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIVwiKVxuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cblxuICAgIHJldHVybiBhbGRpZmZfcmVzdWx0XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGZpbmRfYmVzdF9haWNvbmZfdG9fZGlzcGxheSh1c2VyX2FjY2VwdGFuY2VfbGlrZWxpaG9vZF9uZXV0cmFsX3RydXN0KSB7XG4gICAgLy8gUHJlcGFyZSBpbnB1dCB2YXJpYWJsZXMgZm9yIHVzZXIgZGVjaXNpb24gbW9kZWxcbiAgICBsZXQgdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCA9IE51bWJlcihpbml0aWFsX3VzZXJfZGVjaXNpb24gPT0gcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSlcbiAgICBsZXQgdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UgPSBpbml0aWFsX3VzZXJfY29uZmlkZW5jZVxuICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgbGV0IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCA9IHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWxcbiAgICBpZiAodXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwpIHtcbiAgICAgICAgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgLSA1KSAvIDIuNVxuICAgIH1cbiAgICBsZXQgZmluZG5ld2NvbmZfaW5wdXRfdmFyaWFibGVzID0ge1xuICAgICAgICBcInVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnRcIjogdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCxcbiAgICAgICAgXCJ1c2VyX2luaXRpYWxfY29uZmlkZW5jZVwiOiB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSxcbiAgICAgICAgXCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgICAgIFwidXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdFwiOiB1c2VyX2FjY2VwdGFuY2VfbGlrZWxpaG9vZF9uZXV0cmFsX3RydXN0LFxuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBmaW5kbmV3Y29uZl9yZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICBVU0VSX01PREVMU19ST09UICsgXCJmaW5kX2Jlc3RfYWljb25mX3RvX2Rpc3BsYXlcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwiMnN0ZXAtdHJ1c3Qtc3R1ZHlcIixcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdXNlcl9kZWNpc2lvbl9tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoZmluZG5ld2NvbmZfaW5wdXRfdmFyaWFibGVzKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiFcIilcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG5cbiAgICByZXR1cm4gZmluZG5ld2NvbmZfcmVzdWx0XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldF9haV9hc3Npc3RhbmNlKCkge1xuICAgIGNvbnNvbGUubG9nKFwiR2V0dGluZyBBSSBhc3Npc3RhbmNlLi4uXCIpXG5cbiAgICBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHt9XG4gICAgbGV0IGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgIGxldCB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPSB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsXG4gICAgaWYgKHVzZVVzZXJSZXBvcnRlZFRydXN0VmFsKSB7XG4gICAgICAgIHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCA9ICh1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsIC0gNSkgLyAyLjVcbiAgICAgICAgY29uc29sZS5sb2coXCJVc2luZyB1c2VyIHJlcG9ydGVkIHRydXN0IHZhbHVlOiBcIiwgdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbClcbiAgICB9XG5cbiAgICBpZiAoQUlJbnRlcnZlbnRpb25Hb2FsID09IFwibm9uZVwiKSB7XG4gICAgICAgIC8vIE5vIGludGVydmVudGlvbiwganVzdCBzaG93IHRoZSBBSSBhc3Npc3RhbmNlIHRoYXQgaXMgYWxyZWFkeSBwb3B1bGF0ZWQgaW4gdGhlIHNwYW5cbiAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzID0ge31cbiAgICB9IFxuICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uR29hbCA9PSBcIm1pdGlnYXRlX3VuZGVydHJ1c3RcIikge1xuXG4gICAgICAgIGlmICh1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPCAwKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBhbGRpZmZfcmVzdWx0ID0gYXdhaXQgZXhhbWluZV9lZmZlY3Rfb2ZfdHJ1c3Rfb25fZGVjaXNpb25fbWFraW5nKCkgICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBhbF9kaWZmID0gYWxkaWZmX3Jlc3VsdFtcImFsX2RpZmZcIl1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlcidzIGxpa2VsaWhvb2Qgb2YgZ29pbmcgd2l0aCB0aGUgQUkncyBwcmVkaWN0aW9uOiBcIiwgYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlcidzIGxpa2VsaWhvb2Qgb2YgZ29pbmcgd2l0aCB0aGUgQUkncyBwcmVkaWN0aW9uIHdpdGggbmV1dHJhbCB0cnVzdDogXCIsIGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBY2NlcHRhbmNlIExpa2VsaWhvb2QgRGlmZjogXCIsIGFsX2RpZmYpXG4gICAgICAgICAgICBsZXQgdXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdCA9IGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdXG4gICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImFjY2VwdGFuY2VfbGlrZWxpaG9vZF9yZXN1bHRzXCJdID0gYWxkaWZmX3Jlc3VsdFxuXG4gICAgICAgICAgICBpbnRlcnZlbnRpb25fY29uZGl0aW9uX3NhdGlzZmllZCA9IGZhbHNlXG4gICAgICAgICAgICBpZiAoYWxfZGlmZiA+PSBJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fY29uZGl0aW9uX3NhdGlzZmllZCA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiaW50ZXJ2ZW50aW9uX2NvbmRpdGlvbl9zYXRpc2ZpZWRcIl0gPSBpbnRlcnZlbnRpb25fY29uZGl0aW9uX3NhdGlzZmllZFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPT0gXCJmaXhlZFwiKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwiY29uZmlkZW5jZV9tYW5pcFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluY3JlYXNlIEFJIGNvbmZpZGVuY2UgYnkgZml4ZWQgYW1vdW50XG4gICAgICAgICAgICAgICAgICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfY29uZmlkZW5jZSA9IE1hdGgubWluKDEsIGFpX2NvbmZpZGVuY2UgKyBJbnRlcnZlbnRpb25GaXhlZENvbmZDaGFuZ2UpXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gU3RyaW5nKCggbmV3X2NvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMCkpICsgXCIlXCJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmZpZGVuY2VfaW5mbGF0aW9uID0gKG5ld19jb25maWRlbmNlIC0gYWlfY29uZmlkZW5jZSkudG9GaXhlZCgyKVxuXG4gICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiY29uZl9hY3R1YWxcIl0gPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiY29uZl9uZXdcIl0gPSBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZVxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImNvbmZfaW5mbGF0aW9uXCJdID0gY29uZmlkZW5jZV9pbmZsYXRpb25cblxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1hY3R1YWxjb25mX2FjdHVhbHRydXN0XCJdID0gYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1hY3R1YWxjb25mX25ldXRyYWx0cnVzdFwiXSA9IGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdXG4gICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIl0gPSB0cnVlXG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJhaV9leHBsYW5hdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBBSSBleHBsYW5hdGlvblxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImludGVydmVudGlvbl9hcHBsaWVkXCJdID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIl0gPSBmYWxzZVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPT0gXCJhZGFwdGl2ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGludGVydmVudGlvbl9jb25kaXRpb25fc2F0aXNmaWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJjb25maWRlbmNlX21hbmlwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vRmluZCBuZWFyZXN0IEFJIGNvbmZpZGVuY2Ugd2l0aCBtaW5pbWl6aW5nIEFMRGlmZlxuICAgICAgICAgICAgICAgICAgICAgICAgZmluZG5ld2NvbmZfcmVzdWx0ID0gYXdhaXQgZmluZF9iZXN0X2FpY29uZl90b19kaXNwbGF5KHVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kX25ldXRyYWxfdHJ1c3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSA9IFN0cmluZygoZmluZG5ld2NvbmZfcmVzdWx0WyduZXdfY29uZl90b19kaXNwbGF5J10gKiAxMDApLnRvRml4ZWQoMCkpICsgXCIlXCIgIC8vIENvbmZpZGVuY2UgaW4gQUkncyBwcmVkaWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWlfY29uZmlkZW5jZSA9IE51bWJlcihxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmZpZGVuY2VfaW5mbGF0aW9uID0gKGZpbmRuZXdjb25mX3Jlc3VsdFsnbmV3X2NvbmZfdG9fZGlzcGxheSddIC0gYWlfY29uZmlkZW5jZSkudG9GaXhlZCgyKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImZpbmRuZXdjb25mX3Jlc3VsdHNcIl0gPSBmaW5kbmV3Y29uZl9yZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiY29uZl9hY3R1YWxcIl0gPSAgcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJjb25mX25ld1wiXSA9ICBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJjb25mX2luZmxhdGlvblwiXSA9IGNvbmZpZGVuY2VfaW5mbGF0aW9uXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiYWNjZXB0YW5jZV9saWtlbGlob29kLWFjdHVhbGNvbmZfYWN0dWFsdHJ1c3RcIl0gPSAgYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9uZXV0cmFsdHJ1c3RcIl0gPSBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtbmV3Y29uZl9hY3R1YWx0cnVzdFwiXSA9IGZpbmRuZXdjb25mX3Jlc3VsdFtcIm5ld19jb25mX2FjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJhaV9leHBsYW5hdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgQUkgZXhwbGFuYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIl0gPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IGZhbHNlXG4gICAgICAgIH1cblxuICAgIH1cbiAgICBlbHNlIGlmIChBSUludGVydmVudGlvbkdvYWwgPT0gXCJtaXRpZ2F0ZV9vdmVydHJ1c3RcIikge1xuXG4gICAgICAgIGlmICh1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPiAwKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBhbGRpZmZfcmVzdWx0ID0gYXdhaXQgZXhhbWluZV9lZmZlY3Rfb2ZfdHJ1c3Rfb25fZGVjaXNpb25fbWFraW5nKCkgICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBhbF9kaWZmID0gYWxkaWZmX3Jlc3VsdFtcImFsX2RpZmZcIl1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlcidzIGxpa2VsaWhvb2Qgb2YgZ29pbmcgd2l0aCB0aGUgQUkncyBwcmVkaWN0aW9uOiBcIiwgYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlcidzIGxpa2VsaWhvb2Qgb2YgZ29pbmcgd2l0aCB0aGUgQUkncyBwcmVkaWN0aW9uIHdpdGggbmV1dHJhbCB0cnVzdDogXCIsIGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBY2NlcHRhbmNlIExpa2VsaWhvb2QgRGlmZjogXCIsIGFsX2RpZmYpXG4gICAgICAgICAgICBsZXQgdXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdCA9IGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdXG4gICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImFjY2VwdGFuY2VfbGlrZWxpaG9vZF9yZXN1bHRzXCJdID0gYWxkaWZmX3Jlc3VsdFxuXG4gICAgICAgICAgICBpbnRlcnZlbnRpb25fY29uZGl0aW9uX3NhdGlzZmllZCA9IGZhbHNlXG4gICAgICAgICAgICBpZiAoYWxfZGlmZiA+PSBJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fY29uZGl0aW9uX3NhdGlzZmllZCA9IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiaW50ZXJ2ZW50aW9uX2NvbmRpdGlvbl9zYXRpc2ZpZWRcIl0gPSBpbnRlcnZlbnRpb25fY29uZGl0aW9uX3NhdGlzZmllZFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPT0gXCJmaXhlZFwiKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwiY29uZmlkZW5jZV9tYW5pcFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERlY3JlYXNlIEFJIGNvbmZpZGVuY2UgYnkgZml4ZWQgYW1vdW50XG4gICAgICAgICAgICAgICAgICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfY29uZmlkZW5jZSA9IE1hdGgubWF4KDAuNSwgTWF0aC5taW4oMSwgYWlfY29uZmlkZW5jZSAtIEludGVydmVudGlvbkZpeGVkQ29uZkNoYW5nZSkpXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gU3RyaW5nKCggbmV3X2NvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMCkpICsgXCIlXCJcblxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImNvbmZfYWN0dWFsXCJdID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImNvbmZfbmV3XCJdID0gZGlzcGxheWVkX2FpX2NvbmZpZGVuY2VcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9hY3R1YWx0cnVzdFwiXSA9IGFsZGlmZl9yZXN1bHRbXCJhY3R1YWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl1cbiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9uZXV0cmFsdHJ1c3RcIl0gPSBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImludGVydmVudGlvbl9hcHBsaWVkXCJdID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwiYWlfZXhwbGFuYXRpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgQUkgZXhwbGFuYXRpb25cbiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcbiAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImludGVydmVudGlvbl9hcHBsaWVkXCJdID0gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgZWxzZSBpZiAoQUlJbnRlcnZlbnRpb25TdHJhdGVneSA9PSBcImFkYXB0aXZlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJ2ZW50aW9uX2NvbmRpdGlvbl9zYXRpc2ZpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcImNvbmZpZGVuY2VfbWFuaXBcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9GaW5kIG5lYXJlc3QgQUkgY29uZmlkZW5jZSB3aXRoIG1pbmltaXppbmcgQUxEaWZmXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5kbmV3Y29uZl9yZXN1bHQgPSBhd2FpdCBmaW5kX2Jlc3RfYWljb25mX3RvX2Rpc3BsYXkodXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gU3RyaW5nKChmaW5kbmV3Y29uZl9yZXN1bHRbJ25ld19jb25mX3RvX2Rpc3BsYXknXSAqIDEwMCkudG9GaXhlZCgwKSkgKyBcIiVcIiAgLy8gQ29uZmlkZW5jZSBpbiBBSSdzIHByZWRpY3Rpb25cblxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJmaW5kbmV3Y29uZl9yZXN1bHRzXCJdID0gZmluZG5ld2NvbmZfcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlsc1tcImNvbmZfYWN0dWFsXCJdID0gIHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiY29uZl9uZXdcIl0gPSAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiYWNjZXB0YW5jZV9saWtlbGlob29kLWFjdHVhbGNvbmZfYWN0dWFsdHJ1c3RcIl0gPSAgYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9uZXV0cmFsdHJ1c3RcIl0gPSBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtbmV3Y29uZl9hY3R1YWx0cnVzdFwiXSA9IGZpbmRuZXdjb25mX3Jlc3VsdFtcIm5ld19jb25mX2FjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJhaV9leHBsYW5hdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgQUkgZXhwbGFuYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzW1wiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIl0gPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiXSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHMgPSB7XCJpbnRlcnZlbnRpb25fYXBwbGllZFwiOiBmYWxzZX1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbJ3RydXN0X2xldmVsX2F0X3N0YXJ0X29mX2ludGVyYWN0aW9uJ10gPSB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcbiAgICBjb25zb2xlLmxvZyhcIkFJIEFzc2lzdGFuY2UgSW50ZXJ2ZW50aW9uIERldGFpbHM6IFwiLCBpbnRlcnZlbnRpb25fZGV0YWlscylcblxuICAgICQoXCIjYWlfcHJlZGljdGlvbl9zcGFuXCIpLmh0bWwoXCJPcHRpb24gXCIgKyBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKVxuICAgICQoXCIjYWlfY29uZmlkZW5jZV9zcGFuXCIpLmh0bWwoZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UpXG5cbiAgICAkKFwiI2FpX2Fzc2lzdGFuY2VfZGl2XCIpLnNob3coKVxuICAgICQoXCIjZmluYWxfdXNlcl9kZWNpc2lvbl9kaXZcIikuc2hvdygpXG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldF90cnVzdF9lZmZlY3QoKSB7XG4gICAgLy8gR2V0IHRydXN0IGVmZmVjdCBmb3IgdGhpcyBpbnRlcmFjdGlvblxuICAgIGxldCBpbml0aWFsX3VzZXJfY29ycmVjdG5lc3MgPSBOdW1iZXIoaW5pdGlhbF91c2VyX2RlY2lzaW9uID09IHF1ZXN0aW9uIVtcImNvcnJlY3Rfb3B0aW9uXCJdKVxuICAgIGxldCBhaV9jb3JyZWN0bmVzcyA9IE51bWJlcihxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdID09IHF1ZXN0aW9uIVtcImNvcnJlY3Rfb3B0aW9uXCJdKVxuICAgIGxldCBmaW5hbF91c2VyX2NvcnJlY3RuZXNzID0gTnVtYmVyKGZpbmFsX3VzZXJfZGVjaXNpb24gPT0gcXVlc3Rpb24hW1wiY29ycmVjdF9vcHRpb25cIl0pXG4gICAgbGV0IGFpX2NvbmZpZGVuY2UgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXS5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDBcbiAgICBsZXQgdHJ1c3RfZWZmZWN0X2lucHV0cyA9IHtcbiAgICAgICAgXCJpbml0aWFsX3VzZXJfY29ycmVjdG5lc3NcIjogaW5pdGlhbF91c2VyX2NvcnJlY3RuZXNzLFxuICAgICAgICBcImFpX2NvcnJlY3RuZXNzXCI6IGFpX2NvcnJlY3RuZXNzLFxuICAgICAgICBcImZpbmFsX3VzZXJfY29ycmVjdG5lc3NcIjogZmluYWxfdXNlcl9jb3JyZWN0bmVzcyxcbiAgICAgICAgXCJhaV9jb25maWRlbmNlXCI6IGFpX2NvbmZpZGVuY2UsXG4gICAgICAgIFwidXNlcl9jdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgIFwidGltZXN0ZXBcIjogcXVlc3Rpb25faSxcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJUcnVzdCBlZmZlY3QgaW5wdXRzOiBcIiwgdHJ1c3RfZWZmZWN0X2lucHV0cylcbiAgICAvL2xldCB0cnVzdF9lZmZlY3QgPSBnZXRfdXNlcl90cnVzdF9lZmZlY3QodHJ1c3RfZWZmZWN0X2lucHV0cylcbiAgICBsZXQgcmVzdWx0OiBhbnlcbiAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICBVU0VSX01PREVMU19ST09UICsgXCJnZXRfdHJ1c3RfZWZmZWN0XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBcIjJzdGVwLXRydXN0LXN0dWR5XCIsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU6IHRydXN0X2VmZmVjdF9tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkodHJ1c3RfZWZmZWN0X2lucHV0cyksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coXCJUcnVzdCBlZmZlY3QgcHJlZGljdGlvbiByZXN1bHQ6IFwiLCByZXN1bHQpXG4gICAgbGV0IHRydXN0X2VmZmVjdCA9IGF3YWl0IHJlc3VsdFtcInRydXN0X2VmZmVjdFwiXVxuXG4gICAgdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbCA9IHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWwgKyB0cnVzdF9lZmZlY3RcbiAgICB0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhID0ge1xuICAgICAgICBcIm1vZGVsX2lucHV0c1wiOiB0cnVzdF9lZmZlY3RfaW5wdXRzLFxuICAgICAgICBcInByZWRpY3RlZF90cnVzdF9lZmZlY3RcIjogdHJ1c3RfZWZmZWN0LFxuICAgICAgICBcInVzZXJfbmV3X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWwsXG4gICAgfVxuICAgIHJldHVybiB0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhXG59XG5cbmZ1bmN0aW9uIG1ha2VfZmluYWxfdXNlcl9kZWNpc2lvbihvcHRpb24pIHtcbiAgICB0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQgPSBEYXRlLm5vdygpXG4gICAgZmluYWxfdXNlcl9kZWNpc2lvbiA9IG9wdGlvblxuICAgIGFzc2VydChvcHRpb24gPT0gMSB8fCBvcHRpb24gPT0gMiwgXCJJbnZhbGlkIG9wdGlvbiFcIilcbiAgICBpZiAob3B0aW9uID09IDEpIHtcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgfVxuICAgICQoXCIjZmluYWxfdXNlcl9jb25maWRlbmNlX2RpdlwiKS5zaG93KClcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbn1cbiQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIikub24oXCJjbGlja1wiLCAoKSA9PiBtYWtlX2ZpbmFsX3VzZXJfZGVjaXNpb24oMSkpXG4kKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbWFrZV9maW5hbF91c2VyX2RlY2lzaW9uKDIpKVxuXG5mdW5jdGlvbiBnZXRfZmluYWxfdXNlcl9jb25maWRlbmNlKGNvbmZfbGV2ZWwpIHtcbiAgICB0aW1lX3RydXN0X2RlY2lzaW9uX3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgIGZpbmFsX3VzZXJfY29uZmlkZW5jZSA9IGNvbmZfbGV2ZWxcbiAgICBhc3NlcnQoY29uZl9sZXZlbCA9PSAxIHx8IGNvbmZfbGV2ZWwgPT0gMiB8fCBjb25mX2xldmVsID09IDMsIFwiSW52YWxpZCBvcHRpb24hXCIpXG4gICAgaWYgKGNvbmZfbGV2ZWwgPT0gMSkge1xuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjFcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICB9IGVsc2UgaWYgKGNvbmZfbGV2ZWwgPT0gMikge1xuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICB9XG5cbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjFcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICBzaG93X3Jlc3VsdCgpXG59XG4kKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjFcIikub24oXCJjbGlja1wiLCAoKSA9PiBnZXRfZmluYWxfdXNlcl9jb25maWRlbmNlKDEpKVxuJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZ2V0X2ZpbmFsX3VzZXJfY29uZmlkZW5jZSgyKSlcbiQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5vbihcImNsaWNrXCIsICgpID0+IGdldF9maW5hbF91c2VyX2NvbmZpZGVuY2UoMykpXG5cblxuYXN5bmMgZnVuY3Rpb24gc2hvd19yZXN1bHQoKSB7XG5cbiAgICBsZXQgY29ycmVjdF9vcHRpb246IG51bWJlciA9IHF1ZXN0aW9uIVtcImNvcnJlY3Rfb3B0aW9uXCJdXG4gICAgbGV0IHVzZXJfaXNfY29ycmVjdDogYm9vbGVhbiA9IGNvcnJlY3Rfb3B0aW9uID09IGZpbmFsX3VzZXJfZGVjaXNpb25cblxuICAgIGxldCBhaV9pc19jb3JyZWN0OiBib29sZWFuID0gcXVlc3Rpb24hW1wiYWlfaXNfY29ycmVjdFwiXVxuICAgIGxldCBtZXNzYWdlID0gXCJDb3JyZWN0IGFuc3dlcjogPGI+T3B0aW9uIFwiICsgY29ycmVjdF9vcHRpb24gKyBcIjwvYj4uPGJyPlwiXG4gICAgaWYgKHVzZXJfaXNfY29ycmVjdCkge1xuICAgICAgICBtZXNzYWdlICs9IFwiWW91IHBpY2tlZCBPcHRpb24gXCIgKyBmaW5hbF91c2VyX2RlY2lzaW9uICsgXCIsIHdoaWNoIHdhcyA8c3BhbiBjbGFzcz0nY29sb3JfY29ycmVjdCc+PGI+Y29ycmVjdDwvYj48L3NwYW4+Ljxicj5cIlxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIllvdSBwaWNrZWQgT3B0aW9uIFwiICsgZmluYWxfdXNlcl9kZWNpc2lvbiArIFwiLCB3aGljaCB3YXMgPHNwYW4gY2xhc3M9J2NvbG9yX2luY29ycmVjdCc+PGI+aW5jb3JyZWN0PC9iPjwvc3Bhbj4uPGJyPlwiXG4gICAgfVxuICAgIGlmIChhaV9pc19jb3JyZWN0KSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCJUaGUgQUkgcGlja2VkIE9wdGlvbiBcIiArIHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0gKyBcIiwgd2hpY2ggd2FzIDxzcGFuIGNsYXNzPSdjb2xvcl9jb3JyZWN0Jz48Yj5jb3JyZWN0PGI+PC9zcGFuPi48YnI+XCJcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCJUaGUgQUkgcGlja2VkIE9wdGlvbiBcIiArIHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0gKyBcIiwgd2hpY2ggd2FzIDxzcGFuIGNsYXNzPSdjb2xvcl9pbmNvcnJlY3QnPjxiPmluY29ycmVjdDwvYj48L3NwYW4+Ljxicj5cIlxuICAgIH1cbiAgICBpZiAodXNlcl9pc19jb3JyZWN0KSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCI8c3BhbiBjbGFzcz0nY29sb3JfY29ycmVjdCc+PGI+WW91IHJlY2VpdmUgYSByZXdhcmQgb2YgJDAuMTAuPC9iPjwvc3Bhbj5cIlxuICAgICAgICBiYWxhbmNlICs9IDAuMVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIjxzcGFuIGNsYXNzPSdjb2xvcl9pbmNvcnJlY3QnPjxiPllvdSBkbyBub3QgcmVjZWl2ZSBhbnkgcmV3YXJkLjwvYj48L3NwYW4+XCJcbiAgICB9XG5cbiAgICBtZXNzYWdlICs9IFwiPGJyPlwiXG4gICAgLy9pZiAoc3VjY2Vzcykge1xuICAgIC8vICAgIG1lc3NhZ2UgKz0gYFlvdSBnYWluICQkeyhiZXRfdmFsKmJldF92YWxfcmF0aW8pLnRvRml4ZWQoMil9LmBcbiAgICAvLyAgICBiYWxhbmNlICs9IGJldF92YWwqYmV0X3ZhbF9yYXRpb1xuICAgIC8vfSBlbHNlIHtcbiAgICAvLyAgICBtZXNzYWdlICs9IGBZb3UgbG9zZSAkJHsoYmV0X3ZhbC8xLjApLnRvRml4ZWQoMil9LmBcbiAgICAvLyAgICBiYWxhbmNlIC09IGJldF92YWwvMS4wXG4gICAgLy8gICAgYmFsYW5jZSA9IE1hdGgubWF4KDAsIGJhbGFuY2UpXG4gICAgLy99XG4gICAgJChcIiNiYWxhbmNlXCIpLnRleHQoYEJhbGFuY2U6ICQke2JhbGFuY2UudG9GaXhlZCgyKX0gKyAkMS4wYClcbiAgICAkKFwiI3Jlc3VsdF9zcGFuXCIpLmh0bWwobWVzc2FnZSlcbiAgICAvLyQoXCIjYnV0dG9uX25leHRcIikuc2hvdygpXG4gICAgJChcIiNyZXN1bHRfc3BhblwiKS5zaG93KClcbiAgICAvLyQoXCIjYnV0dG9uX3BsYWNlX2JldFwiKS5oaWRlKClcbiAgICBpZiAoc2tpcF90cnVzdF9yZXBvcnRpbmcpICAge1xuICAgICAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLnNob3coKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJChcIiN1c2VyX3RydXN0X3JlcG9ydF9kaXZcIikuc2hvdygpXG4gICAgfVxuXG4gICAgdHJ1c3RfZWZmZWN0X3ByZWRpY3Rpb25fZGF0YSA9IGF3YWl0IGdldF90cnVzdF9lZmZlY3QoKVxuXG4gICAgLy8kKCcjcmFuZ2VfdmFsJykuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxufVxuXG4vLyQoXCIjYnV0dG9uX3BsYWNlX2JldFwiKS5vbihcImNsaWNrXCIsIHNob3dfcmVzdWx0KVxuXG5mdW5jdGlvbiBuZXh0X3F1ZXN0aW9uKCkge1xuICAgIC8vIHJlc3RvcmUgcHJldmlvdXMgc3RhdGUgb2YgVUlcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG5cbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcblxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG5cbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcblxuICAgICQoXCIjYWlfYXNzaXN0YW5jZV9kaXZcIikuaGlkZSgpXG4gICAgJChcIiNpbml0aWFsX3VzZXJfY29uZmlkZW5jZV9kaXZcIikuaGlkZSgpXG4gICAgJChcIiNmaW5hbF91c2VyX2RlY2lzaW9uX2RpdlwiKS5oaWRlKClcbiAgICAkKFwiI2ZpbmFsX3VzZXJfY29uZmlkZW5jZV9kaXZcIikuaGlkZSgpXG4gICAgJCgnI3JhbmdlX3ZhbCcpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjdXNlcl90cnVzdF9yZXBvcnRfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjYnV0dG9uX3BsYWNlX2JldFwiKS5oaWRlKClcbiAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLmhpZGUoKVxuICAgICQoXCIjcmVzdWx0X3NwYW5cIikuaGlkZSgpXG4gICAgaWYgKHF1ZXN0aW9uX2kgPT0gLTEpIHtcbiAgICAgICAgJChcIiNyYW5nZV90ZXh0XCIpLnRleHQoXCItXCIpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAkKFwiI3JhbmdlX3RleHRcIikudGV4dChgQmVmb3JlIHRoaXMgaW50ZXJhY3Rpb24sIHlvdXIgdHJ1c3QgaW4gdGhlIEFJOiAke3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgKiAxMH0gLyAxMDAuYClcbiAgICB9XG4gICAgJChcIiNyYW5nZV92YWxcIikudmFsKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwpXG4gICAgcHJldl91c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsID0gdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbFxuXG4gICAgcXVlc3Rpb25faSArPSAxXG4gICAgaWYgKHF1ZXN0aW9uX2kgPj0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLmhpZGUoKVxuICAgICAgICBpZiAoTU9DS01PREUpIHtcbiAgICAgICAgICAgICQoXCIjbWFpbl9ib3hfZW5kX21vY2tcIikuc2hvdygpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKFwiI21haW5fYm94X2VuZFwiKS5zaG93KClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgcXVlc3Rpb24gPSBkYXRhW3F1ZXN0aW9uX2ldXG5cbiAgICAkKFwiI3F1ZXN0aW9uX3NwYW5cIikuaHRtbChxdWVzdGlvbiFbXCJxdWVzdGlvblwiXSlcbiAgICAkKFwiI29wdGlvbjFfc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcIm9wdGlvbjFcIl0pXG4gICAgJChcIiNvcHRpb24yX3NwYW5cIikuaHRtbChxdWVzdGlvbiFbXCJvcHRpb24yXCJdKVxuICAgIC8vJChcIiNhaV9wcmVkaWN0aW9uX3NwYW5cIikuaHRtbChcIk9wdGlvbiBcIiArIHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0pXG4gICAgLy8kKFwiI2FpX2NvbmZpZGVuY2Vfc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0pXG5cbiAgICAvLyBzZXQgYmV0IHZhbHVlIHJhdGlvXG4gICAgaWYocXVlc3Rpb24uaGFzT3duUHJvcGVydHkoXCJyZXdhcmRfcmF0aW9cIikpIHtcbiAgICAgICAgbGV0IFtyYXRpbzEsIHJhdGlvMl0gPSBxdWVzdGlvbltcInJld2FyZF9yYXRpb1wiXVxuICAgICAgICByYXRpbzEgPSBOdW1iZXIocmF0aW8xKVxuICAgICAgICByYXRpbzIgPSBOdW1iZXIocmF0aW8yKVxuICAgICAgICBiZXRfdmFsX3JhdGlvID0gcmF0aW8xL3JhdGlvMlxuICAgIH0gZWxzZSB7XG4gICAgICAgIGJldF92YWxfcmF0aW8gPSAxXG4gICAgfVxuXG4gICAgdGltZV9xdWVzdGlvbl9zdGFydCA9IERhdGUubm93KClcbiAgICAkKFwiI3Byb2dyZXNzXCIpLnRleHQoYFByb2dyZXNzOiAke3F1ZXN0aW9uX2kgKyAxfSAvICR7ZGF0YS5sZW5ndGh9YClcbn1cblxuLy8gZ2V0IHVzZXIgaWQgYW5kIGxvYWQgcXVldWVcbi8vIHRyeSB0byBzZWUgaWYgc3RhcnQgb3ZlcnJpZGUgd2FzIHBhc3NlZFxuY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbmNvbnN0IHN0YXJ0T3ZlcnJpZGUgPSB1cmxQYXJhbXMuZ2V0KCdzdGFydCcpO1xuY29uc3QgVUlERnJvbVVSTCA9IHVybFBhcmFtcy5nZXQoXCJ1aWRcIilcbmdsb2JhbFRoaXMudXJsX2RhdGEgPSBwYXJhbXNUb09iamVjdCh1cmxQYXJhbXMuZW50cmllcygpKVxuXG5pZiAoVUlERnJvbVVSTCAhPSBudWxsKSB7XG4gICAgZ2xvYmFsVGhpcy51aWQgPSBVSURGcm9tVVJMIGFzIHN0cmluZ1xuICAgIGlmIChnbG9iYWxUaGlzLnVpZCA9PSBcInByb2xpZmljX3JhbmRvbVwiKSB7XG4gICAgICAgIGxldCBxdWV1ZV9pZCA9IGAke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKX1gLnBhZFN0YXJ0KDMsIFwiMFwiKVxuICAgICAgICBnbG9iYWxUaGlzLnVpZCA9IGAke3VybFBhcmFtcy5nZXQoXCJwcm9saWZpY19xdWV1ZV9uYW1lXCIpfS8ke3F1ZXVlX2lkfWBcbiAgICB9XG59IGVsc2UgaWYgKERFVk1PREUpIHtcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFwiZGVtb1wiXG59IGVsc2Uge1xuICAgIGxldCBVSURfbWF5YmU6IGFueSA9IG51bGxcbiAgICB3aGlsZSAoVUlEX21heWJlID09IG51bGwpIHtcbiAgICAgICAgVUlEX21heWJlID0gcHJvbXB0KFwiRW50ZXIgeW91ciB1c2VyIGlkLiBQbGVhc2UgZ2V0IGluIHRvdWNoIGlmIHlvdSB3ZXJlIG5vdCBhc3NpZ25lZCBhbiBpZCBidXQgd2lzaCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGlzIGV4cGVyaW1lbnQuXCIpXG4gICAgfVxuICAgIGdsb2JhbFRoaXMudWlkID0gVUlEX21heWJlIVxufVxuXG4vL2NvbnN0IHZhbGlkQUlJbnRlcnZlbnRpb25zID0gW1wibm9uZVwiLCBcImR1bW15XCIsIFwiY29uZmlkZW5jZV9pbmZsYXRpb25cIiwgXCJjb25maWRlbmNlX2luZmxhdGlvbl9maXhlZFwiLCBcImNvbmZpZGVuY2VfZGVmbGF0aW9uXCJdXG4vL2xldCBBSUludGVydmVudGlvblR5cGUgPSB1cmxQYXJhbXMuZ2V0KFwiaW50ZXJ2ZW50aW9uX3R5cGVcIilcbi8vbGV0IEludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZCA9IE51bWJlcih1cmxQYXJhbXMuZ2V0KFwiaW50ZXJ2ZW50aW9uX3RocmVzaG9sZFwiKSlcbi8vbGV0IEludGVydmVudGlvbkZpeGVkQ29uZkluY3JlYXNlID0gTnVtYmVyKHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fZml4ZWRjb25maW5jcmVhc2VcIikpXG5jb25zdCB2YWxpZEludGVydmVudGlvbkdvYWxzID0gW1wibm9uZVwiLCBcIm1pdGlnYXRlX3VuZGVydHJ1c3RcIiwgXCJtaXRpZ2F0ZV9vdmVydHJ1c3RcIl1cbmxldCBBSUludGVydmVudGlvbkdvYWwgPSB1cmxQYXJhbXMuZ2V0KFwiaW50ZXJ2ZW50aW9uX2dvYWxcIilcbmlmIChBSUludGVydmVudGlvbkdvYWwgPT0gbnVsbCkge0FJSW50ZXJ2ZW50aW9uR29hbCA9IFwibm9uZVwifVxuaWYgKCF2YWxpZEludGVydmVudGlvbkdvYWxzLmluY2x1ZGVzKEFJSW50ZXJ2ZW50aW9uR29hbCEpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBBSSBBc3Npc3RhbmNlIEludGVydmVudGlvbiBHb2FsOiBcIiArIEFJSW50ZXJ2ZW50aW9uR29hbClcbn1cblxuY29uc3QgdmFsaWRJbnRlcnZlbnRpb25UeXBlcyA9IFtcIm5vbmVcIiwgXCJkdW1teVwiLCBcImNvbmZpZGVuY2VfbWFuaXBcIiwgXCJhaV9leHBsYW5hdGlvblwiXVxubGV0IEFJSW50ZXJ2ZW50aW9uVHlwZSA9IHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fdHlwZVwiKVxuaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBudWxsKSB7QUlJbnRlcnZlbnRpb25UeXBlID0gXCJub25lXCJ9IFxuaWYgKCF2YWxpZEludGVydmVudGlvblR5cGVzLmluY2x1ZGVzKEFJSW50ZXJ2ZW50aW9uVHlwZSEpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBBSSBBc3Npc3RhbmNlIEludGVydmVudGlvbjogXCIgKyBBSUludGVydmVudGlvblR5cGUpXG59XG5cbmNvbnN0IHZhbGlkSW50ZXJ2ZW50aW9uU3RyYXRlZ2llcyA9IFtcImR1bW15XCIsIFwiZml4ZWRcIiwgXCJhZGFwdGl2ZVwiXVxubGV0IEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kgPSB1cmxQYXJhbXMuZ2V0KFwiaW50ZXJ2ZW50aW9uX3N0cmF0ZWd5XCIpXG5pZiAoQUlJbnRlcnZlbnRpb25TdHJhdGVneSA9PSBudWxsKSB7QUlJbnRlcnZlbnRpb25TdHJhdGVneSA9IFwiZHVtbXlcIn1cbmlmICghdmFsaWRJbnRlcnZlbnRpb25TdHJhdGVnaWVzLmluY2x1ZGVzKEFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3khKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQUkgQXNzaXN0YW5jZSBJbnRlcnZlbnRpb24gU3RyYXRlZ3k6IFwiICsgQUlJbnRlcnZlbnRpb25TdHJhdGVneSlcbn1cblxuLy8gSW50ZXJ2ZW50aW9uLXNwZWNpZmljIHBhcmFtZXRlcnNcbmxldCBJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGQgPSBOdW1iZXIodXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl90aHJlc2hvbGRcIikpXG5pZiAoSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkID09IG51bGwpIHtJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGQgPSAtMX1cbmxldCBJbnRlcnZlbnRpb25GaXhlZENvbmZDaGFuZ2UgPSBOdW1iZXIodXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl9maXhlZGNvbmZjaGFuZ2VcIikpXG5pZiAoSW50ZXJ2ZW50aW9uRml4ZWRDb25mQ2hhbmdlID09IG51bGwpIHtJbnRlcnZlbnRpb25GaXhlZENvbmZDaGFuZ2UgPSAwfVxuXG5sZXQgdXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwgPSB1cmxQYXJhbXMuZ2V0KFwidXNlX3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWxcIikgPT0gXCJ0cnVlXCJcbmlmICh1c2VVc2VyUmVwb3J0ZWRUcnVzdFZhbCA9PSBudWxsKSB7dXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwgPSBmYWxzZX1cblxubGV0IHNraXBfdHJ1c3RfcmVwb3J0aW5nID0gdXJsUGFyYW1zLmdldChcInNraXBfdHJ1c3RfcmVwb3J0aW5nXCIpID09IFwidHJ1ZVwiXG5pZiAoc2tpcF90cnVzdF9yZXBvcnRpbmcgPT0gbnVsbCkge3NraXBfdHJ1c3RfcmVwb3J0aW5nID0gZmFsc2V9XG5cbmdsb2JhbFRoaXMudXJsX2RhdGFbXCJpbnRlcnZlbnRpb25fZ29hbFwiXSA9IEFJSW50ZXJ2ZW50aW9uR29hbFxuZ2xvYmFsVGhpcy51cmxfZGF0YVtcImludGVydmVudGlvbl90eXBlXCJdID0gQUlJbnRlcnZlbnRpb25UeXBlXG5nbG9iYWxUaGlzLnVybF9kYXRhW1wiaW50ZXJ2ZW50aW9uX3N0cmF0ZWd5XCJdID0gQUlJbnRlcnZlbnRpb25TdHJhdGVneVxuZ2xvYmFsVGhpcy51cmxfZGF0YVtcImludGVydmVudGlvbl90aHJlc2hvbGRcIl0gPSBJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGRcbmdsb2JhbFRoaXMudXJsX2RhdGFbXCJpbnRlcnZlbnRpb25fZml4ZWRjb25mY2hhbmdlXCJdID0gSW50ZXJ2ZW50aW9uRml4ZWRDb25mQ2hhbmdlXG5nbG9iYWxUaGlzLnVybF9kYXRhW1widXNlX3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWxcIl0gPSB1c2VVc2VyUmVwb3J0ZWRUcnVzdFZhbFxuXG4vLyB2ZXJzaW9uIGZvciBwYXBlclxuaWYgKGdsb2JhbFRoaXMudWlkLnN0YXJ0c1dpdGgoXCJkZW1vX3BhcGVyXCIpKSB7XG4gICAgTU9DS01PREUgPSB0cnVlXG59IGVsc2Uge1xuXG59XG5jb25zb2xlLmxvZyhcIlJ1bm5pbmcgd2l0aCBVSURcIiwgZ2xvYmFsVGhpcy51aWQpXG5sb2FkX2RhdGEoKS5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgLy9hbGVydChcIkludmFsaWQgdXNlciBpZC5cIilcbiAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgdXNlciBpZC5cIilcbiAgICBjb25zb2xlLmxvZyhnbG9iYWxUaGlzLnVpZCEpXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG59XG4pLnRoZW4oKG5ld19kYXRhKSA9PiB7XG4gICAgZGF0YSA9IG5ld19kYXRhXG4gICAgaWYgKHN0YXJ0T3ZlcnJpZGUgIT0gbnVsbCkge1xuICAgICAgICBxdWVzdGlvbl9pID0gcGFyc2VJbnQoc3RhcnRPdmVycmlkZSkgLSAxXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgZnJvbVwiLCBxdWVzdGlvbl9pKVxuICAgIH1cbiAgICAvLyBuZXh0X3F1ZXN0aW9uKClcbiAgICBuZXh0X2luc3RydWN0aW9ucygwKVxuICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLnNob3coKVxuICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5oaWRlKClcbn0pXG5cbmNvbnNvbGUubG9nKFwiU3RhcnRpbmcgc2Vzc2lvbiB3aXRoIFVJRDpcIiwgZ2xvYmFsVGhpcy51aWQhKVxuXG5sZXQgYWxlcnRfYWN0aXZlID0gZmFsc2VcbmRvY3VtZW50Lm9udmlzaWJpbGl0eWNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAoIWFsZXJ0X2FjdGl2ZSkge1xuICAgICAgICBjb3VudF9leGl0ZWRfcGFnZSArPSAxXG4gICAgICAgIGFsZXJ0X2FjdGl2ZSA9IHRydWVcbiAgICAgICAgaWYgKCEoZ2xvYmFsVGhpcy51aWQhLnN0YXJ0c1dpdGgoXCJkZW1vXCIpKSAmJiAhKERFVk1PREUpKSB7XG4gICAgICAgICAgICBhbGVydChcIlBsZWFzZSBkb24ndCBsZWF2ZSB0aGUgcGFnZS4gSWYgeW91IGRvIHNvIGFnYWluLCB3ZSBtYXkgcmVzdHJpY3QgcGF5aW5nIHlvdS5cIilcbiAgICAgICAgfVxuICAgICAgICBhbGVydF9hY3RpdmUgPSBmYWxzZVxuICAgIH1cbn0iLCJmdW5jdGlvbiBwYXJhbXNUb09iamVjdChlbnRyaWVzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9XG4gIC8vIGVhY2ggJ2VudHJ5JyBpcyBhIFtrZXksIHZhbHVlXSB0dXBwbGVcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZW50cmllcykge1xuICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgcGFyYW1zVG9PYmplY3QgfSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlNFUlZFUl9MT0dfUk9PVCIsIk1PQ0tNT0RFIiwiVVNFUl9NT0RFTFNfUk9PVCIsInVzZXJfZGVjaXNpb25fbW9kZWwiLCJkYXRhIiwidGltZV9xdWVzdGlvbl9zdGFydCIsInRpbWVfZmluYWxfZGVjaXNpb25fc3RhcnQiLCJ0aW1lX3RydXN0X2RlY2lzaW9uX3N0YXJ0IiwidGltZV9pbml0aWFsX2NvbmZpZGVuY2Vfc3RhcnQiLCJ0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQiLCJxdWVzdGlvbl9pIiwicXVlc3Rpb24iLCJpbml0aWFsX3VzZXJfZGVjaXNpb24iLCJmaW5hbF91c2VyX2RlY2lzaW9uIiwiaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UiLCJmaW5hbF91c2VyX2NvbmZpZGVuY2UiLCJiYWxhbmNlIiwidXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCIsInByZXZfdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCIsImJldF92YWxfcmF0aW8iLCJpbnN0cnVjdGlvbl9pIiwiY291bnRfZXhpdGVkX3BhZ2UiLCJpbnRlcnZlbnRpb25fY29uZGl0aW9uX3NhdGlzZmllZCIsInVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWwiLCJpbnRlcnZlbnRpb25fZGV0YWlscyIsInRydXN0X2VmZmVjdF9wcmVkaWN0aW9uX2RhdGEiLCJmaW5kbmV3Y29uZl9yZXN1bHQiLCJhc3NlcnQiLCJjb25kaXRpb24iLCJtZXNzYWdlIiwibmV4dF9pbnN0cnVjdGlvbnMiLCJpbmNyZW1lbnQiLCIkIiwiYXR0ciIsInJlbW92ZUF0dHIiLCJzaG93IiwidmFsIiwiaGlkZSIsIm5leHRfcXVlc3Rpb24iLCJjaGlsZHJlbiIsImVhY2giLCJfIiwiZWwiLCJtYWtlX2luaXRpYWxfdXNlcl9kZWNpc2lvbiIsIm9wdGlvbiIsIkRhdGUiLCJub3ciLCJnZXRfaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UiLCJjb25mX2xldmVsIiwiYXN5bmMiLCJjb25zb2xlIiwibG9nIiwiZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UiLCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwiLCJ1c2VVc2VyUmVwb3J0ZWRUcnVzdFZhbCIsIkFJSW50ZXJ2ZW50aW9uR29hbCIsImFsZGlmZl9yZXN1bHQiLCJleGFtaW5lX2VmZmVjdF9vZl90cnVzdF9vbl9kZWNpc2lvbl9tYWtpbmciLCJhbF9kaWZmIiwidXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdCIsIkludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZCIsIkFJSW50ZXJ2ZW50aW9uU3RyYXRlZ3kiLCJBSUludGVydmVudGlvblR5cGUiLCJhaV9jb25maWRlbmNlIiwiTnVtYmVyIiwicmVwbGFjZSIsIm5ld19jb25maWRlbmNlIiwiTWF0aCIsIm1pbiIsIkludGVydmVudGlvbkZpeGVkQ29uZkNoYW5nZSIsIlN0cmluZyIsInRvRml4ZWQiLCJjb25maWRlbmNlX2luZmxhdGlvbiIsImZpbmRfYmVzdF9haWNvbmZfdG9fZGlzcGxheSIsIm1heCIsImh0bWwiLCJnZXRfYWlfYXNzaXN0YW5jZSIsInVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQiLCJ1c2VyX2luaXRpYWxfY29uZmlkZW5jZSIsInVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzIiwiYWpheCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9qZWN0IiwibW9kZWxfbmFtZSIsInBheWxvYWQiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJlIiwiZmluZG5ld2NvbmZfaW5wdXRfdmFyaWFibGVzIiwibWFrZV9maW5hbF91c2VyX2RlY2lzaW9uIiwiZ2V0X2ZpbmFsX3VzZXJfY29uZmlkZW5jZSIsImNvcnJlY3Rfb3B0aW9uIiwidXNlcl9pc19jb3JyZWN0IiwiYWlfaXNfY29ycmVjdCIsInRleHQiLCJza2lwX3RydXN0X3JlcG9ydGluZyIsInJlc3VsdCIsInRydXN0X2VmZmVjdF9pbnB1dHMiLCJ0cnVzdF9lZmZlY3QiLCJnZXRfdHJ1c3RfZWZmZWN0Iiwic2hvd19yZXN1bHQiLCJsZW5ndGgiLCJyYXRpbzEiLCJyYXRpbzIiLCJvbiIsImxvZ2dlZF9kYXRhIiwiZ2xvYmFsVGhpcyIsInVybF9kYXRhIiwidWlkIiwibG9nX2RhdGEiLCJ0aGlzIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJzdGFydE92ZXJyaWRlIiwiVUlERnJvbVVSTCIsImVudHJpZXMiLCJ2YWx1ZSIsInBhcmFtc1RvT2JqZWN0IiwicXVldWVfaWQiLCJmbG9vciIsInJhbmRvbSIsInBhZFN0YXJ0IiwiVUlEX21heWJlIiwicHJvbXB0IiwiaW5jbHVkZXMiLCJFcnJvciIsInN0YXJ0c1dpdGgiLCJnZXRKU09OIiwibG9hZF9kYXRhIiwiY2F0Y2giLCJfZXJyb3IiLCJyZWxvYWQiLCJ0aGVuIiwibmV3X2RhdGEiLCJwYXJzZUludCIsImFsZXJ0X2FjdGl2ZSIsImRvY3VtZW50Iiwib252aXNpYmlsaXR5Y2hhbmdlIiwiYWxlcnQiXSwic291cmNlUm9vdCI6IiJ9