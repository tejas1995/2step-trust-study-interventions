(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{o:()=>i});let e="https://tejassrinivasan.pythonanywhere.com/";var i=!1;let n="https://tejassrinivasan.pythonanywhere.com/",o="user_acceptance_model-logisticregression-0.9347testf1";var c=[];let a,_,l,r,s,d=-1,u=null,p=-1,f=-1,b=-1,h=-1,v=0,g=5,m=1,y=0,w=0,k=0;var A={},x={},O={};let T;function N(t,e){if(!t)throw e||"Assertion failed"}function S(t){y+=t,0==y?$("#button_instructions_prev").attr("disabled","true"):$("#button_instructions_prev").removeAttr("disabled"),y>=6?($("#instructions_and_decorations").show(),$("#button_instructions_next").val("Start study")):($("#instructions_and_decorations").hide(),$("#button_instructions_next").val("Next")),7==y&&($("#main_box_instructions").hide(),$("#main_box_experiment").show(),U()),$("#main_box_instructions").children(":not(input)").each(((t,e)=>{$(e).hide()})),$(`#instructions_${y}`).show()}function j(t){r=Date.now(),p=t,N(1==t||2==t,"Invalid option!"),1==t?($("#button_initial_decision_option1").attr("activedecision","true"),$("#button_initial_decision_option2").removeAttr("activedecision")):($("#button_initial_decision_option1").removeAttr("activedecision"),$("#button_initial_decision_option2").attr("activedecision","true")),$("#initial_user_confidence_div").show(),$("#button_initial_decision_option1").attr("disabled","true"),$("#button_initial_decision_option2").attr("disabled","true"),$("#button_initial_confidence_option1").removeAttr("disabled"),$("#button_initial_confidence_option2").removeAttr("disabled"),$("#button_initial_confidence_option3").removeAttr("disabled")}function I(t){_=Date.now(),b=t,N(1==t||2==t||3==t,"Invalid option!"),1==t?($("#button_initial_confidence_option1").attr("activedecision","true"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").removeAttr("activedecision")):2==t?($("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").attr("activedecision","true"),$("#button_initial_confidence_option3").removeAttr("activedecision")):($("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").attr("activedecision","true")),$("#button_initial_confidence_option1").attr("disabled","true"),$("#button_initial_confidence_option2").attr("disabled","true"),$("#button_initial_confidence_option3").attr("disabled","true"),$("#button_final_decision_option1").removeAttr("disabled"),$("#button_final_decision_option2").removeAttr("disabled"),async function(){console.log("Getting AI assistance...");let t="AI is figuring out its confidence...",e=k;if(Y&&(e=(g-5)/2.5,console.log("Using user reported trust value: ",g)),"none"==q)t=u.ai_confidence;else if("dummy"==q){let i,c={user_ai_initial_agreement:Number(p==u.ai_prediction),user_initial_confidence:b,ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:e,timestep:d};console.log("User decision model inputs: ",c);try{i=await $.ajax(n+"get_user_decision_prob",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(c)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}let a=i.pred_probs[0],_=i.X;console.log("User decision model X: ",_),console.log("User's likelihood of going with the AI's prediction: ",a[1]),t=String((100*(_[2]+.1)).toFixed(0))+"%",x={user_decision_model_inputs:c,acceptance_likelihood:a[1]}}else if("confidence_inflation"==q)if(e<0){let i,c=Number(p==u.ai_prediction),a=b,_={user_ai_initial_agreement:c,user_initial_confidence:a,ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:e,timestep:d};console.log("User decision model inputs: ",_);try{i=await $.ajax(n+"examine_effect_of_trust_on_decision_making",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}let l=i.al_diff;console.log("User's likelihood of going with the AI's prediction: ",i.actual_trust.acceptance_likelihood),console.log("User's likelihood of going with the AI's prediction with neutral trust: ",i.neutral_trust.acceptance_likelihood),console.log("Acceptance Likelihood Diff: ",l);let r=i.neutral_trust.acceptance_likelihood,s=!1;if(l>F){s=!0;let _={user_ai_initial_agreement:c,user_initial_confidence:a,user_current_trust_level:e,timestep:d,user_acceptance_likelihood_neutral_trust:r};try{T=await $.ajax(n+"find_best_aiconf_to_display",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}t=String((100*T.new_conf_to_display).toFixed(0))+"%",x={acceptance_likelihood_results:i,findnewconf_results:T,current_trust_level:e,conf_actual:u.ai_confidence,conf_new:t,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,"acceptance_likelihood-newconf_actualtrust":T.new_conf_acceptance_likelihood,intervention_applied:!0}}else t=u.ai_confidence,s=!1,x={acceptance_likelihood_results:i,current_trust_level:e,conf_actual:u.ai_confidence,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,intervention_applied:!1}}else t=u.ai_confidence,x={intervention_applied:!1};else if("confidence_inflation_fixed"==q)if(e<0&&p!=u.ai_prediction){let i,c=Number(p==u.ai_prediction),a=b,_=Number(u.ai_confidence.replace("%",""))/100,l={user_ai_initial_agreement:c,user_initial_confidence:a,ai_confidence:_,user_current_trust_level:e,timestep:d};console.log("User decision model inputs: ",l);try{i=await $.ajax(n+"examine_effect_of_trust_on_decision_making",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(l)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}let r=i.al_diff;console.log("User's likelihood of going with the AI's prediction: ",i.actual_trust.acceptance_likelihood),console.log("User's likelihood of going with the AI's prediction with neutral trust: ",i.neutral_trust.acceptance_likelihood),console.log("Acceptance Likelihood Diff: ",r),i.neutral_trust.acceptance_likelihood;let s=Math.min(1,_+L);t=String((100*s).toFixed(0))+"%",x={acceptance_likelihood_results:i,current_trust_level:e,conf_actual:u.ai_confidence,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,intervention_applied:!0}}else t=u.ai_confidence,x={intervention_applied:!1};else if("confidence_deflation"==q)if(e>0){let i,c=Number(p==u.ai_prediction),a=b,_={user_ai_initial_agreement:c,user_initial_confidence:a,ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:e,timestep:d};console.log("User decision model inputs: ",_);try{i=await $.ajax(n+"examine_effect_of_trust_on_decision_making",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}let l=i.al_diff;console.log("User's likelihood of going with the AI's prediction: ",i.actual_trust.acceptance_likelihood),console.log("User's likelihood of going with the AI's prediction with neutral trust: ",i.neutral_trust.acceptance_likelihood),console.log("Acceptance Likelihood Diff: ",l);let r=i.neutral_trust.acceptance_likelihood,s=!1;if(l>F){s=!0;let _={user_ai_initial_agreement:c,user_initial_confidence:a,user_current_trust_level:e,timestep:d,user_acceptance_likelihood_neutral_trust:r};try{T=await $.ajax(n+"find_best_aiconf_to_display",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}t=String((100*T.new_conf_to_display).toFixed(0))+"%",x={acceptance_likelihood_results:i,findnewconf_results:T,current_trust_level:e,conf_actual:u.ai_confidence,conf_new:t,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,"acceptance_likelihood-newconf_actualtrust":T.new_conf_acceptance_likelihood,intervention_applied:!0}}else t=u.ai_confidence,s=!1,x={acceptance_likelihood_results:i,current_trust_level:e,conf_actual:u.ai_confidence,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,intervention_applied:!1}}else t=u.ai_confidence,x={intervention_applied:!1};A={intervention_type:q,actual_ai_confidence:u.ai_confidence,displayed_ai_confidence:t,intervention_details:x},console.log("AI Assistance Intervention Data: ",A),$("#ai_prediction_span").html("Option "+u.ai_prediction),$("#ai_confidence_span").html(t),$("#ai_assistance_div").show(),$("#final_user_decision_div").show()}()}function R(t){s=Date.now(),f=t,N(1==t||2==t,"Invalid option!"),1==t?($("#button_final_decision_option1").attr("activedecision","true"),$("#button_final_decision_option2").removeAttr("activedecision")):($("#button_final_decision_option1").removeAttr("activedecision"),$("#button_final_decision_option2").attr("activedecision","true")),$("#final_user_confidence_div").show(),$("#button_final_decision_option1").attr("disabled","true"),$("#button_final_decision_option2").attr("disabled","true"),$("#button_final_confidence_option1").removeAttr("disabled"),$("#button_final_confidence_option2").removeAttr("disabled"),$("#button_final_confidence_option3").removeAttr("disabled")}function J(t){l=Date.now(),h=t,N(1==t||2==t||3==t,"Invalid option!"),1==t?($("#button_final_confidence_option1").attr("activedecision","true"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").removeAttr("activedecision")):2==t?($("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").attr("activedecision","true"),$("#button_final_confidence_option3").removeAttr("activedecision")):($("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").attr("activedecision","true")),$("#button_final_confidence_option1").attr("disabled","true"),$("#button_final_confidence_option2").attr("disabled","true"),$("#button_final_confidence_option3").attr("disabled","true"),function(){let t=u.correct_option,e=t==f,i=u.ai_is_correct,o="Correct answer: <b>Option "+t+"</b>.<br>";o+=e?"You picked Option "+f+", which was <span class='color_correct'><b>correct</b></span>.<br>":"You picked Option "+f+", which was <span class='color_incorrect'><b>incorrect</b></span>.<br>",o+=i?"The AI picked Option "+u.ai_prediction+", which was <span class='color_correct'><b>correct<b></span>.<br>":"The AI picked Option "+u.ai_prediction+", which was <span class='color_incorrect'><b>incorrect</b></span>.<br>",e?(o+="<span class='color_correct'><b>You receive a reward of $0.10.</b></span>",v+=.1):o+="<span class='color_incorrect'><b>You do not receive any reward.</b></span>",o+="<br>",async function(){let t,e={initial_user_correctness:Number(p==u.correct_option),ai_correctness:Number(u.ai_prediction==u.correct_option),final_user_correctness:Number(f==u.correct_option),ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:k,timestep:d};console.log("Trust effect inputs: ",e);try{t=await $.ajax(n+"get_trust_effect",{data:JSON.stringify({project:"2step-trust-study",model_name:"trust_effect_model-svm_linear-0.4644testmae-0.9095testteda",payload:JSON.stringify(e)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}console.log("Trust effect prediction result: ",t);let i=await t.trust_effect;k+=i,O={model_inputs:e,predicted_trust_effect:i,user_new_trust_level:k}}(),$("#balance").text(`Balance: $${v.toFixed(2)} + $1.0`),$("#result_span").html(o),$("#result_span").show(),$("#how_confident_div").show()}()}function U(){if($("#button_initial_decision_option1").removeAttr("activedecision"),$("#button_initial_decision_option2").removeAttr("activedecision"),$("#button_initial_decision_option1").removeAttr("disabled"),$("#button_initial_decision_option2").removeAttr("disabled"),$("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").removeAttr("activedecision"),$("#button_initial_confidence_option1").removeAttr("disabled"),$("#button_initial_confidence_option2").removeAttr("disabled"),$("#button_initial_confidence_option3").removeAttr("disabled"),$("#button_final_decision_option1").removeAttr("activedecision"),$("#button_final_decision_option2").removeAttr("activedecision"),$("#button_final_decision_option1").removeAttr("disabled"),$("#button_final_decision_option2").removeAttr("disabled"),$("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").removeAttr("activedecision"),$("#button_final_confidence_option1").removeAttr("disabled"),$("#button_final_confidence_option2").removeAttr("disabled"),$("#button_final_confidence_option3").removeAttr("disabled"),$("#ai_assistance_div").hide(),$("#initial_user_confidence_div").hide(),$("#final_user_decision_div").hide(),$("#final_user_confidence_div").hide(),$("#range_val").removeAttr("disabled"),$("#how_confident_div").hide(),$("#button_place_bet").hide(),$("#button_next").hide(),$("#result_span").hide(),-1==d?$("#range_text").text("-"):$("#range_text").text(`Before this interaction, your trust in the AI: ${10*g} / 100.`),$("#range_val").val(g),d+=1,d>=c.length)return $("#main_box_experiment").hide(),void(i?$("#main_box_end_mock").show():$("#main_box_end").show());if(u=c[d],$("#question_span").html(u.question),$("#option1_span").html(u.option1),$("#option2_span").html(u.option2),u.hasOwnProperty("reward_ratio")){let[t,e]=u.reward_ratio;t=Number(t),e=Number(e),m=t/e}else m=1;a=Date.now(),$("#progress").text(`Progress: ${d+1} / ${c.length}`)}$("#button_instructions_next").on("click",(()=>S(1))),$("#button_instructions_prev").on("click",(()=>S(-1))),$("#button_next").on("click",(()=>{if(-1!=d){let t={question_i:d,user_balance_post_interaction:v,user_trust_val:g,initial_user_decision:p,final_user_decision:f,initial_user_confidence:b,final_user_confidence:h};t.times={initial_decision:r-a,initial_confidence:_-r,final_decision:s-_,final_confidence:l-s,trust_decision:Date.now()-l},t.question=u,t.count_exited_page=w,t.ai_assistance_intervention_data=A,t.trust_effect_prediction_data=O,async function(t){if(i)console.log("logged (mock)",t);else{t.url_data=globalThis.url_data,console.log("Data"),"study_id"in t.url_data||(t.url_data.study_id="trialrun_studies"),t.url_data.queue_id=globalThis.uid,console.log("logged",t),console.log("Logging to",e+"log");try{return await $.ajax(e+"log",{data:JSON.stringify({project:"2step-trust-study-interventions/"+t.url_data.study_id,uid:globalThis.uid.replace("/","_")+"_"+t.url_data.prolific_id,payload:JSON.stringify(t)}),type:"POST",contentType:"application/json"})}catch(t){console.log(t)}}}(t),w=0}U()})),$("#range_val").on("input change",(function(){g=$(this).val(),$("#range_text").text(`After this interaction, your current trust in the AI: ${10*g} / 100.`),$("#button_next").show()})),$("#button_initial_decision_option1").on("click",(()=>j(1))),$("#button_initial_decision_option2").on("click",(()=>j(2))),$("#button_initial_confidence_option1").on("click",(()=>I(1))),$("#button_initial_confidence_option2").on("click",(()=>I(2))),$("#button_initial_confidence_option3").on("click",(()=>I(3))),$("#button_final_decision_option1").on("click",(()=>R(1))),$("#button_final_decision_option2").on("click",(()=>R(2))),$("#button_final_confidence_option1").on("click",(()=>J(1))),$("#button_final_confidence_option2").on("click",(()=>J(2))),$("#button_final_confidence_option3").on("click",(()=>J(3)));const P=new URLSearchParams(window.location.search),D=P.get("start"),E=P.get("uid");if(globalThis.url_data=function(t){const e={};for(const[i,n]of t)e[i]=n;return e}(P.entries()),null!=E){if(globalThis.uid=E,"prolific_random"==globalThis.uid){let t=`${Math.floor(10*Math.random())}`.padStart(3,"0");globalThis.uid=`${P.get("prolific_queue_name")}/${t}`}}else{let t=null;for(;null==t;)t=prompt("Enter your user id. Please get in touch if you were not assigned an id but wish to participate in this experiment.");globalThis.uid=t}let q=P.get("intervention_type"),F=Number(P.get("intervention_threshold")),L=Number(P.get("intervention_fixedconfincrease")),Y="true"==P.get("use_user_reported_trust_val");if(null==q&&(q="none"),null==F&&(F=-1),null==L&&(L=0),null==Y&&(Y=!1),!["none","dummy","confidence_inflation","confidence_inflation_fixed","confidence_deflation"].includes(q))throw new Error("Invalid AI Assistance Intervention: "+q);globalThis.url_data.intervention_type=q,globalThis.url_data.intervention_threshold=F,globalThis.uid.startsWith("demo_paper")&&(i=!0),console.log("Running with UID",globalThis.uid),async function(){return await $.getJSON(`baked_queues/${globalThis.uid}.json?t=${Date.now()}`)}().catch((t=>{console.log("Invalid user id."),console.log(globalThis.uid),window.location.reload()})).then((t=>{c=t,null!=D&&(d=parseInt(D)-1,console.log("Starting from",d)),S(0),$("#main_box_instructions").show(),$("#instructions_and_decorations").hide()})),console.log("Starting session with UID:",globalThis.uid);let M=!1;document.onvisibilitychange=()=>{M||(w+=1,M=!0,globalThis.uid.startsWith("demo")||alert("Please don't leave the page. If you do so again, we may restrict paying you."),M=!1)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFDLElBQUksZ0JBQWlCeEMsSUFHakNtQixFQUFrQixHQUNsQkUsRUFBRSwwQkFBMEJHLE9BQzVCSCxFQUFFLGlDQUFpQ0ssTUFBTSxJQUc3Q2EsUUFBUUMsSUFBSSw2QkFBOEJvRCxXQUFXRSxLQUVyRCxJQUFJOEIsR0FBZSxFQUNuQkMsU0FBU0MsbUJBQXFCLEtBQ3JCRixJQUNEbEgsR0FBcUIsRUFDckJrSCxHQUFlLEVBQ1RoQyxXQUFXRSxJQUFLcUIsV0FBVyxTQUM3QlksTUFBTSxnRkFFVkgsR0FBZSxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nvbm5lY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgeyBERVZNT0RFIH0gZnJvbSAnLi9nbG9iYWxzJ1xuaW1wb3J0IHsgTU9DS01PREUgfSBmcm9tICcuL21haW4nXG5cbmxldCBTRVJWRVJfTE9HX1JPT1QgPSBERVZNT0RFID8gXCJodHRwOi8vMTI3LjAuMC4xOjUwMDAvXCIgOiBcImh0dHBzOi8vdGVqYXNzcmluaXZhc2FuLnB5dGhvbmFueXdoZXJlLmNvbS9cIlxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZF9kYXRhKCk6IFByb21pc2U8YW55PiB7XG4gICAgLy8gaW5jbHVkZSB0aW1lc3RhbXAgc28gdGhhdCB0aGluZ3MgZG9uJ3QgZ2V0IGNhY2hlZFxuICAgIGxldCByZXN1bHQgPSBhd2FpdCAkLmdldEpTT04oXG4gICAgICAgIGBiYWtlZF9xdWV1ZXMvJHtnbG9iYWxUaGlzLnVpZH0uanNvbj90PSR7RGF0ZS5ub3coKX1gLFxuICAgIClcbiAgICByZXR1cm4gcmVzdWx0XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nX2RhdGEoZGF0YSk6IFByb21pc2U8YW55PiB7XG4gICAgaWYgKE1PQ0tNT0RFKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibG9nZ2VkIChtb2NrKVwiLCBkYXRhKVxuICAgICAgICByZXR1cm5cbiAgICB9XG4gICAgXG4gICAgZGF0YVtcInVybF9kYXRhXCJdID0gZ2xvYmFsVGhpcy51cmxfZGF0YVxuICAgIGNvbnNvbGUubG9nKFwiRGF0YVwiKVxuICAgIGlmICghKFwic3R1ZHlfaWRcIiBpbiBkYXRhWyd1cmxfZGF0YSddKSkge1xuICAgICAgICBkYXRhWyd1cmxfZGF0YSddW1wic3R1ZHlfaWRcIl0gPSBcInRyaWFscnVuX3N0dWRpZXNcIlxuICAgIH1cbiAgICBkYXRhW1widXJsX2RhdGFcIl1bXCJxdWV1ZV9pZFwiXSA9IGdsb2JhbFRoaXMudWlkXG4gICAgY29uc29sZS5sb2coXCJsb2dnZWRcIiwgZGF0YSlcbiAgICBjb25zb2xlLmxvZyhcIkxvZ2dpbmcgdG9cIiwgU0VSVkVSX0xPR19ST09UICsgXCJsb2dcIilcblxuICAgIHRyeSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICBTRVJWRVJfTE9HX1JPT1QgKyBcImxvZ1wiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeS1pbnRlcnZlbnRpb25zL1wiICsgZGF0YVsndXJsX2RhdGEnXVsnc3R1ZHlfaWQnXSxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBnbG9iYWxUaGlzLnVpZC5yZXBsYWNlKFwiL1wiLCBcIl9cIikgKyBcIl9cIiArIGRhdGFbJ3VybF9kYXRhJ11bJ3Byb2xpZmljX2lkJ10sXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgfVxufSIsImltcG9ydCB7IERFVk1PREUgfSBmcm9tIFwiLi9nbG9iYWxzXCJcbmV4cG9ydCB2YXIgVUlEOiBzdHJpbmdcbmV4cG9ydCB2YXIgTU9DS01PREU6IGJvb2xlYW4gPSBmYWxzZVxuaW1wb3J0IHsgbG9hZF9kYXRhLCBsb2dfZGF0YSB9IGZyb20gJy4vY29ubmVjdG9yJ1xuaW1wb3J0IHsgcGFyYW1zVG9PYmplY3QgfSBmcm9tIFwiLi91dGlsc1wiXG4vL2ltcG9ydCB7IGdldF91c2VyX3RydXN0X2VmZmVjdCwgZ2V0X2FkanVzdGVkX2FpX2NvbmZpZGVuY2V9IGZyb20gXCIuL3J1bl91c2VyX21vZGVsc1wiXG5cbmxldCBVU0VSX01PREVMU19ST09UID0gXCJodHRwczovL3RlamFzc3Jpbml2YXNhbi5weXRob25hbnl3aGVyZS5jb20vXCJcbmxldCB1c2VyX2RlY2lzaW9uX21vZGVsID0gXCJ1c2VyX2FjY2VwdGFuY2VfbW9kZWwtbG9naXN0aWNyZWdyZXNzaW9uLTAuOTM0N3Rlc3RmMVwiXG5sZXQgdHJ1c3RfZWZmZWN0X21vZGVsID0gXCJ0cnVzdF9lZmZlY3RfbW9kZWwtc3ZtX2xpbmVhci0wLjQ2NDR0ZXN0bWFlLTAuOTA5NXRlc3R0ZWRhXCJcblxudmFyIGRhdGE6IGFueVtdID0gW11cbmxldCBxdWVzdGlvbl9pID0gLTFcbmxldCBxdWVzdGlvbjogYW55ID0gbnVsbFxubGV0IGluaXRpYWxfdXNlcl9kZWNpc2lvbjogbnVtYmVyID0gLTFcbmxldCBmaW5hbF91c2VyX2RlY2lzaW9uOiBudW1iZXIgPSAtMVxubGV0IGluaXRpYWxfdXNlcl9jb25maWRlbmNlOiBudW1iZXIgPSAtMVxubGV0IGZpbmFsX3VzZXJfY29uZmlkZW5jZTogbnVtYmVyID0gLTFcbmxldCBiYWxhbmNlID0gMFxubGV0IHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWw6IG51bWJlciA9IDVcbmxldCBiZXRfdmFsX3JhdGlvOiBudW1iZXIgPSAxXG5sZXQgdGltZV9xdWVzdGlvbl9zdGFydDogbnVtYmVyXG5sZXQgdGltZV9maW5hbF9kZWNpc2lvbl9zdGFydDogbnVtYmVyXG5sZXQgdGltZV90cnVzdF9kZWNpc2lvbl9zdGFydDogbnVtYmVyXG5sZXQgdGltZV9pbml0aWFsX2NvbmZpZGVuY2Vfc3RhcnQ6IG51bWJlclxubGV0IHRpbWVfZmluYWxfY29uZmlkZW5jZV9zdGFydDogbnVtYmVyXG5sZXQgaW5zdHJ1Y3Rpb25faTogbnVtYmVyID0gMFxubGV0IGNvdW50X2V4aXRlZF9wYWdlOiBudW1iZXIgPSAwXG5cbmxldCB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsOiBudW1iZXIgPSAwXG5cbnZhciBhbGxfdXNlcl9pbnRlcmFjdGlvbnMgPSBbXVxudmFyIGFpX2Fzc2lzdGFuY2VfaW50ZXJ2ZW50aW9uX2RhdGEgPSB7fVxudmFyIGludGVydmVudGlvbl9kZXRhaWxzID0ge31cbnZhciB0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhID0ge31cbmxldCBmaW5kbmV3Y29uZl9yZXN1bHQ6IGFueVxuXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbWVzc2FnZSB8fCBcIkFzc2VydGlvbiBmYWlsZWRcIjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5leHRfaW5zdHJ1Y3Rpb25zKGluY3JlbWVudDogbnVtYmVyKSB7XG4gICAgaW5zdHJ1Y3Rpb25faSArPSBpbmNyZW1lbnRcblxuICAgIGlmIChpbnN0cnVjdGlvbl9pID09IDApIHtcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX3ByZXZcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgIH1cbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA+PSA2KSB7XG4gICAgICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5zaG93KClcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikudmFsKFwiU3RhcnQgc3R1ZHlcIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2luc3RydWN0aW9uc19hbmRfZGVjb3JhdGlvbnNcIikuaGlkZSgpXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnZhbChcIk5leHRcIilcbiAgICB9XG4gICAgaWYgKGluc3RydWN0aW9uX2kgPT0gNykge1xuICAgICAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5oaWRlKClcbiAgICAgICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLnNob3coKVxuICAgICAgICBuZXh0X3F1ZXN0aW9uKClcbiAgICB9XG5cbiAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5jaGlsZHJlbihcIjpub3QoaW5wdXQpXCIpLmVhY2goKF8sIGVsKSA9PiB7XG4gICAgICAgICQoZWwpLmhpZGUoKVxuICAgIH0pXG4gICAgJChgI2luc3RydWN0aW9uc18ke2luc3RydWN0aW9uX2l9YCkuc2hvdygpXG59XG4kKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5vbihcImNsaWNrXCIsICgpID0+IG5leHRfaW5zdHJ1Y3Rpb25zKCsxKSlcbiQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbmV4dF9pbnN0cnVjdGlvbnMoLTEpKVxuXG4kKFwiI2J1dHRvbl9uZXh0XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGlmIChxdWVzdGlvbl9pICE9IC0xKSB7XG4gICAgICAgIGxldCBsb2dnZWRfZGF0YSA9IHtcbiAgICAgICAgICAgIFwicXVlc3Rpb25faVwiOiBxdWVzdGlvbl9pLFxuICAgICAgICAgICAgXCJ1c2VyX2JhbGFuY2VfcG9zdF9pbnRlcmFjdGlvblwiOiBiYWxhbmNlLFxuICAgICAgICAgICAgXCJ1c2VyX3RydXN0X3ZhbFwiOiB1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsLFxuICAgICAgICAgICAgXCJpbml0aWFsX3VzZXJfZGVjaXNpb25cIjogaW5pdGlhbF91c2VyX2RlY2lzaW9uLFxuICAgICAgICAgICAgXCJmaW5hbF91c2VyX2RlY2lzaW9uXCI6IGZpbmFsX3VzZXJfZGVjaXNpb24sXG4gICAgICAgICAgICBcImluaXRpYWxfdXNlcl9jb25maWRlbmNlXCI6IGluaXRpYWxfdXNlcl9jb25maWRlbmNlLFxuICAgICAgICAgICAgXCJmaW5hbF91c2VyX2NvbmZpZGVuY2VcIjogZmluYWxfdXNlcl9jb25maWRlbmNlLFxuICAgICAgICB9XG5cbiAgICAgICAgbG9nZ2VkX2RhdGFbJ3RpbWVzJ10gPSB7XG4gICAgICAgICAgICBcImluaXRpYWxfZGVjaXNpb25cIjogdGltZV9pbml0aWFsX2NvbmZpZGVuY2Vfc3RhcnQgLSB0aW1lX3F1ZXN0aW9uX3N0YXJ0LFxuICAgICAgICAgICAgXCJpbml0aWFsX2NvbmZpZGVuY2VcIjogdGltZV9maW5hbF9kZWNpc2lvbl9zdGFydCAtIHRpbWVfaW5pdGlhbF9jb25maWRlbmNlX3N0YXJ0LFxuICAgICAgICAgICAgXCJmaW5hbF9kZWNpc2lvblwiOiB0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQgLSB0aW1lX2ZpbmFsX2RlY2lzaW9uX3N0YXJ0LFxuICAgICAgICAgICAgXCJmaW5hbF9jb25maWRlbmNlXCI6IHRpbWVfdHJ1c3RfZGVjaXNpb25fc3RhcnQgLSB0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQsXG4gICAgICAgICAgICBcInRydXN0X2RlY2lzaW9uXCI6IERhdGUubm93KCkgLSB0aW1lX3RydXN0X2RlY2lzaW9uX3N0YXJ0LFxuICAgICAgICB9XG4gICAgICAgIGxvZ2dlZF9kYXRhWydxdWVzdGlvbiddID0gcXVlc3Rpb25cbiAgICAgICAgbG9nZ2VkX2RhdGFbJ2NvdW50X2V4aXRlZF9wYWdlJ10gPSBjb3VudF9leGl0ZWRfcGFnZVxuICAgICAgICBsb2dnZWRfZGF0YVsnYWlfYXNzaXN0YW5jZV9pbnRlcnZlbnRpb25fZGF0YSddID0gYWlfYXNzaXN0YW5jZV9pbnRlcnZlbnRpb25fZGF0YVxuICAgICAgICBsb2dnZWRfZGF0YVsndHJ1c3RfZWZmZWN0X3ByZWRpY3Rpb25fZGF0YSddID0gdHJ1c3RfZWZmZWN0X3ByZWRpY3Rpb25fZGF0YVxuICAgICAgICBsb2dfZGF0YShsb2dnZWRfZGF0YSlcbiAgICAgICAgY291bnRfZXhpdGVkX3BhZ2UgPSAwXG5cbiAgICB9XG4gICAgbmV4dF9xdWVzdGlvbigpXG59KTtcblxuJCgnI3JhbmdlX3ZhbCcpLm9uKCdpbnB1dCBjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCA9ICgkKHRoaXMpLnZhbCgpISBhcyBudW1iZXIpXG4gICAgJChcIiNyYW5nZV90ZXh0XCIpLnRleHQoYEFmdGVyIHRoaXMgaW50ZXJhY3Rpb24sIHlvdXIgY3VycmVudCB0cnVzdCBpbiB0aGUgQUk6ICR7dXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCAqIDEwfSAvIDEwMC5gKVxuICAgICQoXCIjYnV0dG9uX25leHRcIikuc2hvdygpXG59KTtcblxuZnVuY3Rpb24gbWFrZV9pbml0aWFsX3VzZXJfZGVjaXNpb24ob3B0aW9uKSB7XG4gICAgdGltZV9pbml0aWFsX2NvbmZpZGVuY2Vfc3RhcnQgPSBEYXRlLm5vdygpXG4gICAgaW5pdGlhbF91c2VyX2RlY2lzaW9uID0gb3B0aW9uXG4gICAgYXNzZXJ0KG9wdGlvbiA9PSAxIHx8IG9wdGlvbiA9PSAyLCBcIkludmFsaWQgb3B0aW9uIVwiKVxuICAgIGlmIChvcHRpb24gPT0gMSkge1xuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjJcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgIH1cbiAgICAkKFwiI2luaXRpYWxfdXNlcl9jb25maWRlbmNlX2RpdlwiKS5zaG93KClcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG59XG4kKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIikub24oXCJjbGlja1wiLCAoKSA9PiBtYWtlX2luaXRpYWxfdXNlcl9kZWNpc2lvbigxKSlcbiQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5vbihcImNsaWNrXCIsICgpID0+IG1ha2VfaW5pdGlhbF91c2VyX2RlY2lzaW9uKDIpKVxuXG5mdW5jdGlvbiBnZXRfaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UoY29uZl9sZXZlbCkge1xuICAgIHRpbWVfZmluYWxfZGVjaXNpb25fc3RhcnQgPSBEYXRlLm5vdygpXG4gICAgaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UgPSBjb25mX2xldmVsXG4gICAgYXNzZXJ0KGNvbmZfbGV2ZWwgPT0gMSB8fCBjb25mX2xldmVsID09IDIgfHwgY29uZl9sZXZlbCA9PSAzLCBcIkludmFsaWQgb3B0aW9uIVwiKVxuICAgIGlmIChjb25mX2xldmVsID09IDEpIHtcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgfSBlbHNlIGlmIChjb25mX2xldmVsID09IDIpIHtcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgfVxuXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKSAgICBcblxuICAgIGdldF9haV9hc3Npc3RhbmNlKClcbn1cbiQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZ2V0X2luaXRpYWxfdXNlcl9jb25maWRlbmNlKDEpKVxuJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikub24oXCJjbGlja1wiLCAoKSA9PiBnZXRfaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UoMikpXG4kKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uM1wiKS5vbihcImNsaWNrXCIsICgpID0+IGdldF9pbml0aWFsX3VzZXJfY29uZmlkZW5jZSgzKSlcblxuYXN5bmMgZnVuY3Rpb24gZ2V0X2FpX2Fzc2lzdGFuY2UoKSB7XG4gICAgY29uc29sZS5sb2coXCJHZXR0aW5nIEFJIGFzc2lzdGFuY2UuLi5cIilcblxuICAgIGxldCBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSA9IFwiQUkgaXMgZmlndXJpbmcgb3V0IGl0cyBjb25maWRlbmNlLi4uXCJcbiAgICBsZXQgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbFxuICAgIGlmICh1c2VVc2VyUmVwb3J0ZWRUcnVzdFZhbCkge1xuICAgICAgICB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPSAodXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCAtIDUpIC8gMi41XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNpbmcgdXNlciByZXBvcnRlZCB0cnVzdCB2YWx1ZTogXCIsIHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwpXG4gICAgfVxuXG4gICAgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcIm5vbmVcIikge1xuICAgICAgICAvLyBObyBpbnRlcnZlbnRpb24sIGp1c3Qgc2hvdyB0aGUgQUkgYXNzaXN0YW5jZSB0aGF0IGlzIGFscmVhZHkgcG9wdWxhdGVkIGluIHRoZSBzcGFuXG4gICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuXG4gICAgfSBlbHNlIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJkdW1teVwiKSB7XG4gICAgICAgIC8vIFByZXBhcmUgaW5wdXQgdmFyaWFibGVzIGZvciB1c2VyIGRlY2lzaW9uIG1vZGVsXG4gICAgICAgIGxldCB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50ID0gTnVtYmVyKGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKVxuICAgICAgICBsZXQgdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UgPSBpbml0aWFsX3VzZXJfY29uZmlkZW5jZVxuICAgICAgICBsZXQgYWlfY29uZmlkZW5jZSA9IE51bWJlcihxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMFxuICAgICAgICBsZXQgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMgPSB7XG4gICAgICAgICAgICBcInVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnRcIjogdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCxcbiAgICAgICAgICAgIFwidXNlcl9pbml0aWFsX2NvbmZpZGVuY2VcIjogdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgICAgIFwidXNlcl9jdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgIFwidGltZXN0ZXBcIjogcXVlc3Rpb25faSxcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIgZGVjaXNpb24gbW9kZWwgaW5wdXRzOiBcIiwgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMpXG5cbiAgICAgICAgbGV0IHJlc3VsdDogYW55XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZ2V0X3VzZXJfZGVjaXNpb25fcHJvYlwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdXNlcl9kZWNpc2lvbl9tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzKSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICB9XG4gICAgICAgIGxldCB1c2VyX2RlY2lzaW9uX3ByZWRfcHJvYnMgPSByZXN1bHRbXCJwcmVkX3Byb2JzXCJdWzBdXG4gICAgICAgIGxldCBYID0gcmVzdWx0W1wiWFwiXVxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIgZGVjaXNpb24gbW9kZWwgWDogXCIsIFgpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNlcidzIGxpa2VsaWhvb2Qgb2YgZ29pbmcgd2l0aCB0aGUgQUkncyBwcmVkaWN0aW9uOiBcIiwgdXNlcl9kZWNpc2lvbl9wcmVkX3Byb2JzWzFdKVxuICAgICAgICBcbiAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBTdHJpbmcoKChYWzJdICsgMC4xKSAqIDEwMCkudG9GaXhlZCgwKSkgKyBcIiVcIiAgLy8gQ29uZmlkZW5jZSBpbiBBSSdzIHByZWRpY3Rpb25cbiAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHMgPSB7XG4gICAgICAgICAgICBcInVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzXCI6IHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzLFxuICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIjogdXNlcl9kZWNpc2lvbl9wcmVkX3Byb2JzWzFdLFxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJjb25maWRlbmNlX2luZmxhdGlvblwiKSB7XG4gICAgICAgIGlmICh1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPCAwKSB7XG4gICAgICAgICAgICAvLyBQcmVwYXJlIGlucHV0IHZhcmlhYmxlcyBmb3IgdXNlciBkZWNpc2lvbiBtb2RlbFxuICAgICAgICAgICAgbGV0IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQgPSBOdW1iZXIoaW5pdGlhbF91c2VyX2RlY2lzaW9uID09IHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0pXG4gICAgICAgICAgICBsZXQgdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UgPSBpbml0aWFsX3VzZXJfY29uZmlkZW5jZVxuICAgICAgICAgICAgbGV0IGFpX2NvbmZpZGVuY2UgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXS5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDBcbiAgICAgICAgICAgIGxldCB1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyA9IHtcbiAgICAgICAgICAgICAgICBcInVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnRcIjogdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCxcbiAgICAgICAgICAgICAgICBcInVzZXJfaW5pdGlhbF9jb25maWRlbmNlXCI6IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlLFxuICAgICAgICAgICAgICAgIFwiYWlfY29uZmlkZW5jZVwiOiBhaV9jb25maWRlbmNlLFxuICAgICAgICAgICAgICAgIFwidXNlcl9jdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIgZGVjaXNpb24gbW9kZWwgaW5wdXRzOiBcIiwgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMpXG5cbiAgICAgICAgICAgIGxldCBhbGRpZmZfcmVzdWx0OiBhbnlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYWxkaWZmX3Jlc3VsdCA9IGF3YWl0ICQuYWpheChcbiAgICAgICAgICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZXhhbWluZV9lZmZlY3Rfb2ZfdHJ1c3Rfb25fZGVjaXNpb25fbWFraW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBcIjJzdGVwLXRydXN0LXN0dWR5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdXNlcl9kZWNpc2lvbl9tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeSh1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiFcIilcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgYWxfZGlmZiA9IGFsZGlmZl9yZXN1bHRbXCJhbF9kaWZmXCJdXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUmVzdWx0czogXCIsIGFsZGlmZl9yZXN1bHQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIncyBsaWtlbGlob29kIG9mIGdvaW5nIHdpdGggdGhlIEFJJ3MgcHJlZGljdGlvbjogXCIsIGFsZGlmZl9yZXN1bHRbXCJhY3R1YWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIncyBsaWtlbGlob29kIG9mIGdvaW5nIHdpdGggdGhlIEFJJ3MgcHJlZGljdGlvbiB3aXRoIG5ldXRyYWwgdHJ1c3Q6IFwiLCBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWNjZXB0YW5jZSBMaWtlbGlob29kIERpZmY6IFwiLCBhbF9kaWZmKVxuICAgICAgICAgICAgbGV0IHVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kX25ldXRyYWxfdHJ1c3QgPSBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuXG4gICAgICAgICAgICBsZXQgaW50ZXJ2ZW50aW9uX2FwcGxpZWQgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKGFsX2RpZmYgPiBJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fYXBwbGllZCA9IHRydWVcbiAgICAgICAgICAgICAgICAvL0ZpbmQgbmVhcmVzdCBBSSBjb25maWRlbmNlIHdpdGggbWluaW1pemluZyBBTERpZmZcbiAgICAgICAgICAgICAgICBsZXQgZmluZG5ld2NvbmZfaW5wdXRfdmFyaWFibGVzID0ge1xuICAgICAgICAgICAgICAgICAgICBcInVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnRcIjogdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX2luaXRpYWxfY29uZmlkZW5jZVwiOiB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICAgICAgICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdFwiOiB1c2VyX2FjY2VwdGFuY2VfbGlrZWxpaG9vZF9uZXV0cmFsX3RydXN0LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmaW5kbmV3Y29uZl9yZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX01PREVMU19ST09UICsgXCJmaW5kX2Jlc3RfYWljb25mX3RvX2Rpc3BsYXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwiMnN0ZXAtdHJ1c3Qtc3R1ZHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdXNlcl9kZWNpc2lvbl9tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoZmluZG5ld2NvbmZfaW5wdXRfdmFyaWFibGVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiFcIilcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBTdHJpbmcoKGZpbmRuZXdjb25mX3Jlc3VsdFsnbmV3X2NvbmZfdG9fZGlzcGxheSddICogMTAwKS50b0ZpeGVkKDApKSArIFwiJVwiICAvLyBDb25maWRlbmNlIGluIEFJJ3MgcHJlZGljdGlvblxuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZF9yZXN1bHRzXCI6IGFsZGlmZl9yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIFwiZmluZG5ld2NvbmZfcmVzdWx0c1wiOiBmaW5kbmV3Y29uZl9yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIFwiY29uZl9hY3R1YWxcIjogcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJjb25mX25ld1wiOiBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9hY3R1YWx0cnVzdFwiOiBhbGRpZmZfcmVzdWx0W1wiYWN0dWFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1hY3R1YWxjb25mX25ldXRyYWx0cnVzdFwiOiBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtbmV3Y29uZl9hY3R1YWx0cnVzdFwiOiBmaW5kbmV3Y29uZl9yZXN1bHRbXCJuZXdfY29uZl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSA9IHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl1cbiAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fYXBwbGllZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kX3Jlc3VsdHNcIjogYWxkaWZmX3Jlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgXCJjdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgXCJjb25mX2FjdHVhbFwiOiBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1hY3R1YWxjb25mX2FjdHVhbHRydXN0XCI6IGFsZGlmZl9yZXN1bHRbXCJhY3R1YWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kLWFjdHVhbGNvbmZfbmV1dHJhbHRydXN0XCI6IGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImludGVydmVudGlvbl9hcHBsaWVkXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHtcImludGVydmVudGlvbl9hcHBsaWVkXCI6IGZhbHNlfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJjb25maWRlbmNlX2luZmxhdGlvbl9maXhlZFwiKSB7XG4gICAgICAgIGlmICh1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwgPCAwICYmIGluaXRpYWxfdXNlcl9kZWNpc2lvbiAhPSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKSB7XG4gICAgICAgICAgICAvLyBQcmVwYXJlIGlucHV0IHZhcmlhYmxlcyBmb3IgdXNlciBkZWNpc2lvbiBtb2RlbFxuICAgICAgICAgICAgbGV0IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQgPSBOdW1iZXIoaW5pdGlhbF91c2VyX2RlY2lzaW9uID09IHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0pXG4gICAgICAgICAgICBsZXQgdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UgPSBpbml0aWFsX3VzZXJfY29uZmlkZW5jZVxuICAgICAgICAgICAgbGV0IGFpX2NvbmZpZGVuY2UgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXS5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDBcbiAgICAgICAgICAgIGxldCB1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyA9IHtcbiAgICAgICAgICAgICAgICBcInVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnRcIjogdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCxcbiAgICAgICAgICAgICAgICBcInVzZXJfaW5pdGlhbF9jb25maWRlbmNlXCI6IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlLFxuICAgICAgICAgICAgICAgIFwiYWlfY29uZmlkZW5jZVwiOiBhaV9jb25maWRlbmNlLFxuICAgICAgICAgICAgICAgIFwidXNlcl9jdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIgZGVjaXNpb24gbW9kZWwgaW5wdXRzOiBcIiwgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMpXG5cbiAgICAgICAgICAgIGxldCBhbGRpZmZfcmVzdWx0OiBhbnlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYWxkaWZmX3Jlc3VsdCA9IGF3YWl0ICQuYWpheChcbiAgICAgICAgICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZXhhbWluZV9lZmZlY3Rfb2ZfdHJ1c3Rfb25fZGVjaXNpb25fbWFraW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBcIjJzdGVwLXRydXN0LXN0dWR5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdXNlcl9kZWNpc2lvbl9tb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeSh1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiFcIilcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgYWxfZGlmZiA9IGFsZGlmZl9yZXN1bHRbXCJhbF9kaWZmXCJdXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiUmVzdWx0czogXCIsIGFsZGlmZl9yZXN1bHQpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIncyBsaWtlbGlob29kIG9mIGdvaW5nIHdpdGggdGhlIEFJJ3MgcHJlZGljdGlvbjogXCIsIGFsZGlmZl9yZXN1bHRbXCJhY3R1YWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIncyBsaWtlbGlob29kIG9mIGdvaW5nIHdpdGggdGhlIEFJJ3MgcHJlZGljdGlvbiB3aXRoIG5ldXRyYWwgdHJ1c3Q6IFwiLCBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWNjZXB0YW5jZSBMaWtlbGlob29kIERpZmY6IFwiLCBhbF9kaWZmKVxuICAgICAgICAgICAgbGV0IHVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kX25ldXRyYWxfdHJ1c3QgPSBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXVxuICAgICAgICAgICAgbGV0IG5ld19jb25maWRlbmNlID0gTWF0aC5taW4oMSwgYWlfY29uZmlkZW5jZSArIEludGVydmVudGlvbkZpeGVkQ29uZkluY3JlYXNlKVxuICAgICAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBTdHJpbmcoKCBuZXdfY29uZmlkZW5jZSAqIDEwMCkudG9GaXhlZCgwKSkgKyBcIiVcIlxuICAgICAgICAgICAgbGV0IGludGVydmVudGlvbl9hcHBsaWVkID0gZmFsc2VcbiAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kX3Jlc3VsdHNcIjogYWxkaWZmX3Jlc3VsdCxcbiAgICAgICAgICAgICAgICBcImN1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICAgICAgICAgIFwiY29uZl9hY3R1YWxcIjogcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXSxcbiAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1hY3R1YWxjb25mX2FjdHVhbHRydXN0XCI6IGFsZGlmZl9yZXN1bHRbXCJhY3R1YWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0sXG4gICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9uZXV0cmFsdHJ1c3RcIjogYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0sXG4gICAgICAgICAgICAgICAgXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiOiB0cnVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHMgPSB7XCJpbnRlcnZlbnRpb25fYXBwbGllZFwiOiBmYWxzZX1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwiY29uZmlkZW5jZV9kZWZsYXRpb25cIikge1xuICAgICAgICBpZiAodXNlcl9jdXJyZW50X3RydXN0X2xldmVsID4gMCkge1xuICAgICAgICAgICAgLy8gUHJlcGFyZSBpbnB1dCB2YXJpYWJsZXMgZm9yIHVzZXIgZGVjaXNpb24gbW9kZWxcbiAgICAgICAgICAgIGxldCB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50ID0gTnVtYmVyKGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKVxuICAgICAgICAgICAgbGV0IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlID0gaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VcbiAgICAgICAgICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgICAgICAgICBsZXQgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMgPSB7XG4gICAgICAgICAgICAgICAgXCJ1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50XCI6IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQsXG4gICAgICAgICAgICAgICAgXCJ1c2VyX2luaXRpYWxfY29uZmlkZW5jZVwiOiB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICBcInVzZXJfY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICAgICAgXCJ0aW1lc3RlcFwiOiBxdWVzdGlvbl9pLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGRlY2lzaW9uIG1vZGVsIGlucHV0czogXCIsIHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzKVxuXG4gICAgICAgICAgICBsZXQgYWxkaWZmX3Jlc3VsdDogYW55XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFsZGlmZl9yZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImV4YW1pbmVfZWZmZWN0X29mX3RydXN0X29uX2RlY2lzaW9uX21ha2luZ1wiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU6IHVzZXJfZGVjaXNpb25fbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkodXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGFsX2RpZmYgPSBhbGRpZmZfcmVzdWx0W1wiYWxfZGlmZlwiXVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlJlc3VsdHM6IFwiLCBhbGRpZmZfcmVzdWx0KVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyJ3MgbGlrZWxpaG9vZCBvZiBnb2luZyB3aXRoIHRoZSBBSSdzIHByZWRpY3Rpb246IFwiLCBhbGRpZmZfcmVzdWx0W1wiYWN0dWFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyJ3MgbGlrZWxpaG9vZCBvZiBnb2luZyB3aXRoIHRoZSBBSSdzIHByZWRpY3Rpb24gd2l0aCBuZXV0cmFsIHRydXN0OiBcIiwgYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjY2VwdGFuY2UgTGlrZWxpaG9vZCBEaWZmOiBcIiwgYWxfZGlmZilcbiAgICAgICAgICAgIGxldCB1c2VyX2FjY2VwdGFuY2VfbGlrZWxpaG9vZF9uZXV0cmFsX3RydXN0ID0gYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl1cblxuICAgICAgICAgICAgbGV0IGludGVydmVudGlvbl9hcHBsaWVkID0gZmFsc2VcbiAgICAgICAgICAgIGlmIChhbF9kaWZmID4gSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2FwcGxpZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgLy9GaW5kIG5lYXJlc3QgQUkgY29uZmlkZW5jZSB3aXRoIG1pbmltaXppbmcgQUxEaWZmXG4gICAgICAgICAgICAgICAgbGV0IGZpbmRuZXdjb25mX2lucHV0X3ZhcmlhYmxlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50XCI6IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9pbml0aWFsX2NvbmZpZGVuY2VcIjogdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9jdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgXCJ0aW1lc3RlcFwiOiBxdWVzdGlvbl9pLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kX25ldXRyYWxfdHJ1c3RcIjogdXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZmluZG5ld2NvbmZfcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZmluZF9iZXN0X2FpY29uZl90b19kaXNwbGF5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBcIjJzdGVwLXRydXN0LXN0dWR5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU6IHVzZXJfZGVjaXNpb25fbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KGZpbmRuZXdjb25mX2lucHV0X3ZhcmlhYmxlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gU3RyaW5nKChmaW5kbmV3Y29uZl9yZXN1bHRbJ25ld19jb25mX3RvX2Rpc3BsYXknXSAqIDEwMCkudG9GaXhlZCgwKSkgKyBcIiVcIiAgLy8gQ29uZmlkZW5jZSBpbiBBSSdzIHByZWRpY3Rpb25cbiAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RfcmVzdWx0c1wiOiBhbGRpZmZfcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBcImZpbmRuZXdjb25mX3Jlc3VsdHNcIjogZmluZG5ld2NvbmZfcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBcImN1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICAgICAgICAgICAgICBcImNvbmZfYWN0dWFsXCI6IHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiY29uZl9uZXdcIjogZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kLWFjdHVhbGNvbmZfYWN0dWFsdHJ1c3RcIjogYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9uZXV0cmFsdHJ1c3RcIjogYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kLW5ld2NvbmZfYWN0dWFsdHJ1c3RcIjogZmluZG5ld2NvbmZfcmVzdWx0W1wibmV3X2NvbmZfYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImludGVydmVudGlvbl9hcHBsaWVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2FwcGxpZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZF9yZXN1bHRzXCI6IGFsZGlmZl9yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIFwiY29uZl9hY3R1YWxcIjogcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9hY3R1YWx0cnVzdFwiOiBhbGRpZmZfcmVzdWx0W1wiYWN0dWFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1hY3R1YWxjb25mX25ldXRyYWx0cnVzdFwiOiBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSA9IHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl1cbiAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzID0ge1wiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIjogZmFsc2V9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhaV9hc3Npc3RhbmNlX2ludGVydmVudGlvbl9kYXRhID0ge1xuICAgICAgICBcImludGVydmVudGlvbl90eXBlXCI6IEFJSW50ZXJ2ZW50aW9uVHlwZSxcbiAgICAgICAgXCJhY3R1YWxfYWlfY29uZmlkZW5jZVwiOiBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLFxuICAgICAgICBcImRpc3BsYXllZF9haV9jb25maWRlbmNlXCI6IGRpc3BsYXllZF9haV9jb25maWRlbmNlLFxuICAgICAgICBcImludGVydmVudGlvbl9kZXRhaWxzXCI6IGludGVydmVudGlvbl9kZXRhaWxzLFxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkFJIEFzc2lzdGFuY2UgSW50ZXJ2ZW50aW9uIERhdGE6IFwiLCBhaV9hc3Npc3RhbmNlX2ludGVydmVudGlvbl9kYXRhKVxuXG4gICAgJChcIiNhaV9wcmVkaWN0aW9uX3NwYW5cIikuaHRtbChcIk9wdGlvbiBcIiArIHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0pXG4gICAgJChcIiNhaV9jb25maWRlbmNlX3NwYW5cIikuaHRtbChkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSlcblxuICAgICQoXCIjYWlfYXNzaXN0YW5jZV9kaXZcIikuc2hvdygpXG4gICAgJChcIiNmaW5hbF91c2VyX2RlY2lzaW9uX2RpdlwiKS5zaG93KClcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0X3RydXN0X2VmZmVjdCgpIHtcbiAgICAvLyBHZXQgdHJ1c3QgZWZmZWN0IGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgbGV0IGluaXRpYWxfdXNlcl9jb3JyZWN0bmVzcyA9IE51bWJlcihpbml0aWFsX3VzZXJfZGVjaXNpb24gPT0gcXVlc3Rpb24hW1wiY29ycmVjdF9vcHRpb25cIl0pXG4gICAgbGV0IGFpX2NvcnJlY3RuZXNzID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0gPT0gcXVlc3Rpb24hW1wiY29ycmVjdF9vcHRpb25cIl0pXG4gICAgbGV0IGZpbmFsX3VzZXJfY29ycmVjdG5lc3MgPSBOdW1iZXIoZmluYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJjb3JyZWN0X29wdGlvblwiXSlcbiAgICBsZXQgYWlfY29uZmlkZW5jZSA9IE51bWJlcihxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMFxuICAgIGxldCB0cnVzdF9lZmZlY3RfaW5wdXRzID0ge1xuICAgICAgICBcImluaXRpYWxfdXNlcl9jb3JyZWN0bmVzc1wiOiBpbml0aWFsX3VzZXJfY29ycmVjdG5lc3MsXG4gICAgICAgIFwiYWlfY29ycmVjdG5lc3NcIjogYWlfY29ycmVjdG5lc3MsXG4gICAgICAgIFwiZmluYWxfdXNlcl9jb3JyZWN0bmVzc1wiOiBmaW5hbF91c2VyX2NvcnJlY3RuZXNzLFxuICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgXCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbCxcbiAgICAgICAgXCJ0aW1lc3RlcFwiOiBxdWVzdGlvbl9pLFxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIlRydXN0IGVmZmVjdCBpbnB1dHM6IFwiLCB0cnVzdF9lZmZlY3RfaW5wdXRzKVxuICAgIC8vbGV0IHRydXN0X2VmZmVjdCA9IGdldF91c2VyX3RydXN0X2VmZmVjdCh0cnVzdF9lZmZlY3RfaW5wdXRzKVxuICAgIGxldCByZXN1bHQ6IGFueVxuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0ICQuYWpheChcbiAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImdldF90cnVzdF9lZmZlY3RcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwiMnN0ZXAtdHJ1c3Qtc3R1ZHlcIixcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdHJ1c3RfZWZmZWN0X21vZGVsLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeSh0cnVzdF9lZmZlY3RfaW5wdXRzKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiFcIilcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIlRydXN0IGVmZmVjdCBwcmVkaWN0aW9uIHJlc3VsdDogXCIsIHJlc3VsdClcbiAgICBsZXQgdHJ1c3RfZWZmZWN0ID0gYXdhaXQgcmVzdWx0W1widHJ1c3RfZWZmZWN0XCJdXG5cbiAgICB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsID0gdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbCArIHRydXN0X2VmZmVjdFxuICAgIHRydXN0X2VmZmVjdF9wcmVkaWN0aW9uX2RhdGEgPSB7XG4gICAgICAgIFwibW9kZWxfaW5wdXRzXCI6IHRydXN0X2VmZmVjdF9pbnB1dHMsXG4gICAgICAgIFwicHJlZGljdGVkX3RydXN0X2VmZmVjdFwiOiB0cnVzdF9lZmZlY3QsXG4gICAgICAgIFwidXNlcl9uZXdfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbCxcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gbWFrZV9maW5hbF91c2VyX2RlY2lzaW9uKG9wdGlvbikge1xuICAgIHRpbWVfZmluYWxfY29uZmlkZW5jZV9zdGFydCA9IERhdGUubm93KClcbiAgICBmaW5hbF91c2VyX2RlY2lzaW9uID0gb3B0aW9uXG4gICAgYXNzZXJ0KG9wdGlvbiA9PSAxIHx8IG9wdGlvbiA9PSAyLCBcIkludmFsaWQgb3B0aW9uIVwiKVxuICAgIGlmIChvcHRpb24gPT0gMSkge1xuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICB9XG4gICAgJChcIiNmaW5hbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLnNob3coKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxufVxuJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5vbihcImNsaWNrXCIsICgpID0+IG1ha2VfZmluYWxfdXNlcl9kZWNpc2lvbigxKSlcbiQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikub24oXCJjbGlja1wiLCAoKSA9PiBtYWtlX2ZpbmFsX3VzZXJfZGVjaXNpb24oMikpXG5cbmZ1bmN0aW9uIGdldF9maW5hbF91c2VyX2NvbmZpZGVuY2UoY29uZl9sZXZlbCkge1xuICAgIHRpbWVfdHJ1c3RfZGVjaXNpb25fc3RhcnQgPSBEYXRlLm5vdygpXG4gICAgZmluYWxfdXNlcl9jb25maWRlbmNlID0gY29uZl9sZXZlbFxuICAgIGFzc2VydChjb25mX2xldmVsID09IDEgfHwgY29uZl9sZXZlbCA9PSAyIHx8IGNvbmZfbGV2ZWwgPT0gMywgXCJJbnZhbGlkIG9wdGlvbiFcIilcbiAgICBpZiAoY29uZl9sZXZlbCA9PSAxKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSBpZiAoY29uZl9sZXZlbCA9PSAyKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgIH1cblxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgIHNob3dfcmVzdWx0KClcbn1cbiQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5vbihcImNsaWNrXCIsICgpID0+IGdldF9maW5hbF91c2VyX2NvbmZpZGVuY2UoMSkpXG4kKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjJcIikub24oXCJjbGlja1wiLCAoKSA9PiBnZXRfZmluYWxfdXNlcl9jb25maWRlbmNlKDIpKVxuJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZ2V0X2ZpbmFsX3VzZXJfY29uZmlkZW5jZSgzKSlcblxuXG5mdW5jdGlvbiBzaG93X3Jlc3VsdCgpIHtcblxuICAgIGxldCBjb3JyZWN0X29wdGlvbjogbnVtYmVyID0gcXVlc3Rpb24hW1wiY29ycmVjdF9vcHRpb25cIl1cbiAgICBsZXQgdXNlcl9pc19jb3JyZWN0OiBib29sZWFuID0gY29ycmVjdF9vcHRpb24gPT0gZmluYWxfdXNlcl9kZWNpc2lvblxuXG4gICAgbGV0IGFpX2lzX2NvcnJlY3Q6IGJvb2xlYW4gPSBxdWVzdGlvbiFbXCJhaV9pc19jb3JyZWN0XCJdXG4gICAgbGV0IG1lc3NhZ2UgPSBcIkNvcnJlY3QgYW5zd2VyOiA8Yj5PcHRpb24gXCIgKyBjb3JyZWN0X29wdGlvbiArIFwiPC9iPi48YnI+XCJcbiAgICBpZiAodXNlcl9pc19jb3JyZWN0KSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCJZb3UgcGlja2VkIE9wdGlvbiBcIiArIGZpbmFsX3VzZXJfZGVjaXNpb24gKyBcIiwgd2hpY2ggd2FzIDxzcGFuIGNsYXNzPSdjb2xvcl9jb3JyZWN0Jz48Yj5jb3JyZWN0PC9iPjwvc3Bhbj4uPGJyPlwiXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXNzYWdlICs9IFwiWW91IHBpY2tlZCBPcHRpb24gXCIgKyBmaW5hbF91c2VyX2RlY2lzaW9uICsgXCIsIHdoaWNoIHdhcyA8c3BhbiBjbGFzcz0nY29sb3JfaW5jb3JyZWN0Jz48Yj5pbmNvcnJlY3Q8L2I+PC9zcGFuPi48YnI+XCJcbiAgICB9XG4gICAgaWYgKGFpX2lzX2NvcnJlY3QpIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIlRoZSBBSSBwaWNrZWQgT3B0aW9uIFwiICsgcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSArIFwiLCB3aGljaCB3YXMgPHNwYW4gY2xhc3M9J2NvbG9yX2NvcnJlY3QnPjxiPmNvcnJlY3Q8Yj48L3NwYW4+Ljxicj5cIlxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIlRoZSBBSSBwaWNrZWQgT3B0aW9uIFwiICsgcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSArIFwiLCB3aGljaCB3YXMgPHNwYW4gY2xhc3M9J2NvbG9yX2luY29ycmVjdCc+PGI+aW5jb3JyZWN0PC9iPjwvc3Bhbj4uPGJyPlwiXG4gICAgfVxuICAgIGlmICh1c2VyX2lzX2NvcnJlY3QpIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIjxzcGFuIGNsYXNzPSdjb2xvcl9jb3JyZWN0Jz48Yj5Zb3UgcmVjZWl2ZSBhIHJld2FyZCBvZiAkMC4xMC48L2I+PC9zcGFuPlwiXG4gICAgICAgIGJhbGFuY2UgKz0gMC4xXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXNzYWdlICs9IFwiPHNwYW4gY2xhc3M9J2NvbG9yX2luY29ycmVjdCc+PGI+WW91IGRvIG5vdCByZWNlaXZlIGFueSByZXdhcmQuPC9iPjwvc3Bhbj5cIlxuICAgIH1cblxuICAgIG1lc3NhZ2UgKz0gXCI8YnI+XCJcbiAgICAvL2lmIChzdWNjZXNzKSB7XG4gICAgLy8gICAgbWVzc2FnZSArPSBgWW91IGdhaW4gJCR7KGJldF92YWwqYmV0X3ZhbF9yYXRpbykudG9GaXhlZCgyKX0uYFxuICAgIC8vICAgIGJhbGFuY2UgKz0gYmV0X3ZhbCpiZXRfdmFsX3JhdGlvXG4gICAgLy99IGVsc2Uge1xuICAgIC8vICAgIG1lc3NhZ2UgKz0gYFlvdSBsb3NlICQkeyhiZXRfdmFsLzEuMCkudG9GaXhlZCgyKX0uYFxuICAgIC8vICAgIGJhbGFuY2UgLT0gYmV0X3ZhbC8xLjBcbiAgICAvLyAgICBiYWxhbmNlID0gTWF0aC5tYXgoMCwgYmFsYW5jZSlcbiAgICAvL31cbiAgICBnZXRfdHJ1c3RfZWZmZWN0KClcblxuICAgICQoXCIjYmFsYW5jZVwiKS50ZXh0KGBCYWxhbmNlOiAkJHtiYWxhbmNlLnRvRml4ZWQoMil9ICsgJDEuMGApXG4gICAgJChcIiNyZXN1bHRfc3BhblwiKS5odG1sKG1lc3NhZ2UpXG4gICAgLy8kKFwiI2J1dHRvbl9uZXh0XCIpLnNob3coKVxuICAgICQoXCIjcmVzdWx0X3NwYW5cIikuc2hvdygpXG4gICAgLy8kKFwiI2J1dHRvbl9wbGFjZV9iZXRcIikuaGlkZSgpXG4gICAgJChcIiNob3dfY29uZmlkZW50X2RpdlwiKS5zaG93KClcblxuICAgIC8vJCgnI3JhbmdlX3ZhbCcpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbn1cblxuLy8kKFwiI2J1dHRvbl9wbGFjZV9iZXRcIikub24oXCJjbGlja1wiLCBzaG93X3Jlc3VsdClcblxuZnVuY3Rpb24gbmV4dF9xdWVzdGlvbigpIHtcbiAgICAvLyByZXN0b3JlIHByZXZpb3VzIHN0YXRlIG9mIFVJXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG5cbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG5cbiAgICAkKFwiI2FpX2Fzc2lzdGFuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjZmluYWxfdXNlcl9kZWNpc2lvbl9kaXZcIikuaGlkZSgpXG4gICAgJChcIiNmaW5hbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoJyNyYW5nZV92YWwnKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2hvd19jb25maWRlbnRfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjYnV0dG9uX3BsYWNlX2JldFwiKS5oaWRlKClcbiAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLmhpZGUoKVxuICAgICQoXCIjcmVzdWx0X3NwYW5cIikuaGlkZSgpXG4gICAgaWYgKHF1ZXN0aW9uX2kgPT0gLTEpIHtcbiAgICAgICAgJChcIiNyYW5nZV90ZXh0XCIpLnRleHQoXCItXCIpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAkKFwiI3JhbmdlX3RleHRcIikudGV4dChgQmVmb3JlIHRoaXMgaW50ZXJhY3Rpb24sIHlvdXIgdHJ1c3QgaW4gdGhlIEFJOiAke3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgKiAxMH0gLyAxMDAuYClcbiAgICB9XG4gICAgJChcIiNyYW5nZV92YWxcIikudmFsKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwpXG5cbiAgICBxdWVzdGlvbl9pICs9IDFcbiAgICBpZiAocXVlc3Rpb25faSA+PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAkKFwiI21haW5fYm94X2V4cGVyaW1lbnRcIikuaGlkZSgpXG4gICAgICAgIGlmIChNT0NLTU9ERSkge1xuICAgICAgICAgICAgJChcIiNtYWluX2JveF9lbmRfbW9ja1wiKS5zaG93KClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoXCIjbWFpbl9ib3hfZW5kXCIpLnNob3coKVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICBxdWVzdGlvbiA9IGRhdGFbcXVlc3Rpb25faV1cblxuICAgICQoXCIjcXVlc3Rpb25fc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcInF1ZXN0aW9uXCJdKVxuICAgICQoXCIjb3B0aW9uMV9zcGFuXCIpLmh0bWwocXVlc3Rpb24hW1wib3B0aW9uMVwiXSlcbiAgICAkKFwiI29wdGlvbjJfc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcIm9wdGlvbjJcIl0pXG4gICAgLy8kKFwiI2FpX3ByZWRpY3Rpb25fc3BhblwiKS5odG1sKFwiT3B0aW9uIFwiICsgcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSlcbiAgICAvLyQoXCIjYWlfY29uZmlkZW5jZV9zcGFuXCIpLmh0bWwocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXSlcblxuICAgIC8vIHNldCBiZXQgdmFsdWUgcmF0aW9cbiAgICBpZihxdWVzdGlvbi5oYXNPd25Qcm9wZXJ0eShcInJld2FyZF9yYXRpb1wiKSkge1xuICAgICAgICBsZXQgW3JhdGlvMSwgcmF0aW8yXSA9IHF1ZXN0aW9uW1wicmV3YXJkX3JhdGlvXCJdXG4gICAgICAgIHJhdGlvMSA9IE51bWJlcihyYXRpbzEpXG4gICAgICAgIHJhdGlvMiA9IE51bWJlcihyYXRpbzIpXG4gICAgICAgIGJldF92YWxfcmF0aW8gPSByYXRpbzEvcmF0aW8yXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYmV0X3ZhbF9yYXRpbyA9IDFcbiAgICB9XG5cbiAgICB0aW1lX3F1ZXN0aW9uX3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgICQoXCIjcHJvZ3Jlc3NcIikudGV4dChgUHJvZ3Jlc3M6ICR7cXVlc3Rpb25faSArIDF9IC8gJHtkYXRhLmxlbmd0aH1gKVxufVxuXG4vLyBnZXQgdXNlciBpZCBhbmQgbG9hZCBxdWV1ZVxuLy8gdHJ5IHRvIHNlZSBpZiBzdGFydCBvdmVycmlkZSB3YXMgcGFzc2VkXG5jb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuY29uc3Qgc3RhcnRPdmVycmlkZSA9IHVybFBhcmFtcy5nZXQoJ3N0YXJ0Jyk7XG5jb25zdCBVSURGcm9tVVJMID0gdXJsUGFyYW1zLmdldChcInVpZFwiKVxuZ2xvYmFsVGhpcy51cmxfZGF0YSA9IHBhcmFtc1RvT2JqZWN0KHVybFBhcmFtcy5lbnRyaWVzKCkpXG5cbmlmIChVSURGcm9tVVJMICE9IG51bGwpIHtcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFVJREZyb21VUkwgYXMgc3RyaW5nXG4gICAgaWYgKGdsb2JhbFRoaXMudWlkID09IFwicHJvbGlmaWNfcmFuZG9tXCIpIHtcbiAgICAgICAgbGV0IHF1ZXVlX2lkID0gYCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApfWAucGFkU3RhcnQoMywgXCIwXCIpXG4gICAgICAgIGdsb2JhbFRoaXMudWlkID0gYCR7dXJsUGFyYW1zLmdldChcInByb2xpZmljX3F1ZXVlX25hbWVcIil9LyR7cXVldWVfaWR9YFxuICAgIH1cbn0gZWxzZSBpZiAoREVWTU9ERSkge1xuICAgIGdsb2JhbFRoaXMudWlkID0gXCJkZW1vXCJcbn0gZWxzZSB7XG4gICAgbGV0IFVJRF9tYXliZTogYW55ID0gbnVsbFxuICAgIHdoaWxlIChVSURfbWF5YmUgPT0gbnVsbCkge1xuICAgICAgICBVSURfbWF5YmUgPSBwcm9tcHQoXCJFbnRlciB5b3VyIHVzZXIgaWQuIFBsZWFzZSBnZXQgaW4gdG91Y2ggaWYgeW91IHdlcmUgbm90IGFzc2lnbmVkIGFuIGlkIGJ1dCB3aXNoIHRvIHBhcnRpY2lwYXRlIGluIHRoaXMgZXhwZXJpbWVudC5cIilcbiAgICB9XG4gICAgZ2xvYmFsVGhpcy51aWQgPSBVSURfbWF5YmUhXG59XG5cbmNvbnN0IHZhbGlkQUlJbnRlcnZlbnRpb25zID0gW1wibm9uZVwiLCBcImR1bW15XCIsIFwiY29uZmlkZW5jZV9pbmZsYXRpb25cIiwgXCJjb25maWRlbmNlX2luZmxhdGlvbl9maXhlZFwiLCBcImNvbmZpZGVuY2VfZGVmbGF0aW9uXCJdXG5sZXQgQUlJbnRlcnZlbnRpb25UeXBlID0gdXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl90eXBlXCIpXG5sZXQgSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkID0gTnVtYmVyKHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fdGhyZXNob2xkXCIpKVxubGV0IEludGVydmVudGlvbkZpeGVkQ29uZkluY3JlYXNlID0gTnVtYmVyKHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fZml4ZWRjb25maW5jcmVhc2VcIikpXG5sZXQgdXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwgPSB1cmxQYXJhbXMuZ2V0KFwidXNlX3VzZXJfcmVwb3J0ZWRfdHJ1c3RfdmFsXCIpID09IFwidHJ1ZVwiXG5pZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IG51bGwpIHtcbiAgICBBSUludGVydmVudGlvblR5cGUgPSBcIm5vbmVcIlxufSBcbmlmIChJbnRlcnZlbnRpb25BTERpZmZUaHJlc2hvbGQgPT0gbnVsbCkge1xuICAgIEludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZCA9IC0xXG59XG5pZiAoSW50ZXJ2ZW50aW9uRml4ZWRDb25mSW5jcmVhc2UgPT0gbnVsbCkge1xuICAgIEludGVydmVudGlvbkZpeGVkQ29uZkluY3JlYXNlID0gMFxufVxuaWYgKHVzZVVzZXJSZXBvcnRlZFRydXN0VmFsID09IG51bGwpIHtcbiAgICB1c2VVc2VyUmVwb3J0ZWRUcnVzdFZhbCA9IGZhbHNlXG59XG5cbi8vQXNzZXJ0IHRoYXQgdGhlIEFJQXNzaXN0YW5jZUludGVydmVudGlvbiBpcyBvbmUgb2YgdGhlIHZhbGlkIHZhbHVlc1xuaWYgKCF2YWxpZEFJSW50ZXJ2ZW50aW9ucy5pbmNsdWRlcyhBSUludGVydmVudGlvblR5cGUhKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQUkgQXNzaXN0YW5jZSBJbnRlcnZlbnRpb246IFwiICsgQUlJbnRlcnZlbnRpb25UeXBlKVxufVxuZ2xvYmFsVGhpcy51cmxfZGF0YVtcImludGVydmVudGlvbl90eXBlXCJdID0gQUlJbnRlcnZlbnRpb25UeXBlXG5nbG9iYWxUaGlzLnVybF9kYXRhW1wiaW50ZXJ2ZW50aW9uX3RocmVzaG9sZFwiXSA9IEludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZFxuXG4vLyB2ZXJzaW9uIGZvciBwYXBlclxuaWYgKGdsb2JhbFRoaXMudWlkLnN0YXJ0c1dpdGgoXCJkZW1vX3BhcGVyXCIpKSB7XG4gICAgTU9DS01PREUgPSB0cnVlXG59IGVsc2Uge1xuXG59XG5jb25zb2xlLmxvZyhcIlJ1bm5pbmcgd2l0aCBVSURcIiwgZ2xvYmFsVGhpcy51aWQpXG5sb2FkX2RhdGEoKS5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgLy9hbGVydChcIkludmFsaWQgdXNlciBpZC5cIilcbiAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgdXNlciBpZC5cIilcbiAgICBjb25zb2xlLmxvZyhnbG9iYWxUaGlzLnVpZCEpXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG59XG4pLnRoZW4oKG5ld19kYXRhKSA9PiB7XG4gICAgZGF0YSA9IG5ld19kYXRhXG4gICAgaWYgKHN0YXJ0T3ZlcnJpZGUgIT0gbnVsbCkge1xuICAgICAgICBxdWVzdGlvbl9pID0gcGFyc2VJbnQoc3RhcnRPdmVycmlkZSkgLSAxXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgZnJvbVwiLCBxdWVzdGlvbl9pKVxuICAgIH1cbiAgICAvLyBuZXh0X3F1ZXN0aW9uKClcbiAgICBuZXh0X2luc3RydWN0aW9ucygwKVxuICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLnNob3coKVxuICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5oaWRlKClcbn0pXG5cbmNvbnNvbGUubG9nKFwiU3RhcnRpbmcgc2Vzc2lvbiB3aXRoIFVJRDpcIiwgZ2xvYmFsVGhpcy51aWQhKVxuXG5sZXQgYWxlcnRfYWN0aXZlID0gZmFsc2VcbmRvY3VtZW50Lm9udmlzaWJpbGl0eWNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAoIWFsZXJ0X2FjdGl2ZSkge1xuICAgICAgICBjb3VudF9leGl0ZWRfcGFnZSArPSAxXG4gICAgICAgIGFsZXJ0X2FjdGl2ZSA9IHRydWVcbiAgICAgICAgaWYgKCEoZ2xvYmFsVGhpcy51aWQhLnN0YXJ0c1dpdGgoXCJkZW1vXCIpKSAmJiAhKERFVk1PREUpKSB7XG4gICAgICAgICAgICBhbGVydChcIlBsZWFzZSBkb24ndCBsZWF2ZSB0aGUgcGFnZS4gSWYgeW91IGRvIHNvIGFnYWluLCB3ZSBtYXkgcmVzdHJpY3QgcGF5aW5nIHlvdS5cIilcbiAgICAgICAgfVxuICAgICAgICBhbGVydF9hY3RpdmUgPSBmYWxzZVxuICAgIH1cbn0iLCJmdW5jdGlvbiBwYXJhbXNUb09iamVjdChlbnRyaWVzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9XG4gIC8vIGVhY2ggJ2VudHJ5JyBpcyBhIFtrZXksIHZhbHVlXSB0dXBwbGVcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZW50cmllcykge1xuICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgcGFyYW1zVG9PYmplY3QgfSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlNFUlZFUl9MT0dfUk9PVCIsIk1PQ0tNT0RFIiwiVVNFUl9NT0RFTFNfUk9PVCIsInVzZXJfZGVjaXNpb25fbW9kZWwiLCJkYXRhIiwidGltZV9xdWVzdGlvbl9zdGFydCIsInRpbWVfZmluYWxfZGVjaXNpb25fc3RhcnQiLCJ0aW1lX3RydXN0X2RlY2lzaW9uX3N0YXJ0IiwidGltZV9pbml0aWFsX2NvbmZpZGVuY2Vfc3RhcnQiLCJ0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQiLCJxdWVzdGlvbl9pIiwicXVlc3Rpb24iLCJpbml0aWFsX3VzZXJfZGVjaXNpb24iLCJmaW5hbF91c2VyX2RlY2lzaW9uIiwiaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UiLCJmaW5hbF91c2VyX2NvbmZpZGVuY2UiLCJiYWxhbmNlIiwidXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCIsImJldF92YWxfcmF0aW8iLCJpbnN0cnVjdGlvbl9pIiwiY291bnRfZXhpdGVkX3BhZ2UiLCJ1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsIiwiYWlfYXNzaXN0YW5jZV9pbnRlcnZlbnRpb25fZGF0YSIsImludGVydmVudGlvbl9kZXRhaWxzIiwidHJ1c3RfZWZmZWN0X3ByZWRpY3Rpb25fZGF0YSIsImZpbmRuZXdjb25mX3Jlc3VsdCIsImFzc2VydCIsImNvbmRpdGlvbiIsIm1lc3NhZ2UiLCJuZXh0X2luc3RydWN0aW9ucyIsImluY3JlbWVudCIsIiQiLCJhdHRyIiwicmVtb3ZlQXR0ciIsInNob3ciLCJ2YWwiLCJoaWRlIiwibmV4dF9xdWVzdGlvbiIsImNoaWxkcmVuIiwiZWFjaCIsIl8iLCJlbCIsIm1ha2VfaW5pdGlhbF91c2VyX2RlY2lzaW9uIiwib3B0aW9uIiwiRGF0ZSIsIm5vdyIsImdldF9pbml0aWFsX3VzZXJfY29uZmlkZW5jZSIsImNvbmZfbGV2ZWwiLCJhc3luYyIsImNvbnNvbGUiLCJsb2ciLCJkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSIsInVzZXJfY3VycmVudF90cnVzdF9sZXZlbCIsInVzZVVzZXJSZXBvcnRlZFRydXN0VmFsIiwiQUlJbnRlcnZlbnRpb25UeXBlIiwicmVzdWx0IiwidXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMiLCJOdW1iZXIiLCJyZXBsYWNlIiwiYWpheCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9qZWN0IiwibW9kZWxfbmFtZSIsInBheWxvYWQiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJlIiwidXNlcl9kZWNpc2lvbl9wcmVkX3Byb2JzIiwiWCIsIlN0cmluZyIsInRvRml4ZWQiLCJhbGRpZmZfcmVzdWx0IiwidXNlcl9haV9pbml0aWFsX2FncmVlbWVudCIsInVzZXJfaW5pdGlhbF9jb25maWRlbmNlIiwiYWxfZGlmZiIsInVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kX25ldXRyYWxfdHJ1c3QiLCJpbnRlcnZlbnRpb25fYXBwbGllZCIsIkludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZCIsImZpbmRuZXdjb25mX2lucHV0X3ZhcmlhYmxlcyIsImFpX2NvbmZpZGVuY2UiLCJuZXdfY29uZmlkZW5jZSIsIk1hdGgiLCJtaW4iLCJJbnRlcnZlbnRpb25GaXhlZENvbmZJbmNyZWFzZSIsImh0bWwiLCJnZXRfYWlfYXNzaXN0YW5jZSIsIm1ha2VfZmluYWxfdXNlcl9kZWNpc2lvbiIsImdldF9maW5hbF91c2VyX2NvbmZpZGVuY2UiLCJjb3JyZWN0X29wdGlvbiIsInVzZXJfaXNfY29ycmVjdCIsImFpX2lzX2NvcnJlY3QiLCJ0cnVzdF9lZmZlY3RfaW5wdXRzIiwidHJ1c3RfZWZmZWN0IiwiZ2V0X3RydXN0X2VmZmVjdCIsInRleHQiLCJzaG93X3Jlc3VsdCIsImxlbmd0aCIsInJhdGlvMSIsInJhdGlvMiIsIm9uIiwibG9nZ2VkX2RhdGEiLCJnbG9iYWxUaGlzIiwidXJsX2RhdGEiLCJ1aWQiLCJsb2dfZGF0YSIsInRoaXMiLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsInN0YXJ0T3ZlcnJpZGUiLCJVSURGcm9tVVJMIiwiZW50cmllcyIsInZhbHVlIiwicGFyYW1zVG9PYmplY3QiLCJxdWV1ZV9pZCIsImZsb29yIiwicmFuZG9tIiwicGFkU3RhcnQiLCJVSURfbWF5YmUiLCJwcm9tcHQiLCJpbmNsdWRlcyIsIkVycm9yIiwic3RhcnRzV2l0aCIsImdldEpTT04iLCJsb2FkX2RhdGEiLCJjYXRjaCIsIl9lcnJvciIsInJlbG9hZCIsInRoZW4iLCJuZXdfZGF0YSIsInBhcnNlSW50IiwiYWxlcnRfYWN0aXZlIiwiZG9jdW1lbnQiLCJvbnZpc2liaWxpdHljaGFuZ2UiLCJhbGVydCJdLCJzb3VyY2VSb290IjoiIn0=