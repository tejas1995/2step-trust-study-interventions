(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{o:()=>i});let e="https://tejassrinivasan.pythonanywhere.com/";var i=!1;let n="https://tejassrinivasan.pythonanywhere.com/",o="user_acceptance_model-logisticregression-0.9347testf1";var c=[];let a,_,l,r,s,d=-1,u=null,p=-1,f=-1,b=-1,h=-1,v=0,g=5,m=1,y=0,w=0,k=0;var A={},x={},O={};let T;function N(t,e){if(!t)throw e||"Assertion failed"}function S(t){y+=t,0==y?$("#button_instructions_prev").attr("disabled","true"):$("#button_instructions_prev").removeAttr("disabled"),y>=6?($("#instructions_and_decorations").show(),$("#button_instructions_next").val("Start study")):($("#instructions_and_decorations").hide(),$("#button_instructions_next").val("Next")),7==y&&($("#main_box_instructions").hide(),$("#main_box_experiment").show(),U()),$("#main_box_instructions").children(":not(input)").each(((t,e)=>{$(e).hide()})),$(`#instructions_${y}`).show()}function j(t){r=Date.now(),p=t,N(1==t||2==t,"Invalid option!"),1==t?($("#button_initial_decision_option1").attr("activedecision","true"),$("#button_initial_decision_option2").removeAttr("activedecision")):($("#button_initial_decision_option1").removeAttr("activedecision"),$("#button_initial_decision_option2").attr("activedecision","true")),$("#initial_user_confidence_div").show(),$("#button_initial_decision_option1").attr("disabled","true"),$("#button_initial_decision_option2").attr("disabled","true"),$("#button_initial_confidence_option1").removeAttr("disabled"),$("#button_initial_confidence_option2").removeAttr("disabled"),$("#button_initial_confidence_option3").removeAttr("disabled")}function I(t){_=Date.now(),b=t,N(1==t||2==t||3==t,"Invalid option!"),1==t?($("#button_initial_confidence_option1").attr("activedecision","true"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").removeAttr("activedecision")):2==t?($("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").attr("activedecision","true"),$("#button_initial_confidence_option3").removeAttr("activedecision")):($("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").attr("activedecision","true")),$("#button_initial_confidence_option1").attr("disabled","true"),$("#button_initial_confidence_option2").attr("disabled","true"),$("#button_initial_confidence_option3").attr("disabled","true"),$("#button_final_decision_option1").removeAttr("disabled"),$("#button_final_decision_option2").removeAttr("disabled"),async function(){console.log("Getting AI assistance...");let t="AI is figuring out its confidence...",e=k;if(Y&&(e=(g-5)/2.5,console.log("Using user reported trust value: ",g)),"none"==q)t=u.ai_confidence;else if("dummy"==q){let i,c={user_ai_initial_agreement:Number(p==u.ai_prediction),user_initial_confidence:b,ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:e,timestep:d};console.log("User decision model inputs: ",c);try{i=await $.ajax(n+"get_user_decision_prob",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(c)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}let a=i.pred_probs[0],_=i.X;console.log("User decision model X: ",_),console.log("User's likelihood of going with the AI's prediction: ",a[1]),t=String((100*(_[2]+.1)).toFixed(0))+"%",x={user_decision_model_inputs:c,acceptance_likelihood:a[1]}}else if("confidence_inflation"==q)if(e<0){let i,c=Number(p==u.ai_prediction),a=b,_={user_ai_initial_agreement:c,user_initial_confidence:a,ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:e,timestep:d};console.log("User decision model inputs: ",_);try{i=await $.ajax(n+"examine_effect_of_trust_on_decision_making",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}let l=i.al_diff;console.log("User's likelihood of going with the AI's prediction: ",i.actual_trust.acceptance_likelihood),console.log("User's likelihood of going with the AI's prediction with neutral trust: ",i.neutral_trust.acceptance_likelihood),console.log("Acceptance Likelihood Diff: ",l);let r=i.neutral_trust.acceptance_likelihood,s=!1;if(l>F){s=!0;let _={user_ai_initial_agreement:c,user_initial_confidence:a,user_current_trust_level:e,timestep:d,user_acceptance_likelihood_neutral_trust:r};try{T=await $.ajax(n+"find_best_aiconf_to_display",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}t=String((100*T.new_conf_to_display).toFixed(0))+"%",x={acceptance_likelihood_results:i,findnewconf_results:T,current_trust_level:e,conf_actual:u.ai_confidence,conf_new:t,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,"acceptance_likelihood-newconf_actualtrust":T.new_conf_acceptance_likelihood,intervention_applied:!0}}else t=u.ai_confidence,s=!1,x={acceptance_likelihood_results:i,current_trust_level:e,conf_actual:u.ai_confidence,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,intervention_applied:!1}}else t=u.ai_confidence,x={intervention_applied:!1};else if("confidence_inflation_fixed"==q)if(e<0&&p!=u.ai_prediction){let i,c=Number(p==u.ai_prediction),a=b,_=Number(u.ai_confidence.replace("%",""))/100,l={user_ai_initial_agreement:c,user_initial_confidence:a,ai_confidence:_,user_current_trust_level:e,timestep:d};console.log("User decision model inputs: ",l);try{i=await $.ajax(n+"examine_effect_of_trust_on_decision_making",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(l)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}let r=i.al_diff;console.log("User's likelihood of going with the AI's prediction: ",i.actual_trust.acceptance_likelihood),console.log("User's likelihood of going with the AI's prediction with neutral trust: ",i.neutral_trust.acceptance_likelihood),console.log("Acceptance Likelihood Diff: ",r),i.neutral_trust.acceptance_likelihood;let s=Math.min(1,_+L);t=String((100*s).toFixed(0))+"%",x={acceptance_likelihood_results:i,current_trust_level:e,conf_actual:u.ai_confidence,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,intervention_applied:!0}}else t=u.ai_confidence,x={intervention_applied:!1};else if("confidence_deflation"==q)if(e>0){let i,c=Number(p==u.ai_prediction),a=b,_={user_ai_initial_agreement:c,user_initial_confidence:a,ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:e,timestep:d};console.log("User decision model inputs: ",_);try{i=await $.ajax(n+"examine_effect_of_trust_on_decision_making",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}let l=i.al_diff;console.log("User's likelihood of going with the AI's prediction: ",i.actual_trust.acceptance_likelihood),console.log("User's likelihood of going with the AI's prediction with neutral trust: ",i.neutral_trust.acceptance_likelihood),console.log("Acceptance Likelihood Diff: ",l);let r=i.neutral_trust.acceptance_likelihood,s=!1;if(l>F){s=!0;let _={user_ai_initial_agreement:c,user_initial_confidence:a,user_current_trust_level:e,timestep:d,user_acceptance_likelihood_neutral_trust:r};try{T=await $.ajax(n+"find_best_aiconf_to_display",{data:JSON.stringify({project:"2step-trust-study",model_name:o,payload:JSON.stringify(_)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}t=String((100*T.new_conf_to_display).toFixed(0))+"%",x={acceptance_likelihood_results:i,findnewconf_results:T,current_trust_level:e,conf_actual:u.ai_confidence,conf_new:t,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,"acceptance_likelihood-newconf_actualtrust":T.new_conf_acceptance_likelihood,intervention_applied:!0}}else t=u.ai_confidence,s=!1,x={acceptance_likelihood_results:i,current_trust_level:e,conf_actual:u.ai_confidence,"acceptance_likelihood-actualconf_actualtrust":i.actual_trust.acceptance_likelihood,"acceptance_likelihood-actualconf_neutraltrust":i.neutral_trust.acceptance_likelihood,intervention_applied:!1}}else t=u.ai_confidence,x={intervention_applied:!1};x.trust_level_at_start_of_interaction=e,A={intervention_type:q,actual_ai_confidence:u.ai_confidence,displayed_ai_confidence:t,intervention_details:x},console.log("AI Assistance Intervention Data: ",A),$("#ai_prediction_span").html("Option "+u.ai_prediction),$("#ai_confidence_span").html(t),$("#ai_assistance_div").show(),$("#final_user_decision_div").show()}()}function R(t){s=Date.now(),f=t,N(1==t||2==t,"Invalid option!"),1==t?($("#button_final_decision_option1").attr("activedecision","true"),$("#button_final_decision_option2").removeAttr("activedecision")):($("#button_final_decision_option1").removeAttr("activedecision"),$("#button_final_decision_option2").attr("activedecision","true")),$("#final_user_confidence_div").show(),$("#button_final_decision_option1").attr("disabled","true"),$("#button_final_decision_option2").attr("disabled","true"),$("#button_final_confidence_option1").removeAttr("disabled"),$("#button_final_confidence_option2").removeAttr("disabled"),$("#button_final_confidence_option3").removeAttr("disabled")}function J(t){l=Date.now(),h=t,N(1==t||2==t||3==t,"Invalid option!"),1==t?($("#button_final_confidence_option1").attr("activedecision","true"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").removeAttr("activedecision")):2==t?($("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").attr("activedecision","true"),$("#button_final_confidence_option3").removeAttr("activedecision")):($("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").attr("activedecision","true")),$("#button_final_confidence_option1").attr("disabled","true"),$("#button_final_confidence_option2").attr("disabled","true"),$("#button_final_confidence_option3").attr("disabled","true"),function(){let t=u.correct_option,e=t==f,i=u.ai_is_correct,o="Correct answer: <b>Option "+t+"</b>.<br>";o+=e?"You picked Option "+f+", which was <span class='color_correct'><b>correct</b></span>.<br>":"You picked Option "+f+", which was <span class='color_incorrect'><b>incorrect</b></span>.<br>",o+=i?"The AI picked Option "+u.ai_prediction+", which was <span class='color_correct'><b>correct<b></span>.<br>":"The AI picked Option "+u.ai_prediction+", which was <span class='color_incorrect'><b>incorrect</b></span>.<br>",e?(o+="<span class='color_correct'><b>You receive a reward of $0.10.</b></span>",v+=.1):o+="<span class='color_incorrect'><b>You do not receive any reward.</b></span>",o+="<br>",async function(){let t,e={initial_user_correctness:Number(p==u.correct_option),ai_correctness:Number(u.ai_prediction==u.correct_option),final_user_correctness:Number(f==u.correct_option),ai_confidence:Number(u.ai_confidence.replace("%",""))/100,user_current_trust_level:k,timestep:d};console.log("Trust effect inputs: ",e);try{t=await $.ajax(n+"get_trust_effect",{data:JSON.stringify({project:"2step-trust-study",model_name:"trust_effect_model-svm_linear-0.4644testmae-0.9095testteda",payload:JSON.stringify(e)}),type:"POST",contentType:"application/json"})}catch(t){console.log("ERROR!"),console.log(t)}console.log("Trust effect prediction result: ",t);let i=await t.trust_effect;k+=i,O={model_inputs:e,predicted_trust_effect:i,user_new_trust_level:k}}(),$("#balance").text(`Balance: $${v.toFixed(2)} + $1.0`),$("#result_span").html(o),$("#result_span").show(),$("#how_confident_div").show()}()}function U(){if($("#button_initial_decision_option1").removeAttr("activedecision"),$("#button_initial_decision_option2").removeAttr("activedecision"),$("#button_initial_decision_option1").removeAttr("disabled"),$("#button_initial_decision_option2").removeAttr("disabled"),$("#button_initial_confidence_option1").removeAttr("activedecision"),$("#button_initial_confidence_option2").removeAttr("activedecision"),$("#button_initial_confidence_option3").removeAttr("activedecision"),$("#button_initial_confidence_option1").removeAttr("disabled"),$("#button_initial_confidence_option2").removeAttr("disabled"),$("#button_initial_confidence_option3").removeAttr("disabled"),$("#button_final_decision_option1").removeAttr("activedecision"),$("#button_final_decision_option2").removeAttr("activedecision"),$("#button_final_decision_option1").removeAttr("disabled"),$("#button_final_decision_option2").removeAttr("disabled"),$("#button_final_confidence_option1").removeAttr("activedecision"),$("#button_final_confidence_option2").removeAttr("activedecision"),$("#button_final_confidence_option3").removeAttr("activedecision"),$("#button_final_confidence_option1").removeAttr("disabled"),$("#button_final_confidence_option2").removeAttr("disabled"),$("#button_final_confidence_option3").removeAttr("disabled"),$("#ai_assistance_div").hide(),$("#initial_user_confidence_div").hide(),$("#final_user_decision_div").hide(),$("#final_user_confidence_div").hide(),$("#range_val").removeAttr("disabled"),$("#how_confident_div").hide(),$("#button_place_bet").hide(),$("#button_next").hide(),$("#result_span").hide(),-1==d?$("#range_text").text("-"):$("#range_text").text(`Before this interaction, your trust in the AI: ${10*g} / 100.`),$("#range_val").val(g),d+=1,d>=c.length)return $("#main_box_experiment").hide(),void(i?$("#main_box_end_mock").show():$("#main_box_end").show());if(u=c[d],$("#question_span").html(u.question),$("#option1_span").html(u.option1),$("#option2_span").html(u.option2),u.hasOwnProperty("reward_ratio")){let[t,e]=u.reward_ratio;t=Number(t),e=Number(e),m=t/e}else m=1;a=Date.now(),$("#progress").text(`Progress: ${d+1} / ${c.length}`)}$("#button_instructions_next").on("click",(()=>S(1))),$("#button_instructions_prev").on("click",(()=>S(-1))),$("#button_next").on("click",(()=>{if(-1!=d){let t={question_i:d,user_balance_post_interaction:v,user_trust_val:g,initial_user_decision:p,final_user_decision:f,initial_user_confidence:b,final_user_confidence:h};t.times={initial_decision:r-a,initial_confidence:_-r,final_decision:s-_,final_confidence:l-s,trust_decision:Date.now()-l},t.question=u,t.count_exited_page=w,t.ai_assistance_intervention_data=A,t.trust_effect_prediction_data=O,async function(t){if(i)console.log("logged (mock)",t);else{t.url_data=globalThis.url_data,console.log("Data"),"study_id"in t.url_data||(t.url_data.study_id="trialrun_studies"),t.url_data.queue_id=globalThis.uid,console.log("logged",t),console.log("Logging to",e+"log");try{return await $.ajax(e+"log",{data:JSON.stringify({project:"2step-trust-study-interventions/"+t.url_data.study_id,uid:globalThis.uid.replace("/","_")+"_"+t.url_data.prolific_id,payload:JSON.stringify(t)}),type:"POST",contentType:"application/json"})}catch(t){console.log(t)}}}(t),w=0}U()})),$("#range_val").on("input change",(function(){g=$(this).val(),$("#range_text").text(`After this interaction, your current trust in the AI: ${10*g} / 100.`),$("#button_next").show()})),$("#button_initial_decision_option1").on("click",(()=>j(1))),$("#button_initial_decision_option2").on("click",(()=>j(2))),$("#button_initial_confidence_option1").on("click",(()=>I(1))),$("#button_initial_confidence_option2").on("click",(()=>I(2))),$("#button_initial_confidence_option3").on("click",(()=>I(3))),$("#button_final_decision_option1").on("click",(()=>R(1))),$("#button_final_decision_option2").on("click",(()=>R(2))),$("#button_final_confidence_option1").on("click",(()=>J(1))),$("#button_final_confidence_option2").on("click",(()=>J(2))),$("#button_final_confidence_option3").on("click",(()=>J(3)));const P=new URLSearchParams(window.location.search),D=P.get("start"),E=P.get("uid");if(globalThis.url_data=function(t){const e={};for(const[i,n]of t)e[i]=n;return e}(P.entries()),null!=E){if(globalThis.uid=E,"prolific_random"==globalThis.uid){let t=`${Math.floor(10*Math.random())}`.padStart(3,"0");globalThis.uid=`${P.get("prolific_queue_name")}/${t}`}}else{let t=null;for(;null==t;)t=prompt("Enter your user id. Please get in touch if you were not assigned an id but wish to participate in this experiment.");globalThis.uid=t}let q=P.get("intervention_type"),F=Number(P.get("intervention_threshold")),L=Number(P.get("intervention_fixedconfincrease")),Y="true"==P.get("use_user_reported_trust_level");if(null==q&&(q="none"),null==F&&(F=-1),null==L&&(L=0),null==Y&&(Y=!1),!["none","dummy","confidence_inflation","confidence_inflation_fixed","confidence_deflation"].includes(q))throw new Error("Invalid AI Assistance Intervention: "+q);globalThis.url_data.intervention_type=q,globalThis.url_data.intervention_threshold=F,globalThis.uid.startsWith("demo_paper")&&(i=!0),console.log("Running with UID",globalThis.uid),async function(){return await $.getJSON(`baked_queues/${globalThis.uid}.json?t=${Date.now()}`)}().catch((t=>{console.log("Invalid user id."),console.log(globalThis.uid),window.location.reload()})).then((t=>{c=t,null!=D&&(d=parseInt(D)-1,console.log("Starting from",d)),S(0),$("#main_box_instructions").show(),$("#instructions_and_decorations").hide()})),console.log("Starting session with UID:",globalThis.uid);let M=!1;document.onvisibilitychange=()=>{M||(w+=1,M=!0,globalThis.uid.startsWith("demo")||alert("Please don't leave the page. If you do so again, we may restrict paying you."),M=!1)}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTckIsR0FBaUIsRUFDdkMvRCxRQUFRQyxJQUFJLGdCQUFpQnhDLElBR2pDbUIsRUFBa0IsR0FDbEJFLEVBQUUsMEJBQTBCRyxPQUM1QkgsRUFBRSxpQ0FBaUNLLE1BQU0sSUFHN0NhLFFBQVFDLElBQUksNkJBQThCb0QsV0FBV0UsS0FFckQsSUFBSThCLEdBQWUsRUFDbkJDLFNBQVNDLG1CQUFxQixLQUNyQkYsSUFDRGxILEdBQXFCLEVBQ3JCa0gsR0FBZSxFQUNUaEMsV0FBV0UsSUFBS3FCLFdBQVcsU0FDN0JZLE1BQU0sZ0ZBRVZILEdBQWUsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy8uL3NyYy9jb25uZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgREVWTU9ERSB9IGZyb20gJy4vZ2xvYmFscydcbmltcG9ydCB7IE1PQ0tNT0RFIH0gZnJvbSAnLi9tYWluJ1xuXG5sZXQgU0VSVkVSX0xPR19ST09UID0gREVWTU9ERSA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAwL1wiIDogXCJodHRwczovL3RlamFzc3Jpbml2YXNhbi5weXRob25hbnl3aGVyZS5jb20vXCJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRfZGF0YSgpOiBQcm9taXNlPGFueT4ge1xuICAgIC8vIGluY2x1ZGUgdGltZXN0YW1wIHNvIHRoYXQgdGhpbmdzIGRvbid0IGdldCBjYWNoZWRcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgJC5nZXRKU09OKFxuICAgICAgICBgYmFrZWRfcXVldWVzLyR7Z2xvYmFsVGhpcy51aWR9Lmpzb24/dD0ke0RhdGUubm93KCl9YCxcbiAgICApXG4gICAgcmV0dXJuIHJlc3VsdFxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ19kYXRhKGRhdGEpOiBQcm9taXNlPGFueT4ge1xuICAgIGlmIChNT0NLTU9ERSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImxvZ2dlZCAobW9jaylcIiwgZGF0YSlcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIFxuICAgIGRhdGFbXCJ1cmxfZGF0YVwiXSA9IGdsb2JhbFRoaXMudXJsX2RhdGFcbiAgICBjb25zb2xlLmxvZyhcIkRhdGFcIilcbiAgICBpZiAoIShcInN0dWR5X2lkXCIgaW4gZGF0YVsndXJsX2RhdGEnXSkpIHtcbiAgICAgICAgZGF0YVsndXJsX2RhdGEnXVtcInN0dWR5X2lkXCJdID0gXCJ0cmlhbHJ1bl9zdHVkaWVzXCJcbiAgICB9XG4gICAgZGF0YVtcInVybF9kYXRhXCJdW1wicXVldWVfaWRcIl0gPSBnbG9iYWxUaGlzLnVpZFxuICAgIGNvbnNvbGUubG9nKFwibG9nZ2VkXCIsIGRhdGEpXG4gICAgY29uc29sZS5sb2coXCJMb2dnaW5nIHRvXCIsIFNFUlZFUl9MT0dfUk9PVCArIFwibG9nXCIpXG5cbiAgICB0cnkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgU0VSVkVSX0xPR19ST09UICsgXCJsb2dcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwiMnN0ZXAtdHJ1c3Qtc3R1ZHktaW50ZXJ2ZW50aW9ucy9cIiArIGRhdGFbJ3VybF9kYXRhJ11bJ3N0dWR5X2lkJ10sXG4gICAgICAgICAgICAgICAgICAgIHVpZDogZ2xvYmFsVGhpcy51aWQucmVwbGFjZShcIi9cIiwgXCJfXCIpICsgXCJfXCIgKyBkYXRhWyd1cmxfZGF0YSddWydwcm9saWZpY19pZCddLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgIH1cbn0iLCJpbXBvcnQgeyBERVZNT0RFIH0gZnJvbSBcIi4vZ2xvYmFsc1wiXG5leHBvcnQgdmFyIFVJRDogc3RyaW5nXG5leHBvcnQgdmFyIE1PQ0tNT0RFOiBib29sZWFuID0gZmFsc2VcbmltcG9ydCB7IGxvYWRfZGF0YSwgbG9nX2RhdGEgfSBmcm9tICcuL2Nvbm5lY3RvcidcbmltcG9ydCB7IHBhcmFtc1RvT2JqZWN0IH0gZnJvbSBcIi4vdXRpbHNcIlxuLy9pbXBvcnQgeyBnZXRfdXNlcl90cnVzdF9lZmZlY3QsIGdldF9hZGp1c3RlZF9haV9jb25maWRlbmNlfSBmcm9tIFwiLi9ydW5fdXNlcl9tb2RlbHNcIlxuXG5sZXQgVVNFUl9NT0RFTFNfUk9PVCA9IFwiaHR0cHM6Ly90ZWphc3NyaW5pdmFzYW4ucHl0aG9uYW55d2hlcmUuY29tL1wiXG5sZXQgdXNlcl9kZWNpc2lvbl9tb2RlbCA9IFwidXNlcl9hY2NlcHRhbmNlX21vZGVsLWxvZ2lzdGljcmVncmVzc2lvbi0wLjkzNDd0ZXN0ZjFcIlxubGV0IHRydXN0X2VmZmVjdF9tb2RlbCA9IFwidHJ1c3RfZWZmZWN0X21vZGVsLXN2bV9saW5lYXItMC40NjQ0dGVzdG1hZS0wLjkwOTV0ZXN0dGVkYVwiXG5cbnZhciBkYXRhOiBhbnlbXSA9IFtdXG5sZXQgcXVlc3Rpb25faSA9IC0xXG5sZXQgcXVlc3Rpb246IGFueSA9IG51bGxcbmxldCBpbml0aWFsX3VzZXJfZGVjaXNpb246IG51bWJlciA9IC0xXG5sZXQgZmluYWxfdXNlcl9kZWNpc2lvbjogbnVtYmVyID0gLTFcbmxldCBpbml0aWFsX3VzZXJfY29uZmlkZW5jZTogbnVtYmVyID0gLTFcbmxldCBmaW5hbF91c2VyX2NvbmZpZGVuY2U6IG51bWJlciA9IC0xXG5sZXQgYmFsYW5jZSA9IDBcbmxldCB1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsOiBudW1iZXIgPSA1XG5sZXQgYmV0X3ZhbF9yYXRpbzogbnVtYmVyID0gMVxubGV0IHRpbWVfcXVlc3Rpb25fc3RhcnQ6IG51bWJlclxubGV0IHRpbWVfZmluYWxfZGVjaXNpb25fc3RhcnQ6IG51bWJlclxubGV0IHRpbWVfdHJ1c3RfZGVjaXNpb25fc3RhcnQ6IG51bWJlclxubGV0IHRpbWVfaW5pdGlhbF9jb25maWRlbmNlX3N0YXJ0OiBudW1iZXJcbmxldCB0aW1lX2ZpbmFsX2NvbmZpZGVuY2Vfc3RhcnQ6IG51bWJlclxubGV0IGluc3RydWN0aW9uX2k6IG51bWJlciA9IDBcbmxldCBjb3VudF9leGl0ZWRfcGFnZTogbnVtYmVyID0gMFxuXG5sZXQgdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbDogbnVtYmVyID0gMFxuXG52YXIgYWxsX3VzZXJfaW50ZXJhY3Rpb25zID0gW11cbnZhciBhaV9hc3Npc3RhbmNlX2ludGVydmVudGlvbl9kYXRhID0ge31cbnZhciBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHt9XG52YXIgdHJ1c3RfZWZmZWN0X3ByZWRpY3Rpb25fZGF0YSA9IHt9XG5sZXQgZmluZG5ld2NvbmZfcmVzdWx0OiBhbnlcblxuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgIHRocm93IG1lc3NhZ2UgfHwgXCJBc3NlcnRpb24gZmFpbGVkXCI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBuZXh0X2luc3RydWN0aW9ucyhpbmNyZW1lbnQ6IG51bWJlcikge1xuICAgIGluc3RydWN0aW9uX2kgKz0gaW5jcmVtZW50XG5cbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA9PSAwKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfcHJldlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICB9XG4gICAgaWYgKGluc3RydWN0aW9uX2kgPj0gNikge1xuICAgICAgICAkKFwiI2luc3RydWN0aW9uc19hbmRfZGVjb3JhdGlvbnNcIikuc2hvdygpXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnZhbChcIlN0YXJ0IHN0dWR5XCIpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChcIiNpbnN0cnVjdGlvbnNfYW5kX2RlY29yYXRpb25zXCIpLmhpZGUoKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS52YWwoXCJOZXh0XCIpXG4gICAgfVxuICAgIGlmIChpbnN0cnVjdGlvbl9pID09IDcpIHtcbiAgICAgICAgJChcIiNtYWluX2JveF9pbnN0cnVjdGlvbnNcIikuaGlkZSgpXG4gICAgICAgICQoXCIjbWFpbl9ib3hfZXhwZXJpbWVudFwiKS5zaG93KClcbiAgICAgICAgbmV4dF9xdWVzdGlvbigpXG4gICAgfVxuXG4gICAgJChcIiNtYWluX2JveF9pbnN0cnVjdGlvbnNcIikuY2hpbGRyZW4oXCI6bm90KGlucHV0KVwiKS5lYWNoKChfLCBlbCkgPT4ge1xuICAgICAgICAkKGVsKS5oaWRlKClcbiAgICB9KVxuICAgICQoYCNpbnN0cnVjdGlvbnNfJHtpbnN0cnVjdGlvbl9pfWApLnNob3coKVxufVxuJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikub24oXCJjbGlja1wiLCAoKSA9PiBuZXh0X2luc3RydWN0aW9ucygrMSkpXG4kKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfcHJldlwiKS5vbihcImNsaWNrXCIsICgpID0+IG5leHRfaW5zdHJ1Y3Rpb25zKC0xKSlcblxuJChcIiNidXR0b25fbmV4dFwiKS5vbihcImNsaWNrXCIsICgpID0+IHtcbiAgICBpZiAocXVlc3Rpb25faSAhPSAtMSkge1xuICAgICAgICBsZXQgbG9nZ2VkX2RhdGEgPSB7XG4gICAgICAgICAgICBcInF1ZXN0aW9uX2lcIjogcXVlc3Rpb25faSxcbiAgICAgICAgICAgIFwidXNlcl9iYWxhbmNlX3Bvc3RfaW50ZXJhY3Rpb25cIjogYmFsYW5jZSxcbiAgICAgICAgICAgIFwidXNlcl90cnVzdF92YWxcIjogdXNlcl9yZXBvcnRlZF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgIFwiaW5pdGlhbF91c2VyX2RlY2lzaW9uXCI6IGluaXRpYWxfdXNlcl9kZWNpc2lvbixcbiAgICAgICAgICAgIFwiZmluYWxfdXNlcl9kZWNpc2lvblwiOiBmaW5hbF91c2VyX2RlY2lzaW9uLFxuICAgICAgICAgICAgXCJpbml0aWFsX3VzZXJfY29uZmlkZW5jZVwiOiBpbml0aWFsX3VzZXJfY29uZmlkZW5jZSxcbiAgICAgICAgICAgIFwiZmluYWxfdXNlcl9jb25maWRlbmNlXCI6IGZpbmFsX3VzZXJfY29uZmlkZW5jZSxcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZ2dlZF9kYXRhWyd0aW1lcyddID0ge1xuICAgICAgICAgICAgXCJpbml0aWFsX2RlY2lzaW9uXCI6IHRpbWVfaW5pdGlhbF9jb25maWRlbmNlX3N0YXJ0IC0gdGltZV9xdWVzdGlvbl9zdGFydCxcbiAgICAgICAgICAgIFwiaW5pdGlhbF9jb25maWRlbmNlXCI6IHRpbWVfZmluYWxfZGVjaXNpb25fc3RhcnQgLSB0aW1lX2luaXRpYWxfY29uZmlkZW5jZV9zdGFydCxcbiAgICAgICAgICAgIFwiZmluYWxfZGVjaXNpb25cIjogdGltZV9maW5hbF9jb25maWRlbmNlX3N0YXJ0IC0gdGltZV9maW5hbF9kZWNpc2lvbl9zdGFydCxcbiAgICAgICAgICAgIFwiZmluYWxfY29uZmlkZW5jZVwiOiB0aW1lX3RydXN0X2RlY2lzaW9uX3N0YXJ0IC0gdGltZV9maW5hbF9jb25maWRlbmNlX3N0YXJ0LFxuICAgICAgICAgICAgXCJ0cnVzdF9kZWNpc2lvblwiOiBEYXRlLm5vdygpIC0gdGltZV90cnVzdF9kZWNpc2lvbl9zdGFydCxcbiAgICAgICAgfVxuICAgICAgICBsb2dnZWRfZGF0YVsncXVlc3Rpb24nXSA9IHF1ZXN0aW9uXG4gICAgICAgIGxvZ2dlZF9kYXRhWydjb3VudF9leGl0ZWRfcGFnZSddID0gY291bnRfZXhpdGVkX3BhZ2VcbiAgICAgICAgbG9nZ2VkX2RhdGFbJ2FpX2Fzc2lzdGFuY2VfaW50ZXJ2ZW50aW9uX2RhdGEnXSA9IGFpX2Fzc2lzdGFuY2VfaW50ZXJ2ZW50aW9uX2RhdGFcbiAgICAgICAgbG9nZ2VkX2RhdGFbJ3RydXN0X2VmZmVjdF9wcmVkaWN0aW9uX2RhdGEnXSA9IHRydXN0X2VmZmVjdF9wcmVkaWN0aW9uX2RhdGFcbiAgICAgICAgbG9nX2RhdGEobG9nZ2VkX2RhdGEpXG4gICAgICAgIGNvdW50X2V4aXRlZF9wYWdlID0gMFxuXG4gICAgfVxuICAgIG5leHRfcXVlc3Rpb24oKVxufSk7XG5cbiQoJyNyYW5nZV92YWwnKS5vbignaW5wdXQgY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgPSAoJCh0aGlzKS52YWwoKSEgYXMgbnVtYmVyKVxuICAgICQoXCIjcmFuZ2VfdGV4dFwiKS50ZXh0KGBBZnRlciB0aGlzIGludGVyYWN0aW9uLCB5b3VyIGN1cnJlbnQgdHJ1c3QgaW4gdGhlIEFJOiAke3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgKiAxMH0gLyAxMDAuYClcbiAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLnNob3coKVxufSk7XG5cbmZ1bmN0aW9uIG1ha2VfaW5pdGlhbF91c2VyX2RlY2lzaW9uKG9wdGlvbikge1xuICAgIHRpbWVfaW5pdGlhbF9jb25maWRlbmNlX3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgIGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9IG9wdGlvblxuICAgIGFzc2VydChvcHRpb24gPT0gMSB8fCBvcHRpb24gPT0gMiwgXCJJbnZhbGlkIG9wdGlvbiFcIilcbiAgICBpZiAob3B0aW9uID09IDEpIHtcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICB9XG4gICAgJChcIiNpbml0aWFsX3VzZXJfY29uZmlkZW5jZV9kaXZcIikuc2hvdygpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjJcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxufVxuJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbWFrZV9pbml0aWFsX3VzZXJfZGVjaXNpb24oMSkpXG4kKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjJcIikub24oXCJjbGlja1wiLCAoKSA9PiBtYWtlX2luaXRpYWxfdXNlcl9kZWNpc2lvbigyKSlcblxuZnVuY3Rpb24gZ2V0X2luaXRpYWxfdXNlcl9jb25maWRlbmNlKGNvbmZfbGV2ZWwpIHtcbiAgICB0aW1lX2ZpbmFsX2RlY2lzaW9uX3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgIGluaXRpYWxfdXNlcl9jb25maWRlbmNlID0gY29uZl9sZXZlbFxuICAgIGFzc2VydChjb25mX2xldmVsID09IDEgfHwgY29uZl9sZXZlbCA9PSAyIHx8IGNvbmZfbGV2ZWwgPT0gMywgXCJJbnZhbGlkIG9wdGlvbiFcIilcbiAgICBpZiAoY29uZl9sZXZlbCA9PSAxKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSBpZiAoY29uZl9sZXZlbCA9PSAyKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgIH1cblxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIikgICAgXG5cbiAgICBnZXRfYWlfYXNzaXN0YW5jZSgpXG59XG4kKFwiI2J1dHRvbl9pbml0aWFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5vbihcImNsaWNrXCIsICgpID0+IGdldF9pbml0aWFsX3VzZXJfY29uZmlkZW5jZSgxKSlcbiQoXCIjYnV0dG9uX2luaXRpYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZ2V0X2luaXRpYWxfdXNlcl9jb25maWRlbmNlKDIpKVxuJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikub24oXCJjbGlja1wiLCAoKSA9PiBnZXRfaW5pdGlhbF91c2VyX2NvbmZpZGVuY2UoMykpXG5cbmFzeW5jIGZ1bmN0aW9uIGdldF9haV9hc3Npc3RhbmNlKCkge1xuICAgIGNvbnNvbGUubG9nKFwiR2V0dGluZyBBSSBhc3Npc3RhbmNlLi4uXCIpXG5cbiAgICBsZXQgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBcIkFJIGlzIGZpZ3VyaW5nIG91dCBpdHMgY29uZmlkZW5jZS4uLlwiXG4gICAgbGV0IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCA9IHVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWxcbiAgICBpZiAodXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwpIHtcbiAgICAgICAgdXNlcl9jdXJyZW50X3RydXN0X2xldmVsID0gKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgLSA1KSAvIDIuNVxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzaW5nIHVzZXIgcmVwb3J0ZWQgdHJ1c3QgdmFsdWU6IFwiLCB1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsKVxuICAgIH1cblxuICAgIGlmIChBSUludGVydmVudGlvblR5cGUgPT0gXCJub25lXCIpIHtcbiAgICAgICAgLy8gTm8gaW50ZXJ2ZW50aW9uLCBqdXN0IHNob3cgdGhlIEFJIGFzc2lzdGFuY2UgdGhhdCBpcyBhbHJlYWR5IHBvcHVsYXRlZCBpbiB0aGUgc3BhblxuICAgICAgICBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSA9IHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl1cblxuICAgIH0gZWxzZSBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwiZHVtbXlcIikge1xuICAgICAgICAvLyBQcmVwYXJlIGlucHV0IHZhcmlhYmxlcyBmb3IgdXNlciBkZWNpc2lvbiBtb2RlbFxuICAgICAgICBsZXQgdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCA9IE51bWJlcihpbml0aWFsX3VzZXJfZGVjaXNpb24gPT0gcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSlcbiAgICAgICAgbGV0IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlID0gaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VcbiAgICAgICAgbGV0IGFpX2NvbmZpZGVuY2UgPSBOdW1iZXIocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXS5yZXBsYWNlKFwiJVwiLCBcIlwiKSkgLyAxMDBcbiAgICAgICAgbGV0IHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzID0ge1xuICAgICAgICAgICAgXCJ1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50XCI6IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQsXG4gICAgICAgICAgICBcInVzZXJfaW5pdGlhbF9jb25maWRlbmNlXCI6IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlLFxuICAgICAgICAgICAgXCJhaV9jb25maWRlbmNlXCI6IGFpX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICBcInVzZXJfY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICBcInRpbWVzdGVwXCI6IHF1ZXN0aW9uX2ksXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGRlY2lzaW9uIG1vZGVsIGlucHV0czogXCIsIHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzKVxuXG4gICAgICAgIGxldCByZXN1bHQ6IGFueVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImdldF91c2VyX2RlY2lzaW9uX3Byb2JcIixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwiMnN0ZXAtdHJ1c3Qtc3R1ZHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU6IHVzZXJfZGVjaXNpb25fbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeSh1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIVwiKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgfVxuICAgICAgICBsZXQgdXNlcl9kZWNpc2lvbl9wcmVkX3Byb2JzID0gcmVzdWx0W1wicHJlZF9wcm9ic1wiXVswXVxuICAgICAgICBsZXQgWCA9IHJlc3VsdFtcIlhcIl1cbiAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGRlY2lzaW9uIG1vZGVsIFg6IFwiLCBYKVxuICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIncyBsaWtlbGlob29kIG9mIGdvaW5nIHdpdGggdGhlIEFJJ3MgcHJlZGljdGlvbjogXCIsIHVzZXJfZGVjaXNpb25fcHJlZF9wcm9ic1sxXSlcbiAgICAgICAgXG4gICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gU3RyaW5nKCgoWFsyXSArIDAuMSkgKiAxMDApLnRvRml4ZWQoMCkpICsgXCIlXCIgIC8vIENvbmZpZGVuY2UgaW4gQUkncyBwcmVkaWN0aW9uXG4gICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzID0ge1xuICAgICAgICAgICAgXCJ1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0c1wiOiB1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyxcbiAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kXCI6IHVzZXJfZGVjaXNpb25fcHJlZF9wcm9ic1sxXSxcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwiY29uZmlkZW5jZV9pbmZsYXRpb25cIikge1xuICAgICAgICBpZiAodXNlcl9jdXJyZW50X3RydXN0X2xldmVsIDwgMCkge1xuICAgICAgICAgICAgLy8gUHJlcGFyZSBpbnB1dCB2YXJpYWJsZXMgZm9yIHVzZXIgZGVjaXNpb24gbW9kZWxcbiAgICAgICAgICAgIGxldCB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50ID0gTnVtYmVyKGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKVxuICAgICAgICAgICAgbGV0IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlID0gaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VcbiAgICAgICAgICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgICAgICAgICBsZXQgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMgPSB7XG4gICAgICAgICAgICAgICAgXCJ1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50XCI6IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQsXG4gICAgICAgICAgICAgICAgXCJ1c2VyX2luaXRpYWxfY29uZmlkZW5jZVwiOiB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICBcInVzZXJfY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICAgICAgXCJ0aW1lc3RlcFwiOiBxdWVzdGlvbl9pLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGRlY2lzaW9uIG1vZGVsIGlucHV0czogXCIsIHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzKVxuXG4gICAgICAgICAgICBsZXQgYWxkaWZmX3Jlc3VsdDogYW55XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFsZGlmZl9yZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImV4YW1pbmVfZWZmZWN0X29mX3RydXN0X29uX2RlY2lzaW9uX21ha2luZ1wiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU6IHVzZXJfZGVjaXNpb25fbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkodXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGFsX2RpZmYgPSBhbGRpZmZfcmVzdWx0W1wiYWxfZGlmZlwiXVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlJlc3VsdHM6IFwiLCBhbGRpZmZfcmVzdWx0KVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyJ3MgbGlrZWxpaG9vZCBvZiBnb2luZyB3aXRoIHRoZSBBSSdzIHByZWRpY3Rpb246IFwiLCBhbGRpZmZfcmVzdWx0W1wiYWN0dWFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyJ3MgbGlrZWxpaG9vZCBvZiBnb2luZyB3aXRoIHRoZSBBSSdzIHByZWRpY3Rpb24gd2l0aCBuZXV0cmFsIHRydXN0OiBcIiwgYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjY2VwdGFuY2UgTGlrZWxpaG9vZCBEaWZmOiBcIiwgYWxfZGlmZilcbiAgICAgICAgICAgIGxldCB1c2VyX2FjY2VwdGFuY2VfbGlrZWxpaG9vZF9uZXV0cmFsX3RydXN0ID0gYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl1cblxuICAgICAgICAgICAgbGV0IGludGVydmVudGlvbl9hcHBsaWVkID0gZmFsc2VcbiAgICAgICAgICAgIGlmIChhbF9kaWZmID4gSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2FwcGxpZWQgPSB0cnVlXG4gICAgICAgICAgICAgICAgLy9GaW5kIG5lYXJlc3QgQUkgY29uZmlkZW5jZSB3aXRoIG1pbmltaXppbmcgQUxEaWZmXG4gICAgICAgICAgICAgICAgbGV0IGZpbmRuZXdjb25mX2lucHV0X3ZhcmlhYmxlcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50XCI6IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9pbml0aWFsX2NvbmZpZGVuY2VcIjogdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9jdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgXCJ0aW1lc3RlcFwiOiBxdWVzdGlvbl9pLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kX25ldXRyYWxfdHJ1c3RcIjogdXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZmluZG5ld2NvbmZfcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9NT0RFTFNfUk9PVCArIFwiZmluZF9iZXN0X2FpY29uZl90b19kaXNwbGF5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBcIjJzdGVwLXRydXN0LXN0dWR5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU6IHVzZXJfZGVjaXNpb25fbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KGZpbmRuZXdjb25mX2lucHV0X3ZhcmlhYmxlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gU3RyaW5nKChmaW5kbmV3Y29uZl9yZXN1bHRbJ25ld19jb25mX3RvX2Rpc3BsYXknXSAqIDEwMCkudG9GaXhlZCgwKSkgKyBcIiVcIiAgLy8gQ29uZmlkZW5jZSBpbiBBSSdzIHByZWRpY3Rpb25cbiAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RfcmVzdWx0c1wiOiBhbGRpZmZfcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBcImZpbmRuZXdjb25mX3Jlc3VsdHNcIjogZmluZG5ld2NvbmZfcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBcImN1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICAgICAgICAgICAgICBcImNvbmZfYWN0dWFsXCI6IHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiY29uZl9uZXdcIjogZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kLWFjdHVhbGNvbmZfYWN0dWFsdHJ1c3RcIjogYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9uZXV0cmFsdHJ1c3RcIjogYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kLW5ld2NvbmZfYWN0dWFsdHJ1c3RcIjogZmluZG5ld2NvbmZfcmVzdWx0W1wibmV3X2NvbmZfYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImludGVydmVudGlvbl9hcHBsaWVkXCI6IHRydWUsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2FwcGxpZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZF9yZXN1bHRzXCI6IGFsZGlmZl9yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIFwiY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIFwiY29uZl9hY3R1YWxcIjogcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9hY3R1YWx0cnVzdFwiOiBhbGRpZmZfcmVzdWx0W1wiYWN0dWFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1hY3R1YWxjb25mX25ldXRyYWx0cnVzdFwiOiBhbGRpZmZfcmVzdWx0W1wibmV1dHJhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHMgPSB7XCJpbnRlcnZlbnRpb25fYXBwbGllZFwiOiBmYWxzZX1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQUlJbnRlcnZlbnRpb25UeXBlID09IFwiY29uZmlkZW5jZV9pbmZsYXRpb25fZml4ZWRcIikge1xuICAgICAgICBpZiAodXNlcl9jdXJyZW50X3RydXN0X2xldmVsIDwgMCAmJiBpbml0aWFsX3VzZXJfZGVjaXNpb24gIT0gcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSkge1xuICAgICAgICAgICAgLy8gUHJlcGFyZSBpbnB1dCB2YXJpYWJsZXMgZm9yIHVzZXIgZGVjaXNpb24gbW9kZWxcbiAgICAgICAgICAgIGxldCB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50ID0gTnVtYmVyKGluaXRpYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJhaV9wcmVkaWN0aW9uXCJdKVxuICAgICAgICAgICAgbGV0IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlID0gaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VcbiAgICAgICAgICAgIGxldCBhaV9jb25maWRlbmNlID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0ucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwXG4gICAgICAgICAgICBsZXQgdXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMgPSB7XG4gICAgICAgICAgICAgICAgXCJ1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50XCI6IHVzZXJfYWlfaW5pdGlhbF9hZ3JlZW1lbnQsXG4gICAgICAgICAgICAgICAgXCJ1c2VyX2luaXRpYWxfY29uZmlkZW5jZVwiOiB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICBcInVzZXJfY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICAgICAgXCJ0aW1lc3RlcFwiOiBxdWVzdGlvbl9pLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyIGRlY2lzaW9uIG1vZGVsIGlucHV0czogXCIsIHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzKVxuXG4gICAgICAgICAgICBsZXQgYWxkaWZmX3Jlc3VsdDogYW55XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFsZGlmZl9yZXN1bHQgPSBhd2FpdCAkLmFqYXgoXG4gICAgICAgICAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImV4YW1pbmVfZWZmZWN0X29mX3RydXN0X29uX2RlY2lzaW9uX21ha2luZ1wiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU6IHVzZXJfZGVjaXNpb25fbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkodXNlcl9kZWNpc2lvbl9tb2RlbF9pbnB1dHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1IhXCIpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGFsX2RpZmYgPSBhbGRpZmZfcmVzdWx0W1wiYWxfZGlmZlwiXVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlJlc3VsdHM6IFwiLCBhbGRpZmZfcmVzdWx0KVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyJ3MgbGlrZWxpaG9vZCBvZiBnb2luZyB3aXRoIHRoZSBBSSdzIHByZWRpY3Rpb246IFwiLCBhbGRpZmZfcmVzdWx0W1wiYWN0dWFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVc2VyJ3MgbGlrZWxpaG9vZCBvZiBnb2luZyB3aXRoIHRoZSBBSSdzIHByZWRpY3Rpb24gd2l0aCBuZXV0cmFsIHRydXN0OiBcIiwgYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjY2VwdGFuY2UgTGlrZWxpaG9vZCBEaWZmOiBcIiwgYWxfZGlmZilcbiAgICAgICAgICAgIGxldCB1c2VyX2FjY2VwdGFuY2VfbGlrZWxpaG9vZF9uZXV0cmFsX3RydXN0ID0gYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl1cbiAgICAgICAgICAgIGxldCBuZXdfY29uZmlkZW5jZSA9IE1hdGgubWluKDEsIGFpX2NvbmZpZGVuY2UgKyBJbnRlcnZlbnRpb25GaXhlZENvbmZJbmNyZWFzZSlcbiAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gU3RyaW5nKCggbmV3X2NvbmZpZGVuY2UgKiAxMDApLnRvRml4ZWQoMCkpICsgXCIlXCJcbiAgICAgICAgICAgIGxldCBpbnRlcnZlbnRpb25fYXBwbGllZCA9IGZhbHNlXG4gICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHtcbiAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZF9yZXN1bHRzXCI6IGFsZGlmZl9yZXN1bHQsXG4gICAgICAgICAgICAgICAgXCJjdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgICAgICBcImNvbmZfYWN0dWFsXCI6IHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0sXG4gICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9hY3R1YWx0cnVzdFwiOiBhbGRpZmZfcmVzdWx0W1wiYWN0dWFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kLWFjdHVhbGNvbmZfbmV1dHJhbHRydXN0XCI6IGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgIFwiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIjogdHJ1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9kZXRhaWxzID0ge1wiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIjogZmFsc2V9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFJSW50ZXJ2ZW50aW9uVHlwZSA9PSBcImNvbmZpZGVuY2VfZGVmbGF0aW9uXCIpIHtcbiAgICAgICAgaWYgKHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCA+IDApIHtcbiAgICAgICAgICAgIC8vIFByZXBhcmUgaW5wdXQgdmFyaWFibGVzIGZvciB1c2VyIGRlY2lzaW9uIG1vZGVsXG4gICAgICAgICAgICBsZXQgdXNlcl9haV9pbml0aWFsX2FncmVlbWVudCA9IE51bWJlcihpbml0aWFsX3VzZXJfZGVjaXNpb24gPT0gcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSlcbiAgICAgICAgICAgIGxldCB1c2VyX2luaXRpYWxfY29uZmlkZW5jZSA9IGluaXRpYWxfdXNlcl9jb25maWRlbmNlXG4gICAgICAgICAgICBsZXQgYWlfY29uZmlkZW5jZSA9IE51bWJlcihxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMFxuICAgICAgICAgICAgbGV0IHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzID0ge1xuICAgICAgICAgICAgICAgIFwidXNlcl9haV9pbml0aWFsX2FncmVlbWVudFwiOiB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50LFxuICAgICAgICAgICAgICAgIFwidXNlcl9pbml0aWFsX2NvbmZpZGVuY2VcIjogdXNlcl9pbml0aWFsX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgXCJhaV9jb25maWRlbmNlXCI6IGFpX2NvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgXCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICAgICAgICAgIFwidGltZXN0ZXBcIjogcXVlc3Rpb25faSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlciBkZWNpc2lvbiBtb2RlbCBpbnB1dHM6IFwiLCB1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cylcblxuICAgICAgICAgICAgbGV0IGFsZGlmZl9yZXN1bHQ6IGFueVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhbGRpZmZfcmVzdWx0ID0gYXdhaXQgJC5hamF4KFxuICAgICAgICAgICAgICAgICAgICBVU0VSX01PREVMU19ST09UICsgXCJleGFtaW5lX2VmZmVjdF9vZl90cnVzdF9vbl9kZWNpc2lvbl9tYWtpbmdcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwiMnN0ZXAtdHJ1c3Qtc3R1ZHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lOiB1c2VyX2RlY2lzaW9uX21vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IEpTT04uc3RyaW5naWZ5KHVzZXJfZGVjaXNpb25fbW9kZWxfaW5wdXRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIVwiKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBhbF9kaWZmID0gYWxkaWZmX3Jlc3VsdFtcImFsX2RpZmZcIl1cbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJSZXN1bHRzOiBcIiwgYWxkaWZmX3Jlc3VsdClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlcidzIGxpa2VsaWhvb2Qgb2YgZ29pbmcgd2l0aCB0aGUgQUkncyBwcmVkaWN0aW9uOiBcIiwgYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVXNlcidzIGxpa2VsaWhvb2Qgb2YgZ29pbmcgd2l0aCB0aGUgQUkncyBwcmVkaWN0aW9uIHdpdGggbmV1dHJhbCB0cnVzdDogXCIsIGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBY2NlcHRhbmNlIExpa2VsaWhvb2QgRGlmZjogXCIsIGFsX2RpZmYpXG4gICAgICAgICAgICBsZXQgdXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdCA9IGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdXG5cbiAgICAgICAgICAgIGxldCBpbnRlcnZlbnRpb25fYXBwbGllZCA9IGZhbHNlXG4gICAgICAgICAgICBpZiAoYWxfZGlmZiA+IEludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9hcHBsaWVkID0gdHJ1ZVxuICAgICAgICAgICAgICAgIC8vRmluZCBuZWFyZXN0IEFJIGNvbmZpZGVuY2Ugd2l0aCBtaW5pbWl6aW5nIEFMRGlmZlxuICAgICAgICAgICAgICAgIGxldCBmaW5kbmV3Y29uZl9pbnB1dF92YXJpYWJsZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIFwidXNlcl9haV9pbml0aWFsX2FncmVlbWVudFwiOiB1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50LFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJfaW5pdGlhbF9jb25maWRlbmNlXCI6IHVzZXJfaW5pdGlhbF9jb25maWRlbmNlLFxuICAgICAgICAgICAgICAgICAgICBcInVzZXJfY3VycmVudF90cnVzdF9sZXZlbFwiOiB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIFwidGltZXN0ZXBcIjogcXVlc3Rpb25faSxcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VyX2FjY2VwdGFuY2VfbGlrZWxpaG9vZF9uZXV0cmFsX3RydXN0XCI6IHVzZXJfYWNjZXB0YW5jZV9saWtlbGlob29kX25ldXRyYWxfdHJ1c3QsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbmRuZXdjb25mX3Jlc3VsdCA9IGF3YWl0ICQuYWpheChcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImZpbmRfYmVzdF9haWNvbmZfdG9fZGlzcGxheVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdDogXCIyc3RlcC10cnVzdC1zdHVkeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lOiB1c2VyX2RlY2lzaW9uX21vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShmaW5kbmV3Y29uZl9pbnB1dF92YXJpYWJsZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIVwiKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSA9IFN0cmluZygoZmluZG5ld2NvbmZfcmVzdWx0WyduZXdfY29uZl90b19kaXNwbGF5J10gKiAxMDApLnRvRml4ZWQoMCkpICsgXCIlXCIgIC8vIENvbmZpZGVuY2UgaW4gQUkncyBwcmVkaWN0aW9uXG4gICAgICAgICAgICAgICAgaW50ZXJ2ZW50aW9uX2RldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kX3Jlc3VsdHNcIjogYWxkaWZmX3Jlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgXCJmaW5kbmV3Y29uZl9yZXN1bHRzXCI6IGZpbmRuZXdjb25mX3Jlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgXCJjdXJyZW50X3RydXN0X2xldmVsXCI6IHVzZXJfY3VycmVudF90cnVzdF9sZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgXCJjb25mX2FjdHVhbFwiOiBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImNvbmZfbmV3XCI6IGRpc3BsYXllZF9haV9jb25maWRlbmNlLFxuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1hY3R1YWxjb25mX2FjdHVhbHRydXN0XCI6IGFsZGlmZl9yZXN1bHRbXCJhY3R1YWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kLWFjdHVhbGNvbmZfbmV1dHJhbHRydXN0XCI6IGFsZGlmZl9yZXN1bHRbXCJuZXV0cmFsX3RydXN0XCJdW1wiYWNjZXB0YW5jZV9saWtlbGlob29kXCJdLFxuICAgICAgICAgICAgICAgICAgICBcImFjY2VwdGFuY2VfbGlrZWxpaG9vZC1uZXdjb25mX2FjdHVhbHRydXN0XCI6IGZpbmRuZXdjb25mX3Jlc3VsdFtcIm5ld19jb25mX2FjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJpbnRlcnZlbnRpb25fYXBwbGllZFwiOiB0cnVlLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpc3BsYXllZF9haV9jb25maWRlbmNlID0gcXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXVxuICAgICAgICAgICAgICAgIGludGVydmVudGlvbl9hcHBsaWVkID0gZmFsc2VcbiAgICAgICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RfcmVzdWx0c1wiOiBhbGRpZmZfcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICBcImN1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X3RydXN0X2xldmVsLFxuICAgICAgICAgICAgICAgICAgICBcImNvbmZfYWN0dWFsXCI6IHF1ZXN0aW9uIVtcImFpX2NvbmZpZGVuY2VcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiYWNjZXB0YW5jZV9saWtlbGlob29kLWFjdHVhbGNvbmZfYWN0dWFsdHJ1c3RcIjogYWxkaWZmX3Jlc3VsdFtcImFjdHVhbF90cnVzdFwiXVtcImFjY2VwdGFuY2VfbGlrZWxpaG9vZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2QtYWN0dWFsY29uZl9uZXV0cmFsdHJ1c3RcIjogYWxkaWZmX3Jlc3VsdFtcIm5ldXRyYWxfdHJ1c3RcIl1bXCJhY2NlcHRhbmNlX2xpa2VsaWhvb2RcIl0sXG4gICAgICAgICAgICAgICAgICAgIFwiaW50ZXJ2ZW50aW9uX2FwcGxpZWRcIjogZmFsc2UsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzcGxheWVkX2FpX2NvbmZpZGVuY2UgPSBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdXG4gICAgICAgICAgICBpbnRlcnZlbnRpb25fZGV0YWlscyA9IHtcImludGVydmVudGlvbl9hcHBsaWVkXCI6IGZhbHNlfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW50ZXJ2ZW50aW9uX2RldGFpbHNbJ3RydXN0X2xldmVsX2F0X3N0YXJ0X29mX2ludGVyYWN0aW9uJ10gPSB1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcbiAgICBhaV9hc3Npc3RhbmNlX2ludGVydmVudGlvbl9kYXRhID0ge1xuICAgICAgICBcImludGVydmVudGlvbl90eXBlXCI6IEFJSW50ZXJ2ZW50aW9uVHlwZSxcbiAgICAgICAgXCJhY3R1YWxfYWlfY29uZmlkZW5jZVwiOiBxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLFxuICAgICAgICBcImRpc3BsYXllZF9haV9jb25maWRlbmNlXCI6IGRpc3BsYXllZF9haV9jb25maWRlbmNlLFxuICAgICAgICBcImludGVydmVudGlvbl9kZXRhaWxzXCI6IGludGVydmVudGlvbl9kZXRhaWxzLFxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkFJIEFzc2lzdGFuY2UgSW50ZXJ2ZW50aW9uIERhdGE6IFwiLCBhaV9hc3Npc3RhbmNlX2ludGVydmVudGlvbl9kYXRhKVxuXG4gICAgJChcIiNhaV9wcmVkaWN0aW9uX3NwYW5cIikuaHRtbChcIk9wdGlvbiBcIiArIHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0pXG4gICAgJChcIiNhaV9jb25maWRlbmNlX3NwYW5cIikuaHRtbChkaXNwbGF5ZWRfYWlfY29uZmlkZW5jZSlcblxuICAgICQoXCIjYWlfYXNzaXN0YW5jZV9kaXZcIikuc2hvdygpXG4gICAgJChcIiNmaW5hbF91c2VyX2RlY2lzaW9uX2RpdlwiKS5zaG93KClcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0X3RydXN0X2VmZmVjdCgpIHtcbiAgICAvLyBHZXQgdHJ1c3QgZWZmZWN0IGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgbGV0IGluaXRpYWxfdXNlcl9jb3JyZWN0bmVzcyA9IE51bWJlcihpbml0aWFsX3VzZXJfZGVjaXNpb24gPT0gcXVlc3Rpb24hW1wiY29ycmVjdF9vcHRpb25cIl0pXG4gICAgbGV0IGFpX2NvcnJlY3RuZXNzID0gTnVtYmVyKHF1ZXN0aW9uIVtcImFpX3ByZWRpY3Rpb25cIl0gPT0gcXVlc3Rpb24hW1wiY29ycmVjdF9vcHRpb25cIl0pXG4gICAgbGV0IGZpbmFsX3VzZXJfY29ycmVjdG5lc3MgPSBOdW1iZXIoZmluYWxfdXNlcl9kZWNpc2lvbiA9PSBxdWVzdGlvbiFbXCJjb3JyZWN0X29wdGlvblwiXSlcbiAgICBsZXQgYWlfY29uZmlkZW5jZSA9IE51bWJlcihxdWVzdGlvbiFbXCJhaV9jb25maWRlbmNlXCJdLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMFxuICAgIGxldCB0cnVzdF9lZmZlY3RfaW5wdXRzID0ge1xuICAgICAgICBcImluaXRpYWxfdXNlcl9jb3JyZWN0bmVzc1wiOiBpbml0aWFsX3VzZXJfY29ycmVjdG5lc3MsXG4gICAgICAgIFwiYWlfY29ycmVjdG5lc3NcIjogYWlfY29ycmVjdG5lc3MsXG4gICAgICAgIFwiZmluYWxfdXNlcl9jb3JyZWN0bmVzc1wiOiBmaW5hbF91c2VyX2NvcnJlY3RuZXNzLFxuICAgICAgICBcImFpX2NvbmZpZGVuY2VcIjogYWlfY29uZmlkZW5jZSxcbiAgICAgICAgXCJ1c2VyX2N1cnJlbnRfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbCxcbiAgICAgICAgXCJ0aW1lc3RlcFwiOiBxdWVzdGlvbl9pLFxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIlRydXN0IGVmZmVjdCBpbnB1dHM6IFwiLCB0cnVzdF9lZmZlY3RfaW5wdXRzKVxuICAgIC8vbGV0IHRydXN0X2VmZmVjdCA9IGdldF91c2VyX3RydXN0X2VmZmVjdCh0cnVzdF9lZmZlY3RfaW5wdXRzKVxuICAgIGxldCByZXN1bHQ6IGFueVxuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0ICQuYWpheChcbiAgICAgICAgICAgIFVTRVJfTU9ERUxTX1JPT1QgKyBcImdldF90cnVzdF9lZmZlY3RcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwiMnN0ZXAtdHJ1c3Qtc3R1ZHlcIixcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxfbmFtZTogdHJ1c3RfZWZmZWN0X21vZGVsLFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeSh0cnVzdF9lZmZlY3RfaW5wdXRzKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFUlJPUiFcIilcbiAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhcIlRydXN0IGVmZmVjdCBwcmVkaWN0aW9uIHJlc3VsdDogXCIsIHJlc3VsdClcbiAgICBsZXQgdHJ1c3RfZWZmZWN0ID0gYXdhaXQgcmVzdWx0W1widHJ1c3RfZWZmZWN0XCJdXG5cbiAgICB1c2VyX2N1cnJlbnRfZXN0aW1hdGVkX3RydXN0X2xldmVsID0gdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbCArIHRydXN0X2VmZmVjdFxuICAgIHRydXN0X2VmZmVjdF9wcmVkaWN0aW9uX2RhdGEgPSB7XG4gICAgICAgIFwibW9kZWxfaW5wdXRzXCI6IHRydXN0X2VmZmVjdF9pbnB1dHMsXG4gICAgICAgIFwicHJlZGljdGVkX3RydXN0X2VmZmVjdFwiOiB0cnVzdF9lZmZlY3QsXG4gICAgICAgIFwidXNlcl9uZXdfdHJ1c3RfbGV2ZWxcIjogdXNlcl9jdXJyZW50X2VzdGltYXRlZF90cnVzdF9sZXZlbCxcbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gbWFrZV9maW5hbF91c2VyX2RlY2lzaW9uKG9wdGlvbikge1xuICAgIHRpbWVfZmluYWxfY29uZmlkZW5jZV9zdGFydCA9IERhdGUubm93KClcbiAgICBmaW5hbF91c2VyX2RlY2lzaW9uID0gb3B0aW9uXG4gICAgYXNzZXJ0KG9wdGlvbiA9PSAxIHx8IG9wdGlvbiA9PSAyLCBcIkludmFsaWQgb3B0aW9uIVwiKVxuICAgIGlmIChvcHRpb24gPT0gMSkge1xuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICB9XG4gICAgJChcIiNmaW5hbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLnNob3coKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjFcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxufVxuJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5vbihcImNsaWNrXCIsICgpID0+IG1ha2VfZmluYWxfdXNlcl9kZWNpc2lvbigxKSlcbiQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikub24oXCJjbGlja1wiLCAoKSA9PiBtYWtlX2ZpbmFsX3VzZXJfZGVjaXNpb24oMikpXG5cbmZ1bmN0aW9uIGdldF9maW5hbF91c2VyX2NvbmZpZGVuY2UoY29uZl9sZXZlbCkge1xuICAgIHRpbWVfdHJ1c3RfZGVjaXNpb25fc3RhcnQgPSBEYXRlLm5vdygpXG4gICAgZmluYWxfdXNlcl9jb25maWRlbmNlID0gY29uZl9sZXZlbFxuICAgIGFzc2VydChjb25mX2xldmVsID09IDEgfHwgY29uZl9sZXZlbCA9PSAyIHx8IGNvbmZfbGV2ZWwgPT0gMywgXCJJbnZhbGlkIG9wdGlvbiFcIilcbiAgICBpZiAoY29uZl9sZXZlbCA9PSAxKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5hdHRyKFwiYWN0aXZlZGVjaXNpb25cIiwgXCJ0cnVlXCIpXG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSBpZiAoY29uZl9sZXZlbCA9PSAyKSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLmF0dHIoXCJhY3RpdmVkZWNpc2lvblwiLCBcInRydWVcIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAgICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikuYXR0cihcImFjdGl2ZWRlY2lzaW9uXCIsIFwidHJ1ZVwiKVxuICAgIH1cblxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24yXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxuICAgIHNob3dfcmVzdWx0KClcbn1cbiQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMVwiKS5vbihcImNsaWNrXCIsICgpID0+IGdldF9maW5hbF91c2VyX2NvbmZpZGVuY2UoMSkpXG4kKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjJcIikub24oXCJjbGlja1wiLCAoKSA9PiBnZXRfZmluYWxfdXNlcl9jb25maWRlbmNlKDIpKVxuJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24zXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gZ2V0X2ZpbmFsX3VzZXJfY29uZmlkZW5jZSgzKSlcblxuXG5mdW5jdGlvbiBzaG93X3Jlc3VsdCgpIHtcblxuICAgIGxldCBjb3JyZWN0X29wdGlvbjogbnVtYmVyID0gcXVlc3Rpb24hW1wiY29ycmVjdF9vcHRpb25cIl1cbiAgICBsZXQgdXNlcl9pc19jb3JyZWN0OiBib29sZWFuID0gY29ycmVjdF9vcHRpb24gPT0gZmluYWxfdXNlcl9kZWNpc2lvblxuXG4gICAgbGV0IGFpX2lzX2NvcnJlY3Q6IGJvb2xlYW4gPSBxdWVzdGlvbiFbXCJhaV9pc19jb3JyZWN0XCJdXG4gICAgbGV0IG1lc3NhZ2UgPSBcIkNvcnJlY3QgYW5zd2VyOiA8Yj5PcHRpb24gXCIgKyBjb3JyZWN0X29wdGlvbiArIFwiPC9iPi48YnI+XCJcbiAgICBpZiAodXNlcl9pc19jb3JyZWN0KSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gXCJZb3UgcGlja2VkIE9wdGlvbiBcIiArIGZpbmFsX3VzZXJfZGVjaXNpb24gKyBcIiwgd2hpY2ggd2FzIDxzcGFuIGNsYXNzPSdjb2xvcl9jb3JyZWN0Jz48Yj5jb3JyZWN0PC9iPjwvc3Bhbj4uPGJyPlwiXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXNzYWdlICs9IFwiWW91IHBpY2tlZCBPcHRpb24gXCIgKyBmaW5hbF91c2VyX2RlY2lzaW9uICsgXCIsIHdoaWNoIHdhcyA8c3BhbiBjbGFzcz0nY29sb3JfaW5jb3JyZWN0Jz48Yj5pbmNvcnJlY3Q8L2I+PC9zcGFuPi48YnI+XCJcbiAgICB9XG4gICAgaWYgKGFpX2lzX2NvcnJlY3QpIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIlRoZSBBSSBwaWNrZWQgT3B0aW9uIFwiICsgcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSArIFwiLCB3aGljaCB3YXMgPHNwYW4gY2xhc3M9J2NvbG9yX2NvcnJlY3QnPjxiPmNvcnJlY3Q8Yj48L3NwYW4+Ljxicj5cIlxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIlRoZSBBSSBwaWNrZWQgT3B0aW9uIFwiICsgcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSArIFwiLCB3aGljaCB3YXMgPHNwYW4gY2xhc3M9J2NvbG9yX2luY29ycmVjdCc+PGI+aW5jb3JyZWN0PC9iPjwvc3Bhbj4uPGJyPlwiXG4gICAgfVxuICAgIGlmICh1c2VyX2lzX2NvcnJlY3QpIHtcbiAgICAgICAgbWVzc2FnZSArPSBcIjxzcGFuIGNsYXNzPSdjb2xvcl9jb3JyZWN0Jz48Yj5Zb3UgcmVjZWl2ZSBhIHJld2FyZCBvZiAkMC4xMC48L2I+PC9zcGFuPlwiXG4gICAgICAgIGJhbGFuY2UgKz0gMC4xXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBtZXNzYWdlICs9IFwiPHNwYW4gY2xhc3M9J2NvbG9yX2luY29ycmVjdCc+PGI+WW91IGRvIG5vdCByZWNlaXZlIGFueSByZXdhcmQuPC9iPjwvc3Bhbj5cIlxuICAgIH1cblxuICAgIG1lc3NhZ2UgKz0gXCI8YnI+XCJcbiAgICAvL2lmIChzdWNjZXNzKSB7XG4gICAgLy8gICAgbWVzc2FnZSArPSBgWW91IGdhaW4gJCR7KGJldF92YWwqYmV0X3ZhbF9yYXRpbykudG9GaXhlZCgyKX0uYFxuICAgIC8vICAgIGJhbGFuY2UgKz0gYmV0X3ZhbCpiZXRfdmFsX3JhdGlvXG4gICAgLy99IGVsc2Uge1xuICAgIC8vICAgIG1lc3NhZ2UgKz0gYFlvdSBsb3NlICQkeyhiZXRfdmFsLzEuMCkudG9GaXhlZCgyKX0uYFxuICAgIC8vICAgIGJhbGFuY2UgLT0gYmV0X3ZhbC8xLjBcbiAgICAvLyAgICBiYWxhbmNlID0gTWF0aC5tYXgoMCwgYmFsYW5jZSlcbiAgICAvL31cbiAgICBnZXRfdHJ1c3RfZWZmZWN0KClcblxuICAgICQoXCIjYmFsYW5jZVwiKS50ZXh0KGBCYWxhbmNlOiAkJHtiYWxhbmNlLnRvRml4ZWQoMil9ICsgJDEuMGApXG4gICAgJChcIiNyZXN1bHRfc3BhblwiKS5odG1sKG1lc3NhZ2UpXG4gICAgLy8kKFwiI2J1dHRvbl9uZXh0XCIpLnNob3coKVxuICAgICQoXCIjcmVzdWx0X3NwYW5cIikuc2hvdygpXG4gICAgLy8kKFwiI2J1dHRvbl9wbGFjZV9iZXRcIikuaGlkZSgpXG4gICAgJChcIiNob3dfY29uZmlkZW50X2RpdlwiKS5zaG93KClcblxuICAgIC8vJCgnI3JhbmdlX3ZhbCcpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcbn1cblxuLy8kKFwiI2J1dHRvbl9wbGFjZV9iZXRcIikub24oXCJjbGlja1wiLCBzaG93X3Jlc3VsdClcblxuZnVuY3Rpb24gbmV4dF9xdWVzdGlvbigpIHtcbiAgICAvLyByZXN0b3JlIHByZXZpb3VzIHN0YXRlIG9mIFVJXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2luaXRpYWxfZGVjaXNpb25fb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9pbml0aWFsX2RlY2lzaW9uX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjFcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG4gICAgJChcIiNidXR0b25faW5pdGlhbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG5cbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2RlY2lzaW9uX29wdGlvbjJcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfZGVjaXNpb25fb3B0aW9uMVwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9kZWNpc2lvbl9vcHRpb24yXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJhY3RpdmVkZWNpc2lvblwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiYWN0aXZlZGVjaXNpb25cIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImFjdGl2ZWRlY2lzaW9uXCIpXG4gICAgJChcIiNidXR0b25fZmluYWxfY29uZmlkZW5jZV9vcHRpb24xXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxuICAgICQoXCIjYnV0dG9uX2ZpbmFsX2NvbmZpZGVuY2Vfb3B0aW9uMlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2J1dHRvbl9maW5hbF9jb25maWRlbmNlX29wdGlvbjNcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXG5cbiAgICAkKFwiI2FpX2Fzc2lzdGFuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjaW5pdGlhbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjZmluYWxfdXNlcl9kZWNpc2lvbl9kaXZcIikuaGlkZSgpXG4gICAgJChcIiNmaW5hbF91c2VyX2NvbmZpZGVuY2VfZGl2XCIpLmhpZGUoKVxuICAgICQoJyNyYW5nZV92YWwnKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcbiAgICAkKFwiI2hvd19jb25maWRlbnRfZGl2XCIpLmhpZGUoKVxuICAgICQoXCIjYnV0dG9uX3BsYWNlX2JldFwiKS5oaWRlKClcbiAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLmhpZGUoKVxuICAgICQoXCIjcmVzdWx0X3NwYW5cIikuaGlkZSgpXG4gICAgaWYgKHF1ZXN0aW9uX2kgPT0gLTEpIHtcbiAgICAgICAgJChcIiNyYW5nZV90ZXh0XCIpLnRleHQoXCItXCIpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAkKFwiI3JhbmdlX3RleHRcIikudGV4dChgQmVmb3JlIHRoaXMgaW50ZXJhY3Rpb24sIHlvdXIgdHJ1c3QgaW4gdGhlIEFJOiAke3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwgKiAxMH0gLyAxMDAuYClcbiAgICB9XG4gICAgJChcIiNyYW5nZV92YWxcIikudmFsKHVzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWwpXG5cbiAgICBxdWVzdGlvbl9pICs9IDFcbiAgICBpZiAocXVlc3Rpb25faSA+PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAkKFwiI21haW5fYm94X2V4cGVyaW1lbnRcIikuaGlkZSgpXG4gICAgICAgIGlmIChNT0NLTU9ERSkge1xuICAgICAgICAgICAgJChcIiNtYWluX2JveF9lbmRfbW9ja1wiKS5zaG93KClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoXCIjbWFpbl9ib3hfZW5kXCIpLnNob3coKVxuICAgICAgICB9XG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICBxdWVzdGlvbiA9IGRhdGFbcXVlc3Rpb25faV1cblxuICAgICQoXCIjcXVlc3Rpb25fc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcInF1ZXN0aW9uXCJdKVxuICAgICQoXCIjb3B0aW9uMV9zcGFuXCIpLmh0bWwocXVlc3Rpb24hW1wib3B0aW9uMVwiXSlcbiAgICAkKFwiI29wdGlvbjJfc3BhblwiKS5odG1sKHF1ZXN0aW9uIVtcIm9wdGlvbjJcIl0pXG4gICAgLy8kKFwiI2FpX3ByZWRpY3Rpb25fc3BhblwiKS5odG1sKFwiT3B0aW9uIFwiICsgcXVlc3Rpb24hW1wiYWlfcHJlZGljdGlvblwiXSlcbiAgICAvLyQoXCIjYWlfY29uZmlkZW5jZV9zcGFuXCIpLmh0bWwocXVlc3Rpb24hW1wiYWlfY29uZmlkZW5jZVwiXSlcblxuICAgIC8vIHNldCBiZXQgdmFsdWUgcmF0aW9cbiAgICBpZihxdWVzdGlvbi5oYXNPd25Qcm9wZXJ0eShcInJld2FyZF9yYXRpb1wiKSkge1xuICAgICAgICBsZXQgW3JhdGlvMSwgcmF0aW8yXSA9IHF1ZXN0aW9uW1wicmV3YXJkX3JhdGlvXCJdXG4gICAgICAgIHJhdGlvMSA9IE51bWJlcihyYXRpbzEpXG4gICAgICAgIHJhdGlvMiA9IE51bWJlcihyYXRpbzIpXG4gICAgICAgIGJldF92YWxfcmF0aW8gPSByYXRpbzEvcmF0aW8yXG4gICAgfSBlbHNlIHtcbiAgICAgICAgYmV0X3ZhbF9yYXRpbyA9IDFcbiAgICB9XG5cbiAgICB0aW1lX3F1ZXN0aW9uX3N0YXJ0ID0gRGF0ZS5ub3coKVxuICAgICQoXCIjcHJvZ3Jlc3NcIikudGV4dChgUHJvZ3Jlc3M6ICR7cXVlc3Rpb25faSArIDF9IC8gJHtkYXRhLmxlbmd0aH1gKVxufVxuXG4vLyBnZXQgdXNlciBpZCBhbmQgbG9hZCBxdWV1ZVxuLy8gdHJ5IHRvIHNlZSBpZiBzdGFydCBvdmVycmlkZSB3YXMgcGFzc2VkXG5jb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuY29uc3Qgc3RhcnRPdmVycmlkZSA9IHVybFBhcmFtcy5nZXQoJ3N0YXJ0Jyk7XG5jb25zdCBVSURGcm9tVVJMID0gdXJsUGFyYW1zLmdldChcInVpZFwiKVxuZ2xvYmFsVGhpcy51cmxfZGF0YSA9IHBhcmFtc1RvT2JqZWN0KHVybFBhcmFtcy5lbnRyaWVzKCkpXG5cbmlmIChVSURGcm9tVVJMICE9IG51bGwpIHtcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFVJREZyb21VUkwgYXMgc3RyaW5nXG4gICAgaWYgKGdsb2JhbFRoaXMudWlkID09IFwicHJvbGlmaWNfcmFuZG9tXCIpIHtcbiAgICAgICAgbGV0IHF1ZXVlX2lkID0gYCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApfWAucGFkU3RhcnQoMywgXCIwXCIpXG4gICAgICAgIGdsb2JhbFRoaXMudWlkID0gYCR7dXJsUGFyYW1zLmdldChcInByb2xpZmljX3F1ZXVlX25hbWVcIil9LyR7cXVldWVfaWR9YFxuICAgIH1cbn0gZWxzZSBpZiAoREVWTU9ERSkge1xuICAgIGdsb2JhbFRoaXMudWlkID0gXCJkZW1vXCJcbn0gZWxzZSB7XG4gICAgbGV0IFVJRF9tYXliZTogYW55ID0gbnVsbFxuICAgIHdoaWxlIChVSURfbWF5YmUgPT0gbnVsbCkge1xuICAgICAgICBVSURfbWF5YmUgPSBwcm9tcHQoXCJFbnRlciB5b3VyIHVzZXIgaWQuIFBsZWFzZSBnZXQgaW4gdG91Y2ggaWYgeW91IHdlcmUgbm90IGFzc2lnbmVkIGFuIGlkIGJ1dCB3aXNoIHRvIHBhcnRpY2lwYXRlIGluIHRoaXMgZXhwZXJpbWVudC5cIilcbiAgICB9XG4gICAgZ2xvYmFsVGhpcy51aWQgPSBVSURfbWF5YmUhXG59XG5cbmNvbnN0IHZhbGlkQUlJbnRlcnZlbnRpb25zID0gW1wibm9uZVwiLCBcImR1bW15XCIsIFwiY29uZmlkZW5jZV9pbmZsYXRpb25cIiwgXCJjb25maWRlbmNlX2luZmxhdGlvbl9maXhlZFwiLCBcImNvbmZpZGVuY2VfZGVmbGF0aW9uXCJdXG5sZXQgQUlJbnRlcnZlbnRpb25UeXBlID0gdXJsUGFyYW1zLmdldChcImludGVydmVudGlvbl90eXBlXCIpXG5sZXQgSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkID0gTnVtYmVyKHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fdGhyZXNob2xkXCIpKVxubGV0IEludGVydmVudGlvbkZpeGVkQ29uZkluY3JlYXNlID0gTnVtYmVyKHVybFBhcmFtcy5nZXQoXCJpbnRlcnZlbnRpb25fZml4ZWRjb25maW5jcmVhc2VcIikpXG5sZXQgdXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwgPSB1cmxQYXJhbXMuZ2V0KFwidXNlX3VzZXJfcmVwb3J0ZWRfdHJ1c3RfbGV2ZWxcIikgPT0gXCJ0cnVlXCJcbmlmIChBSUludGVydmVudGlvblR5cGUgPT0gbnVsbCkge1xuICAgIEFJSW50ZXJ2ZW50aW9uVHlwZSA9IFwibm9uZVwiXG59IFxuaWYgKEludGVydmVudGlvbkFMRGlmZlRocmVzaG9sZCA9PSBudWxsKSB7XG4gICAgSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkID0gLTFcbn1cbmlmIChJbnRlcnZlbnRpb25GaXhlZENvbmZJbmNyZWFzZSA9PSBudWxsKSB7XG4gICAgSW50ZXJ2ZW50aW9uRml4ZWRDb25mSW5jcmVhc2UgPSAwXG59XG5pZiAodXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwgPT0gbnVsbCkge1xuICAgIHVzZVVzZXJSZXBvcnRlZFRydXN0VmFsID0gZmFsc2Vcbn1cblxuLy9Bc3NlcnQgdGhhdCB0aGUgQUlBc3Npc3RhbmNlSW50ZXJ2ZW50aW9uIGlzIG9uZSBvZiB0aGUgdmFsaWQgdmFsdWVzXG5pZiAoIXZhbGlkQUlJbnRlcnZlbnRpb25zLmluY2x1ZGVzKEFJSW50ZXJ2ZW50aW9uVHlwZSEpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBBSSBBc3Npc3RhbmNlIEludGVydmVudGlvbjogXCIgKyBBSUludGVydmVudGlvblR5cGUpXG59XG5nbG9iYWxUaGlzLnVybF9kYXRhW1wiaW50ZXJ2ZW50aW9uX3R5cGVcIl0gPSBBSUludGVydmVudGlvblR5cGVcbmdsb2JhbFRoaXMudXJsX2RhdGFbXCJpbnRlcnZlbnRpb25fdGhyZXNob2xkXCJdID0gSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkXG5cbi8vIHZlcnNpb24gZm9yIHBhcGVyXG5pZiAoZ2xvYmFsVGhpcy51aWQuc3RhcnRzV2l0aChcImRlbW9fcGFwZXJcIikpIHtcbiAgICBNT0NLTU9ERSA9IHRydWVcbn0gZWxzZSB7XG5cbn1cbmNvbnNvbGUubG9nKFwiUnVubmluZyB3aXRoIFVJRFwiLCBnbG9iYWxUaGlzLnVpZClcbmxvYWRfZGF0YSgpLmNhdGNoKChfZXJyb3IpID0+IHtcbiAgICAvL2FsZXJ0KFwiSW52YWxpZCB1c2VyIGlkLlwiKVxuICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCB1c2VyIGlkLlwiKVxuICAgIGNvbnNvbGUubG9nKGdsb2JhbFRoaXMudWlkISlcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbn1cbikudGhlbigobmV3X2RhdGEpID0+IHtcbiAgICBkYXRhID0gbmV3X2RhdGFcbiAgICBpZiAoc3RhcnRPdmVycmlkZSAhPSBudWxsKSB7XG4gICAgICAgIHF1ZXN0aW9uX2kgPSBwYXJzZUludChzdGFydE92ZXJyaWRlKSAtIDFcbiAgICAgICAgY29uc29sZS5sb2coXCJTdGFydGluZyBmcm9tXCIsIHF1ZXN0aW9uX2kpXG4gICAgfVxuICAgIC8vIG5leHRfcXVlc3Rpb24oKVxuICAgIG5leHRfaW5zdHJ1Y3Rpb25zKDApXG4gICAgJChcIiNtYWluX2JveF9pbnN0cnVjdGlvbnNcIikuc2hvdygpXG4gICAgJChcIiNpbnN0cnVjdGlvbnNfYW5kX2RlY29yYXRpb25zXCIpLmhpZGUoKVxufSlcblxuY29uc29sZS5sb2coXCJTdGFydGluZyBzZXNzaW9uIHdpdGggVUlEOlwiLCBnbG9iYWxUaGlzLnVpZCEpXG5cbmxldCBhbGVydF9hY3RpdmUgPSBmYWxzZVxuZG9jdW1lbnQub252aXNpYmlsaXR5Y2hhbmdlID0gKCkgPT4ge1xuICAgIGlmICghYWxlcnRfYWN0aXZlKSB7XG4gICAgICAgIGNvdW50X2V4aXRlZF9wYWdlICs9IDFcbiAgICAgICAgYWxlcnRfYWN0aXZlID0gdHJ1ZVxuICAgICAgICBpZiAoIShnbG9iYWxUaGlzLnVpZCEuc3RhcnRzV2l0aChcImRlbW9cIikpICYmICEoREVWTU9ERSkpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIGRvbid0IGxlYXZlIHRoZSBwYWdlLiBJZiB5b3UgZG8gc28gYWdhaW4sIHdlIG1heSByZXN0cmljdCBwYXlpbmcgeW91LlwiKVxuICAgICAgICB9XG4gICAgICAgIGFsZXJ0X2FjdGl2ZSA9IGZhbHNlXG4gICAgfVxufSIsImZ1bmN0aW9uIHBhcmFtc1RvT2JqZWN0KGVudHJpZXMpIHtcbiAgY29uc3QgcmVzdWx0ID0ge31cbiAgLy8gZWFjaCAnZW50cnknIGlzIGEgW2tleSwgdmFsdWVdIHR1cHBsZVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBlbnRyaWVzKSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgeyBwYXJhbXNUb09iamVjdCB9Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU0VSVkVSX0xPR19ST09UIiwiTU9DS01PREUiLCJVU0VSX01PREVMU19ST09UIiwidXNlcl9kZWNpc2lvbl9tb2RlbCIsImRhdGEiLCJ0aW1lX3F1ZXN0aW9uX3N0YXJ0IiwidGltZV9maW5hbF9kZWNpc2lvbl9zdGFydCIsInRpbWVfdHJ1c3RfZGVjaXNpb25fc3RhcnQiLCJ0aW1lX2luaXRpYWxfY29uZmlkZW5jZV9zdGFydCIsInRpbWVfZmluYWxfY29uZmlkZW5jZV9zdGFydCIsInF1ZXN0aW9uX2kiLCJxdWVzdGlvbiIsImluaXRpYWxfdXNlcl9kZWNpc2lvbiIsImZpbmFsX3VzZXJfZGVjaXNpb24iLCJpbml0aWFsX3VzZXJfY29uZmlkZW5jZSIsImZpbmFsX3VzZXJfY29uZmlkZW5jZSIsImJhbGFuY2UiLCJ1c2VyX3JlcG9ydGVkX3RydXN0X2xldmVsIiwiYmV0X3ZhbF9yYXRpbyIsImluc3RydWN0aW9uX2kiLCJjb3VudF9leGl0ZWRfcGFnZSIsInVzZXJfY3VycmVudF9lc3RpbWF0ZWRfdHJ1c3RfbGV2ZWwiLCJhaV9hc3Npc3RhbmNlX2ludGVydmVudGlvbl9kYXRhIiwiaW50ZXJ2ZW50aW9uX2RldGFpbHMiLCJ0cnVzdF9lZmZlY3RfcHJlZGljdGlvbl9kYXRhIiwiZmluZG5ld2NvbmZfcmVzdWx0IiwiYXNzZXJ0IiwiY29uZGl0aW9uIiwibWVzc2FnZSIsIm5leHRfaW5zdHJ1Y3Rpb25zIiwiaW5jcmVtZW50IiwiJCIsImF0dHIiLCJyZW1vdmVBdHRyIiwic2hvdyIsInZhbCIsImhpZGUiLCJuZXh0X3F1ZXN0aW9uIiwiY2hpbGRyZW4iLCJlYWNoIiwiXyIsImVsIiwibWFrZV9pbml0aWFsX3VzZXJfZGVjaXNpb24iLCJvcHRpb24iLCJEYXRlIiwibm93IiwiZ2V0X2luaXRpYWxfdXNlcl9jb25maWRlbmNlIiwiY29uZl9sZXZlbCIsImFzeW5jIiwiY29uc29sZSIsImxvZyIsImRpc3BsYXllZF9haV9jb25maWRlbmNlIiwidXNlcl9jdXJyZW50X3RydXN0X2xldmVsIiwidXNlVXNlclJlcG9ydGVkVHJ1c3RWYWwiLCJBSUludGVydmVudGlvblR5cGUiLCJyZXN1bHQiLCJ1c2VyX2RlY2lzaW9uX21vZGVsX2lucHV0cyIsIk51bWJlciIsInJlcGxhY2UiLCJhamF4IiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2plY3QiLCJtb2RlbF9uYW1lIiwicGF5bG9hZCIsInR5cGUiLCJjb250ZW50VHlwZSIsImUiLCJ1c2VyX2RlY2lzaW9uX3ByZWRfcHJvYnMiLCJYIiwiU3RyaW5nIiwidG9GaXhlZCIsImFsZGlmZl9yZXN1bHQiLCJ1c2VyX2FpX2luaXRpYWxfYWdyZWVtZW50IiwidXNlcl9pbml0aWFsX2NvbmZpZGVuY2UiLCJhbF9kaWZmIiwidXNlcl9hY2NlcHRhbmNlX2xpa2VsaWhvb2RfbmV1dHJhbF90cnVzdCIsImludGVydmVudGlvbl9hcHBsaWVkIiwiSW50ZXJ2ZW50aW9uQUxEaWZmVGhyZXNob2xkIiwiZmluZG5ld2NvbmZfaW5wdXRfdmFyaWFibGVzIiwiYWlfY29uZmlkZW5jZSIsIm5ld19jb25maWRlbmNlIiwiTWF0aCIsIm1pbiIsIkludGVydmVudGlvbkZpeGVkQ29uZkluY3JlYXNlIiwiaHRtbCIsImdldF9haV9hc3Npc3RhbmNlIiwibWFrZV9maW5hbF91c2VyX2RlY2lzaW9uIiwiZ2V0X2ZpbmFsX3VzZXJfY29uZmlkZW5jZSIsImNvcnJlY3Rfb3B0aW9uIiwidXNlcl9pc19jb3JyZWN0IiwiYWlfaXNfY29ycmVjdCIsInRydXN0X2VmZmVjdF9pbnB1dHMiLCJ0cnVzdF9lZmZlY3QiLCJnZXRfdHJ1c3RfZWZmZWN0IiwidGV4dCIsInNob3dfcmVzdWx0IiwibGVuZ3RoIiwicmF0aW8xIiwicmF0aW8yIiwib24iLCJsb2dnZWRfZGF0YSIsImdsb2JhbFRoaXMiLCJ1cmxfZGF0YSIsInVpZCIsImxvZ19kYXRhIiwidGhpcyIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3RhcnRPdmVycmlkZSIsIlVJREZyb21VUkwiLCJlbnRyaWVzIiwidmFsdWUiLCJwYXJhbXNUb09iamVjdCIsInF1ZXVlX2lkIiwiZmxvb3IiLCJyYW5kb20iLCJwYWRTdGFydCIsIlVJRF9tYXliZSIsInByb21wdCIsImluY2x1ZGVzIiwiRXJyb3IiLCJzdGFydHNXaXRoIiwiZ2V0SlNPTiIsImxvYWRfZGF0YSIsImNhdGNoIiwiX2Vycm9yIiwicmVsb2FkIiwidGhlbiIsIm5ld19kYXRhIiwicGFyc2VJbnQiLCJhbGVydF9hY3RpdmUiLCJkb2N1bWVudCIsIm9udmlzaWJpbGl0eWNoYW5nZSIsImFsZXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==